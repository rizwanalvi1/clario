"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[4159,5398,9005,5508],{95539:(ne,$,s)=>{s.d($,{Z:()=>T});var y=s(50484),c=s(25387),N=s(89317),x=s(51431),W=s(80543),B=(s(14007),s(4703),s(65311),s(21070)),i=s(10141),h=s(81238);let C=class extends((0,c.J)(N.wq)){constructor(U){super(U),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,x.rJ)(this.value,this.unit,"milliseconds")}};(0,y._)([(0,B.J)(h.v,{nonNullable:!0})],C.prototype,"unit",void 0),(0,y._)([(0,W.Cb)({type:Number,json:{write:!0},nonNullable:!0})],C.prototype,"value",void 0),C=(0,y._)([(0,i.j)("esri.TimeInterval")],C);const T=C},52540:(ne,$,s)=>{s.d($,{z:()=>c});var y=s(39921);class c{constructor(x,W){this._storage=new y.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=x,this._storage.register(this),W&&this._storage.registerRemoveFunc("",W)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(x,W,R=1){this._storage.put(this,x,W,R,1)}pop(x){return this._storage.pop(this,x)}get(x){return this._storage.get(this,x)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(x){this._storage.maxSize=x}resetHitRate(){}}},39921:(ne,$,s)=>{s.d($,{WJ:()=>R,Xq:()=>W});var x,B,y=s(43029);(B=x||(x={}))[B.ALL=0]="ALL",B[B.SOME=1]="SOME";class W{constructor(i,h,C){this.name=i,this._storage=h,this.id=v+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),C&&(this._storage.registerRemoveFunc(this.id,C),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(i){return this._storage.getSize(this,i)}resetHitRate(){this._hit=this._miss=0}put(i,h,C,T=0){this._storage.put(this,i,h,C,T)}pop(i){const h=this._storage.pop(this,i);return void 0===h?++this._miss:++this._hit,h}get(i){const h=this._storage.get(this,i);return void 0===h?++this._miss:++this._hit,h}peek(i){return this._storage.peek(this,i)}updateSize(i,h,C){this._storage.updateSize(this,i,h,C)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class R{get size(){return this._size}constructor(i=10485760){this._maxSize=i,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new y.Z,this._users=new y.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(i){this._users.push(i)}deregister(i){this._users.removeUnordered(i)}registerRemoveFunc(i,h){this._removeFuncs.push([i,h])}deregisterRemoveFunc(i){this._removeFuncs.filterInPlace(h=>h[0]!==i)}get maxSize(){return this._maxSize}set maxSize(i){this._maxSize=Math.max(i,-1),this._checkSize()}getSize(i,h){return this._db.get(i.id+h)?.size??0}put(i,h,C,T,U){const O=this._db.get(h=i.id+h);if(O&&(this._size-=O.size,i.size-=O.size,this._db.delete(h),O.entry!==C&&this._notifyRemove(h,O.entry,O.size,x.ALL)),T>this._maxSize)return void this._notifyRemove(h,C,T,x.ALL);if(void 0===C)return void console.warn("Refusing to cache undefined entry ");if(!T||T<0)return console.warn(`Refusing to cache entry with size ${T} for key ${h}`),void this._notifyRemove(h,C,0,x.ALL);const Z=1+Math.max(U,-4)- -3;this._db.set(h,new K(C,T,Z)),this._size+=T,i.size+=T,this._checkSize()}updateSize(i,h,C,T){const U=this._db.get(h=i.id+h);if(U&&U.entry===C){for(this._size-=U.size,i.size-=U.size;T>this._maxSize;){const O=this._notifyRemove(h,C,T,x.SOME);if(!(null!=O&&O>0))return void this._db.delete(h);T=O}U.size=T,this._size+=T,i.size+=T,this._checkSize()}}pop(i,h){const C=this._db.get(h=i.id+h);if(C)return this._size-=C.size,i.size-=C.size,this._db.delete(h),++this._hit,C.entry;++this._miss}get(i,h){const C=this._db.get(h=i.id+h);if(void 0!==C)return this._db.delete(h),C.lives=C.lifetime,this._db.set(h,C),++this._hit,C.entry;++this._miss}peek(i,h){const C=this._db.get(i.id+h);return C?++this._hit:++this._miss,C?.entry}get performanceInfo(){const i={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},h={},C=new Array;this._db.forEach((O,Z)=>{const p=O.lifetime;C[p]=(C[p]||0)+O.size,this._users.forAll(_=>{const{id:g,name:f}=_;Z.startsWith(g)&&(h[f]=(h[f]||0)+O.size)})});const T={};this._users.forAll(O=>{const Z=O.name;"hitRate"in O&&"number"==typeof O.hitRate&&!isNaN(O.hitRate)&&O.hitRate>0?(h[Z]=h[Z]||0,T[Z]=Math.round(100*O.hitRate)+"%"):T[Z]="0%"});const U=Object.keys(h);U.sort((O,Z)=>h[Z]-h[O]),U.forEach(O=>i[O]=Math.round(h[O]/2**20)+"MB / "+T[O]);for(let O=C.length-1;O>=0;--O){const Z=C[O];Z&&(i["Priority "+(O+-3-1)]=Math.round(Z/this._size*100)+"%")}return i}resetStats(){this._hit=this._miss=0,this._users.forAll(i=>i.resetHitRate())}clear(i){const h=i.id;this._db.forEach((C,T)=>{T.startsWith(h)&&(this._size-=C.size,this._db.delete(T),this._notifyRemove(T,C.entry,C.size,x.ALL))}),i.size=0}clearAll(){this._db.forEach((i,h)=>this._notifyRemove(h,i.entry,i.size,x.ALL)),this._users.forAll(i=>i.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(i,h,C,T){let U;return this._removeFuncs.some(O=>{if(i.startsWith(O[0])){const Z=O[1](h,T,C);return"number"==typeof Z&&(U=Z),!0}return!1}),U}_checkSize(){this._users.forAll(i=>this._checkSizeLimits(i)),this._checkSizeLimits()}_checkSizeLimits(i){const h=i??this;if(h.maxSize<0||h.size<=h.maxSize)return;const C=i?.id;let T=!0;for(;T;){T=!1;for(const[U,O]of this._db)if(0===O.lifetime&&(!C||U.startsWith(C))){if(this._purgeItem(U,O,i),h.size<=.9*h.maxSize)return;T||=this._db.has(U)}}for(const[U,O]of this._db)if((!C||U.startsWith(C))&&(this._purgeItem(U,O,i),h.size<=.9*h.maxSize))return}_purgeItem(i,h,C=this._users.find(T=>i.startsWith(T.id))){if(this._db.delete(i),h.lives<=1){this._size-=h.size,C&&(C.size-=h.size);const T=this._notifyRemove(i,h.entry,h.size,x.SOME);null!=T&&T>0&&(this._size+=T,C&&(C.size+=T),h.lives=h.lifetime,h.size=T,this._db.set(i,h))}else--h.lives,this._db.set(i,h)}}let v=0;class K{constructor(i,h,C){this.entry=i,this.size=h,this.lifetime=C,this.lives=C}}},657:(ne,$,s)=>{s.d($,{$c:()=>U,Hg:()=>O,jW:()=>h,uD:()=>C});var y=s(73514),c=s(83944),N=s(49301);const x=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function W(p){return p instanceof y.Z}function R(p){return p instanceof c.Z?Object.keys(p.items):W(p)?(0,N.vw)(p).keys():p?Object.keys(p):[]}function v(p,_){return p instanceof c.Z?p.items[_]:p[_]}function B(p){return p?p.declaredClass:null}function i(p,_){const g=p.diff;if(g&&"function"==typeof g)return g(p,_);const f=R(p),L=R(_);if(0===f.length&&0===L.length)return;if(!f.length||!L.length||function K(p,_){return!(!Array.isArray(p)||!Array.isArray(_))&&p.length!==_.length}(p,_))return{type:"complete",oldValue:p,newValue:_};const I=L.filter(G=>!f.includes(G)),m=f.filter(G=>!L.includes(G)),P=f.filter(G=>L.includes(G)&&v(p,G)!==v(_,G)).concat(I,m).sort(),b=B(p);if(b&&x.has(b)&&P.length)return{type:"complete",oldValue:p,newValue:_};let z;const Q=W(p)&&W(_);for(const G of P){const j=v(p,G),w=v(_,G);let V;if((Q||"function"!=typeof j&&"function"!=typeof w)&&j!==w&&(null!=j||null!=w)){if(g&&g[G]&&"function"==typeof g[G])V=g[G]?.(j,w);else if(j instanceof Date&&w instanceof Date){if(j.getTime()===w.getTime())continue;V={type:"complete",oldValue:j,newValue:w}}else V="object"==typeof j&&"object"==typeof w&&B(j)===B(w)?i(j,w):{type:"complete",oldValue:j,newValue:w};null!=V&&(null!=z?z.diff[G]=V:z={type:"partial",diff:{[G]:V}})}}return z}function h(p,_){return C(p,_)}function C(p,_){if(null==p)return!1;const g=_.split(".");let f=p;for(const L of g){if("complete"===f.type)return!0;if("partial"!==f.type)return!1;{const I=f.diff[L];if(!I)return!1;f=I}}return!0}function U(p,_){if(!p)return!1;if("partial"===p.type){const g=Object.keys(p.diff);return 1===g.length&&g[0]===_}return!1}function O(p,_){if("function"!=typeof p&&"function"!=typeof _&&(null!=p||null!=_))return null==p||null==_||"object"==typeof p&&"object"==typeof _&&B(p)!==B(_)?{type:"complete",oldValue:p,newValue:_}:i(p,_)}},15398:(ne,$,s)=>{s.d($,{A4:()=>N,L9:()=>x,yV:()=>c});var y=s(25037);class c{}function N(R){return R instanceof y.ld?R===c.instance:"unknown"===R?.toString().toLowerCase()}function x(R){return N(R)?c.instance:R}c.instance=new y.vF("Etc/UTC")},66398:(ne,$,s)=>{function c(u){return u?{originPosition:"upper-left"===u.originPosition?"upperLeft":"lower-left"===u.originPosition?"lowerLeft":u.originPosition,scale:u.tolerance?[u.tolerance,u.tolerance,1,1]:[1,1,1,1],translate:null!=u.extent?[u.extent.xmin,u.extent.ymax,u.extent.zmin??0,u.extent.mmin??0]:[0,0,0,0]}:null}function x(u){if(function N(u){return"lowerLeft"===u.originPosition&&4===u.scale.length&&4===u.translate.length}(u))return u;const{originPosition:l,scale:d,translate:M}=u,F=d[1]??1;return{originPosition:"lowerLeft",scale:[d[0]??1,"lowerLeft"===l?F:-F,d[2]??1,d[3]??1],translate:[M[0]??0,M[1]??0,M[2]??0,M[3]??0]}}function p({scale:u,translate:l},d){return d*u[0]+l[0]}function _({scale:u,translate:l},d){return d*u[1]+l[1]}function g({scale:u,translate:l},d){return(d??0)*u[2]+l[2]}function f({scale:u,translate:l},d){return d?d*u[3]+l[3]:0}function L(u,l){return u&&l?b:u&&!l?m:!u&&l?P:I}s.d($,{G6:()=>Pe,Ie:()=>Me,J9:()=>me,RF:()=>ve,U1:()=>_e,vY:()=>c}),s(40637);const I=(u,l)=>{const d=new Array(l.length);if(!l.length)return d;const M=l[0];let S=p(u,M[0]),F=_(u,M[1]);d[0]=[S,F];const{scale:J,originPosition:D}=u,te=J[0],se="lowerLeft"===D?J[1]:-J[1];for(let Y=1;Y<l.length;Y++){const[ie,oe]=l[Y];S+=te*ie,F+=se*oe,d[Y]=[S,F]}return d},m=(u,l)=>{const d=new Array(l.length);if(!l.length)return d;const M=l[0];let S=p(u,M[0]),F=_(u,M[1]);d[0]=[S,F,g(u,M[2])];const{scale:J,originPosition:D}=u,te=J[0],se="lowerLeft"===D?J[1]:-J[1];for(let Y=1;Y<l.length;Y++){const[ie,oe,le]=l[Y];S+=te*ie,F+=se*oe,d[Y]=[S,F,g(u,le)]}return d},P=(u,l)=>{const d=new Array(l.length);if(!l.length)return d;const M=l[0];let S=p(u,M[0]),F=_(u,M[1]);d[0]=[S,F,f(u,M[2])];const{scale:J,originPosition:D}=u,te=J[0],se="lowerLeft"===D?J[1]:-J[1];for(let Y=1;Y<l.length;Y++){const[ie,oe,le]=l[Y];S+=te*ie,F+=se*oe,d[Y]=[S,F,f(u,le)]}return d},b=(u,l)=>{const d=new Array(l.length);if(!l.length)return d;const M=l[0];let S=p(u,M[0]),F=_(u,M[1]);d[0]=[S,F,g(u,M[2]),f(u,M[3])];const{scale:J,originPosition:D}=u,te=J[0],se="lowerLeft"===D?J[1]:-J[1];for(let Y=1;Y<l.length;Y++){const[ie,oe,le,ce]=l[Y];S+=te*ie,F+=se*oe,d[Y]=[S,F,g(u,le),f(u,ce)]}return d};function z(u,l,d){const M=new Array(d.length);for(let S=0;S<d.length;S++)M[S]=l(u,d[S]);return M}function ve(u,l,d){const M=x(u);return l.x=function W({scale:u,translate:l},d){return Math.round((d-l[0])/u[0])}(M,d.x),l.y=function R({scale:u,translate:l},d){return Math.round((d-l[1])/u[1])}(M,d.y),null!=d.z&&(l.z=function v({scale:u,translate:l},d){return Math.round(((d??0)-l[2])/u[2])}(M,d.z)),null!=d.m&&(l.m=function K({scale:u,translate:l},d){return d?Math.round((d-l[3])/u[3]):0}(M,d.m)),l}function me(u,l,d,M=d?.hasZ??!1,S=d?.hasM??!1){if(null!=d){const F=x(u);l.points=L(M,S)(F,d.points),l.hasZ=M,l.hasM=S}return l}function _e(u,l,d,M=null!=d?.z,S=null!=d?.m){if(null==d)return l;const F=x(u);return l.x=p(F,d.x),l.y=_(F,d.y),M&&(l.z=g(F,d.z)),S&&(l.m=f(F,d.m)),l}function Me(u,l,d,M=d?.hasZ??!1,S=d?.hasM??!1){if(null!=d){const F=x(u);l.rings=z(F,L(M,S),d.rings),l.hasZ=M,l.hasM=S}return l}function Pe(u,l,d,M=d?.hasZ??!1,S=d?.hasM??!1){if(null!=d){const F=x(u);l.paths=z(F,L(M,S),d.paths),l.hasZ=M,l.hasM=S}return l}},47899:(ne,$,s)=>{s.r($),s.d($,{default:()=>Je});var y=s(15861),c=s(50484),N=s(66476),x=s(83944),W=s(57964),R=s(8611),v=s(3233),K=s(79412),B=s(6785),i=s(80543),U=(s(14007),s(4703),s(65311),s(10141)),O=s(95060),Z=s(1258),p=s(52540),_=s(13649),g=s(77675),f=s(45974),L=s(1535),I=s(19855),m=s(29717),P=s(56956),b=s(35469),z=s(46169);let Q=class extends((0,m.M)((0,I.h7)((0,v.R)(O.Z)))){constructor(a){super(a),this._layerCache=new p.z(20,E=>E.destroy()),this._oidToReference=new _.Z,this._layerToReference=new Map,this.layers=new x.Z,this.maximumVisibleSublayers=10,this.opacity=1,this.parent=null,this.persistenceEnabled=!0,this.title="Layers in view",this.type="catalog-dynamic-group",this.visible=!0}initialize(){this.addHandles([this.layers.on("after-add",({item:a})=>{a.parent=this}),this.layers.on("after-remove",({item:a})=>{a.parent=null}),(0,g.YP)(()=>this._orderBy,()=>{this._updateLayerSortValues(),this._sortAllLayers()})])}load(a){return this.addResolvingPromise(this.parent.load()),Promise.resolve(this)}destroy(){this._layerCache.destroy(),this._oidToReference.clear(),this._layerToReference.clear()}get _orderBy(){return this.parent?this.parent.orderBy?.find(a=>!a.valueExpression&&a.field)??new b.Z({field:this.parent.objectIdField}):null}get _referenceComparator(){const a=this._orderBy;if(!this.parent||!a)return()=>0;const E=this.parent.fieldsIndex.get(a.field),A=(0,z.Lq)(E?.toJSON().type,"descending"===a.order),H=(0,z.Lq)("esriFieldTypeOID","descending"===a.order);return(ee,re)=>A(re.sortValue,ee.sortValue)||H(re.objectId,ee.objectId)}get fullExtent(){return this.parent?.fullExtent??null}get updating(){return(0,R.oE)(this._oidToReference,a=>null!=a.pending)}acquireLayer(a){if(this.destroyed)return(0,Z.kB)();const E=this._getLayerReference(a);return E.count++,(0,Z.kB)(()=>{E.count--,E.count||this._destroyLayerReference(E)})}_getLayerReference(a){const E=a.getObjectId();return(0,R.s1)(this._oidToReference,E,()=>{const A=a.getObjectId(),H=`${A}`,ee=a.getAttribute(this.parent.itemSourceField),re=new j(a,A,ee),de=this._layerCache.pop(H);return de?(this._addLayer(re,de),re):(re.pending=this.parent.createLayerFromFootprint(a).then(ue=>{re.count?this._addLayer(re,ue):(this.destroyed||this._layerCache.get(H)||this._layerCache.put(H,ue),re.layer=null)}).catch(()=>{}).finally(()=>{re.pending=null}),re)})}_destroyLayerReference(a){a.layer&&(this._layerToReference.delete(a.layer),this.layers.remove(a.layer),this.destroyed?a.layer.destroy():this._layerCache.put(`${a.objectId}`,a.layer),a.layer=null),this._oidToReference.delete(a.objectId)}_addLayer(a,E){a.layer=E,E.persistenceEnabled=!1,this._layerToReference.set(E,a),this._updateLayerSortValue(a),this.layers.add(E),this._sortAllLayers()}_updateLayerSortValues(){for(const a of this._layerToReference.values())this._updateLayerSortValue(a)}_updateLayerSortValue(a){this._orderBy&&(a.sortValue=a.footprint.getAttribute(this._orderBy.field))}_sortAllLayers(){this.layers.sort((a,E)=>this._referenceComparator(this._layerToReference.get(a),this._layerToReference.get(E)))}};(0,c._)([(0,i.Cb)()],Q.prototype,"_orderBy",null),(0,c._)([(0,i.Cb)({readOnly:!0})],Q.prototype,"_referenceComparator",null),(0,c._)([(0,i.Cb)({type:["show","hide","hide-children"],json:{write:!0}})],Q.prototype,"listMode",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],Q.prototype,"fullExtent",null),(0,c._)([(0,i.Cb)({type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],Q.prototype,"id",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],Q.prototype,"layers",void 0),(0,c._)([(0,i.Cb)({type:L.z8,range:{min:0,max:50},json:{write:!0,default:10}})],Q.prototype,"maximumVisibleSublayers",void 0),(0,c._)([(0,i.Cb)(P.Oh)],Q.prototype,"opacity",void 0),(0,c._)([(0,i.Cb)({clonable:!1})],Q.prototype,"parent",void 0),(0,c._)([(0,i.Cb)({type:String,nonNullable:!0,json:{write:{ignoreOrigin:!0,isRequired:!0}}})],Q.prototype,"title",void 0),(0,c._)([(0,i.Cb)({json:{read:!1}})],Q.prototype,"type",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],Q.prototype,"updating",null),(0,c._)([(0,i.Cb)({type:Boolean,json:{name:"visibility",write:!0}})],Q.prototype,"visible",void 0),Q=(0,c._)([(0,U.j)("esri.layers.catalog.CatalogDynamicGroupLayer")],Q);const G=Q;class j{constructor(E,A,H){this.footprint=E,this.objectId=A,this.itemSource=H,this.count=0,this.layer=null,this.sortValue=void 0,this._pending=(0,f.t)(null)}get pending(){return this._pending.value}set pending(E){this._pending.value=E}}var w=s(62691),Oe=(s(36699),s(12610),s(53722),s(82752),s(28999),s(38748),s(50923)),me=(s(42212),s(91963),s(41007)),_e=s(34222),Me=s(60301),Pe=s(63167),u=s(12621),l=s(85295),d=s(40591),M=s(75421),S=s(33331),F=s(89481);let D=class extends((0,m.M)((0,u.b)((0,I.h7)((0,v.R)(O.Z))))){constructor(a){super(a),this.charts=null,this.editingEnabled=!0,this.elevationInfo=null,this.formTemplate=null,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.opacity=1,this.parent=null,this.persistenceEnabled=!0,this.popupEnabled=!0,this.popupTemplate=null,this.title="Footprints",this.type="catalog-footprint",this.visible=!0}load(a){return this.addResolvingPromise(this._doLoad(a)),Promise.resolve(this)}_doLoad(a){var E=this;return(0,y.Z)(function*(){yield E.parent.load(a),(0,l.YN)(E.renderer,E.fieldsIndex),E.addHandles([E.parent.on("apply-edits",A=>E.emit("apply-edits",A)),E.parent.on("edits",A=>E.emit("edits",A)),E.parent.on("refresh",A=>E.emit("refresh",A))])})()}get apiKey(){return this.parent?.apiKey}get capabilities(){return this.parent?.capabilities}get customParameters(){return this.parent?.customParameters}get dateFieldsTimeZone(){return this.parent?.dateFieldsTimeZone??null}get datesInUnknownTimezone(){return this.parent?.datesInUnknownTimezone??!1}get definitionExpression(){return this.parent?.definitionExpression}get editingInfo(){return this.parent?.editingInfo}get effectiveCapabilities(){return this.parent?.effectiveCapabilities}get createQueryVersion(){return this.parent?.createQueryVersion}get defaultPopupTemplate(){return this.createPopupTemplate()}get displayField(){return this.parent?.displayField}get effectiveEditingEnabled(){return!1}get fields(){return this.parent?.fields}get fieldsIndex(){return this.parent?.fieldsIndex}get fullExtent(){return this.parent?.fullExtent}get geometryFieldsInfo(){return this.parent?.geometryFieldsInfo}get geometryType(){return this.parent?.geometryType}get globalIdField(){return this.parent?.globalIdField}get hasM(){return this.parent?.hasM??!1}get hasZ(){return this.parent?.hasZ??!1}get objectIdField(){return this.parent?.objectIdField}get orderBy(){return this.parent?.orderBy??null}get outFields(){return this.parent?.outFields}get parsedUrl(){return this.parent?.parsedUrl??null}get preferredTimeZone(){return this.parent?.preferredTimeZone??null}set renderer(a){(0,l.YN)(a,this.fieldsIndex),this._set("renderer",a)}get renderer(){return this._isOverridden("renderer")?this._get("renderer"):function J(){const a=new F.Z({style:"solid",color:[0,0,0,0],outline:{style:"solid",color:[96,96,96,.75],width:.75}});return new Oe.Z({symbol:a})}()}get returnM(){return this.parent?.returnM}get returnZ(){return this.parent?.returnZ}get source(){return this.parent?.source}get timeExtent(){return this.parent?.timeExtent}get timeInfo(){return this.parent?.timeInfo}get timeOffset(){return this.parent?.timeOffset}get typeIdField(){return this.parent?.typeIdField}get types(){return this.parent?.types}get useViewTime(){return this.parent?.useViewTime??!0}get version(){return this.parent?.version}applyEdits(a,E){var A=this;return(0,y.Z)(function*(){return yield A.load(),A.parent.applyEdits(a,E)})()}createPopupTemplate(a){return(0,S.eZ)({fields:this.fields,objectIdField:this.objectIdField,title:this.title},a)}createQuery(){return this.parent?.createQuery()}getField(a){return this.parent?.getField(a)}getFieldDomain(a,E){return this.parent?.getFieldDomain(a,E)}queryExtent(a,E){var A=this;return(0,y.Z)(function*(){return yield A.load(),A.parent.queryExtent(a,E)})()}queryFeatures(a,E){var A=this;return(0,y.Z)(function*(){return yield A.load(),A.parent.queryFeatures(a,E)})()}queryFeatureCount(a,E){var A=this;return(0,y.Z)(function*(){return yield A.load(),A.parent.queryFeatureCount(a,E)})()}queryObjectIds(a,E){var A=this;return(0,y.Z)(function*(){return yield A.load(),A.parent.queryObjectIds(a,E)})()}};(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"apiKey",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"capabilities",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"customParameters",null),(0,c._)([(0,i.Cb)()],D.prototype,"dateFieldsTimeZone",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"datesInUnknownTimezone",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"definitionExpression",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"editingInfo",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"effectiveCapabilities",null),(0,c._)([(0,i.Cb)({json:{origins:{"web-scene":{write:!1}},write:!0}})],D.prototype,"charts",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"createQueryVersion",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"defaultPopupTemplate",null),(0,c._)([(0,i.Cb)()],D.prototype,"displayField",null),(0,c._)([(0,i.Cb)({type:Boolean,nonNullable:!0,json:{name:"enableEditing",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"editingEnabled",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"effectiveEditingEnabled",null),(0,c._)([(0,i.Cb)((()=>{const a=(0,_e.d9)(P.PV);return a.json.origins["web-map"]={read:!1,write:!1},a})())],D.prototype,"elevationInfo",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"fields",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"fieldsIndex",null),(0,c._)([(0,i.Cb)({type:Pe.Z,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"formTemplate",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"fullExtent",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"geometryFieldsInfo",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"geometryType",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"globalIdField",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"hasM",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"hasZ",null),(0,c._)([(0,i.Cb)({type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],D.prototype,"id",void 0),(0,c._)([(0,i.Cb)({type:[d.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:M.r,write:!0}})],D.prototype,"labelingInfo",void 0),(0,c._)([(0,i.Cb)(P.iR)],D.prototype,"labelsVisible",void 0),(0,c._)([(0,i.Cb)(P.rn)],D.prototype,"legendEnabled",void 0),(0,c._)([(0,i.Cb)({type:["show","hide"],json:{write:!0}})],D.prototype,"listMode",void 0),(0,c._)([(0,i.Cb)((()=>{const a=(0,_e.d9)(P.u1);return a.json.origins.service.read=!1,a})())],D.prototype,"maxScale",void 0),(0,c._)([(0,i.Cb)((()=>{const a=(0,_e.d9)(P.rO);return a.json.origins.service.read=!1,a})())],D.prototype,"minScale",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"objectIdField",null),(0,c._)([(0,i.Cb)(P.Oh)],D.prototype,"opacity",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"orderBy",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"outFields",null),(0,c._)([(0,i.Cb)({clonable:!1})],D.prototype,"parent",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"parsedUrl",null),(0,c._)([(0,i.Cb)(P.C_)],D.prototype,"popupEnabled",void 0),(0,c._)([(0,i.Cb)({type:w.Z,json:{name:"popupInfo",write:!0}})],D.prototype,"popupTemplate",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"preferredTimeZone",null),(0,c._)([(0,i.Cb)({types:me.A,json:{origins:{"web-scene":{types:me.o}},name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(a,E){return{ignoreOrigin:this.originIdOf(E)<Me.s3.PORTAL_ITEM}}}}})],D.prototype,"renderer",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"returnM",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"returnZ",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"source",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"timeExtent",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"timeInfo",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"timeOffset",null),(0,c._)([(0,i.Cb)({type:String,nonNullable:!0,json:{write:{ignoreOrigin:!0,isRequired:!0}}})],D.prototype,"title",void 0),(0,c._)([(0,i.Cb)({json:{read:!1}})],D.prototype,"type",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"typeIdField",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"types",null),(0,c._)([(0,i.Cb)({readOnly:!0})],D.prototype,"useViewTime",null),(0,c._)([(0,i.Cb)({type:Boolean,json:{name:"visibility",write:!0}})],D.prototype,"visible",void 0),D=(0,c._)([(0,U.j)("esri.layers.catalog.CatalogFootprintLayer")],D);const te=D;var se=s(95365),Y=s(29674),ie=s(4257),oe=s(27426),le=s(92344),ce=s(87906),pe=s(80099),he=s(32250),Fe=s(70509),Ue=s(25836),Ae=s(12522),Ee=s(78818),Be=s(50243),We=s(27969),Ze=s(79936),Ke=s(83739),Re=s(61018),ze=s(27835),we=s(71438),ye=s(91866);const Ce=(0,We.v)();function Le(a,E,A,H){const ee=a.write({},H);(function Ge(a){if(null==a)return!0;const E=Object.keys(a);return!E.length||1===E.length&&"id"===E[0]})(ee)||(E[A]=ee)}let k=class extends((0,ce.B)((0,le.o1)((0,I.h7)((0,he.c)((0,Ae.n)((0,m.M)((0,Ue.Q)((0,ie.Y)((0,pe.q)((0,Fe.I)((0,v.R)((0,oe.N)((0,Y.V)(O.Z)))))))))))))){constructor(a){super(a),this._portals=new Map,this._layerToFootprint=new WeakMap,this.drawOrderField="cd_draworder",this.dynamicGroupLayer=new G({parent:this}),this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.footprintLayer=new te({parent:this}),this.itemNameField="cd_itemname",this.itemSourceField="cd_itemsource",this.itemTypeField="cd_itemtype",this.layers=new x.Z([this.dynamicGroupLayer,this.footprintLayer]),this.maxScaleField="cd_maxscale",this.minScaleField="cd_minscale",this.orderBy=null,this.outFields=null,this.supportedSourceTypes=new Set(["Catalog Layer"]),this.source=new se.default({layer:this,supportedSourceTypes:this.supportedSourceTypes}),this.type="catalog",this.typeIdField=null,this.types=null}load(a){var E=this;const A=null!=a?a.signal:null,H=this.loadFromPortal({supportedTypes:["Feature Service"]},a).catch(K.r9).then((0,y.Z)(function*(){const{url:ee,source:re,portalItem:de}=E;if(!ee)throw new W.Z("catalog-layer:missing-url","Catalog layer must be created with a url");if(null==E.layerId){const fe=yield E._fetchFirstValidLayerId(A);if(null==fe)throw new W.Z("catalog-layer:missing-layerId","There is no Catalog Layer in the service",{service:ee});E.layerId=fe}yield re.load({signal:A});const{sourceJSON:ue}=re;ue&&(E.sourceJSON=ue,E.read(ue,{origin:"service",portalItem:de,portal:de?.portal,url:E.parsedUrl}))})).then(()=>{const ee=[this.itemNameField,this.itemSourceField,this.itemTypeField,this.minScaleField,this.maxScaleField],re=ee.filter(de=>!this.fieldsIndex.has(de));if(re.length)throw new W.Z("catalog-layer:missing-fields","There are missing fields to operate properly",{requiredFields:ee,missingFields:re})}).then(()=>(0,Ee.nU)(this,"load",a));return this.addResolvingPromise(H),Promise.resolve(this)}destroy(){this.footprintLayer.destroy(),this.dynamicGroupLayer.destroy();for(const a of this._portals.values())a.destroy();this._portals.clear()}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&null!=this.capabilities&&this.capabilities.operations.supportsEditing&&this.userHasEditingPrivileges}get effectiveEditingEnabled(){return!1}get parsedUrl(){const a=(0,B.mN)(this.url);return null!=a&&null!=this.layerId&&(a.path=(0,B.v_)(a.path,this.layerId.toString())),a}applyEdits(a,E){var A=this;return(0,y.Z)(function*(){return(0,Ee.Jj)(A,a,E)})()}on(a,E){return super.on(a,E)}createLayerFromFootprint(a){var E=this;return(0,y.Z)(function*(){const A=yield E._createLayer(a);return E._configureLayer(A,a),E._layerToFootprint.set(A,a),A})()}createFootprintFromLayer(a){return this._layerToFootprint.get(a)?.clone()}createQuery(){const a=new ye.Z,E=this.capabilities?.query;a.returnGeometry=!0,E&&(a.compactGeometryEnabled=E.supportsCompactGeometry,a.defaultSpatialReferenceEnabled=E.supportsDefaultSpatialReference),a.outFields=["*"];const{timeOffset:A,timeExtent:H}=this;return a.timeExtent=null!=A&&null!=H?H.offset(-A.value,A.unit):H||null,a.where=this.definitionExpression||"1=1",a}getFeatureType(a){return(0,Ee.KL)(this.types,this.typeIdField,a)}getField(a){return this.fieldsIndex.get(a)}getFieldDomain(a,E){const A=E?.feature,H=this.getFeatureType(A);if(H){const ee=H.domains&&H.domains[a];if(ee&&"inherited"!==ee.type)return ee}return this.getField(a)?.domain}hasDataChanged(){var a=this;return(0,y.Z)(function*(){return(0,Ee.gG)(a)})()}queryFeatures(a,E){var A=this;return(0,y.Z)(function*(){const H=yield A.load(),ee=yield H.source.queryFeatures(ye.Z.from(a)??H.createQuery(),E);if(ee?.features)for(const re of ee.features)re.layer=re.sourceLayer=H.footprintLayer;return ee})()}queryObjectIds(a,E){var A=this;return(0,y.Z)(function*(){return(yield A.load()).source.queryObjectIds(ye.Z.from(a)??A.createQuery(),E)})()}queryFeatureCount(a,E){var A=this;return(0,y.Z)(function*(){return(yield A.load()).source.queryFeatureCount(ye.Z.from(a)??A.createQuery(),E)})()}queryExtent(a,E){var A=this;return(0,y.Z)(function*(){return(yield A.load()).source.queryExtent(ye.Z.from(a)??A.createQuery(),E)})()}serviceSupportsSpatialReference(a){return this.loaded&&(0,Ke.D)(this,a)}read(a,E){if(super.read(a,E),a){const{footprintLayer:A,dynamicGroupLayer:H}=a;A&&this.footprintLayer.read(A,E),H&&this.dynamicGroupLayer.read(H,E)}}_fetchFirstValidLayerId(a){var E=this;return(0,y.Z)(function*(){const{data:A}=yield(0,N.Z)(E.url,{query:{f:"json",...E.customParameters,token:E.apiKey},responseType:"json",signal:a});if(Array.isArray(A?.layers))return A.layers.find(({type:H})=>E.supportedSourceTypes.has(H))?.id})()}_createLayer(a){var E=this;return(0,y.Z)(function*(){const A=a.getAttribute(E.itemSourceField);if(!A)throw new W.Z("catalog-layer:item-source-missing",`The footprint is missing the "${E.itemSourceField}" attribute`);const H=JSON.parse(A);if(function Ne(a){return"object"==typeof a&&null!=a&&"itemId"in a&&"portalUrl"in a}(H)){const{itemId:ee,portalUrl:re}=H,de=(0,we.c_)(re),ue=E.portalItem?.portal,fe=Re.Z.getDefault();let ge,je=!0;ue&&(0,B.tm)(re,ue.url)?ge=ue:(0,B.tm)(re,fe.url)?ge=fe:(ge=(0,R.s1)(E._portals,de,()=>new Re.Z({url:de})),je=!1);const xe=yield O.Z.fromPortalItem(new ze.default({id:ee,portal:ge}));return je||(yield Ie(xe)),xe}return function Ve(a){return"object"==typeof a&&null!=a&&"url"in a}(H)?O.Z.fromArcGISServerUrl({url:H.url}):new(yield Ze.T.UnsupportedLayer())})()}_configureLayer(a,E){const A=E.getAttribute(this.itemNameField);A&&(a.title=A);const H=E.getAttribute(this.maxScaleField);null!=H&&"maxScale"in a&&(a.maxScale=H);const ee=E.getAttribute(this.minScaleField);null!=ee&&"minScale"in a&&(a.minScale=ee)}};function Ie(a){return De.apply(this,arguments)}function De(){return(De=(0,y.Z)(function*(a){if("portalItem"in a&&a.portalItem){try{yield a.load()}catch{}a.portalItem=null,"group"===a.type&&(yield Promise.allSettled([...a.layers.map(E=>Ie(E)),...a.tables.map(E=>Ie(E))]))}})).apply(this,arguments)}(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"createQueryVersion",null),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"drawOrderField",void 0),(0,c._)([(0,i.Cb)({type:G,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Le}}})],k.prototype,"dynamicGroupLayer",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"editingEnabled",null),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"effectiveEditingEnabled",null),(0,c._)([(0,i.Cb)({json:{origins:{"web-scene":{name:"layerDefinition.elevationInfo",read:!1,write:!1}}}})],k.prototype,"elevationInfo",void 0),(0,c._)([(0,i.Cb)({...Ce.fields,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],k.prototype,"fields",void 0),(0,c._)([(0,i.Cb)(Ce.fieldsIndex)],k.prototype,"fieldsIndex",void 0),(0,c._)([(0,i.Cb)({json:{origins:{"web-scene":{name:"layerDefinition.floorInfo",read:!1,write:!1}}}})],k.prototype,"floorInfo",void 0),(0,c._)([(0,i.Cb)({type:te,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Le}}})],k.prototype,"footprintLayer",void 0),(0,c._)([(0,i.Cb)(P.id)],k.prototype,"id",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"itemNameField",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"itemSourceField",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"itemTypeField",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"layers",void 0),(0,c._)([(0,i.Cb)({type:["show","hide","hide-children"]})],k.prototype,"listMode",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"maxScaleField",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"minScaleField",void 0),(0,c._)([(0,i.Cb)({value:"CatalogLayer",type:["CatalogLayer"]})],k.prototype,"operationalLayerType",void 0),(0,c._)([(0,i.Cb)({json:{origins:{"web-scene":{name:"layerDefinition.orderBy",write:!0,read:!0}}}})],k.prototype,"orderBy",void 0),(0,c._)([(0,i.Cb)(Ce.outFields)],k.prototype,"outFields",void 0),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"parsedUrl",null),(0,c._)([(0,i.Cb)({readOnly:!0})],k.prototype,"source",void 0),(0,c._)([(0,i.Cb)({json:{read:!1}})],k.prototype,"type",void 0),(0,c._)([(0,i.Cb)({type:String})],k.prototype,"typeIdField",void 0),(0,c._)([(0,i.Cb)({type:[Be.Z]})],k.prototype,"types",void 0),k=(0,c._)([(0,U.j)("esri.layers.CatalogLayer")],k);const Je=k},12621:(ne,$,s)=>{s.d($,{b:()=>i,d:()=>B});var y=s(50484),c=s(80543),R=(s(14007),s(4703),s(65311),s(10141));const K={write:{allowNull:!0}},B={type:s(27173).Z,json:{origins:{"web-map":K,"portal-item":K}}},i=h=>{let C=class extends h{constructor(){super(...arguments),this.featureEffect=null}};return(0,y._)([(0,c.Cb)(B)],C.prototype,"featureEffect",void 0),C=(0,y._)([(0,R.j)("esri.layers.mixins.FeatureEffectLayer")],C),C}},32250:(ne,$,s)=>{s.d($,{c:()=>C,l:()=>h});var y=s(50484),c=s(71763),N=s(80543),v=(s(14007),s(4703),s(65311),s(10141)),K=s(35469);const h={type:[K.Z],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:function B(T,U,O){if(!T)return null;const Z=T.find(_=>!!_.field);if(!Z)return null;const p=new K.Z;return p.read(Z,O),[p]}},write:{writer:function i(T,U,O,Z){const p=T.find(_=>!!_.field);p&&(0,c.RB)(O,[p.toJSON()],U)}}}},C=T=>{let U=class extends T{constructor(){super(...arguments),this.orderBy=null}};return(0,y._)([(0,N.Cb)(h)],U.prototype,"orderBy",void 0),U=(0,y._)([(0,v.j)("esri.layers.mixins.OrderedLayer")],U),U}},12522:(ne,$,s)=>{s.d($,{I:()=>U,n:()=>O});var y=s(50484),c=s(34411),N=s(95539),x=s(80543),K=(s(14007),s(4703),s(65311),s(62185)),B=s(10141),i=s(76215),h=s(85295),C=s(97403),T=s(81238);const U={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:i.C}}},O=Z=>{let p=class extends Z{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(_,g){const f=g.timeInfo.exportOptions;if(!f)return null;const L=f.timeOffset,I=T.v.fromJSON(f.timeOffsetUnits);return L&&I?new N.Z({value:L,unit:I}):null}set timeInfo(_){(0,h.UF)(_,this.fieldsIndex),this._set("timeInfo",_)}};return(0,y._)([(0,x.Cb)({type:c.Z,json:{write:!1}})],p.prototype,"timeExtent",void 0),(0,y._)([(0,x.Cb)({type:N.Z})],p.prototype,"timeOffset",void 0),(0,y._)([(0,K.r)("service","timeOffset",["timeInfo.exportOptions"])],p.prototype,"readOffset",null),(0,y._)([(0,x.Cb)({value:null,type:C.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],p.prototype,"timeInfo",null),(0,y._)([(0,x.Cb)(U)],p.prototype,"useViewTime",void 0),p=(0,y._)([(0,B.j)("esri.layers.mixins.TemporalLayer")],p),p}},27173:(ne,$,s)=>{s.d($,{Z:()=>p});var C,y=s(50484),c=s(57964),N=s(89317),x=s(71763),W=s(80543),B=(s(14007),s(4703),s(65311),s(10141)),i=s(53984),h=s(74321);const T={read:{reader:i.ij},write:{writer:i.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},U={read:{reader:i.ij},write:{writer:i.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},O={name:"showExcludedLabels",default:!0};let Z=C=class extends N.wq{constructor(_){super(_),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(_,g){const f=super.write(_,g);if(g?.origin){if(f.filter){const L=Object.keys(f.filter);if(L.length>1||"where"!==L[0])return g.messages?.push(new c.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:g.layer,effect:this})),null}if("showExcludedLabels"in f)return g.messages?.push(new c.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:g.layer,effect:this})),null}return f}clone(){return new C({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,y._)([(0,W.Cb)({type:h.Z,json:{write:{allowNull:!0,writer(_,g,f,L){const I=_?.write({},L);I&&0!==Object.keys(I).length?(0,x.RB)(f,I,g):(0,x.RB)(f,null,g)}}}})],Z.prototype,"filter",void 0),(0,y._)([(0,W.Cb)({json:{read:i.ij,write:{writer:i.cW,allowNull:!0},origins:{"web-map":T,"portal-item":T}}})],Z.prototype,"includedEffect",void 0),(0,y._)([(0,W.Cb)({json:{read:i.ij,write:{writer:i.cW,allowNull:!0},origins:{"web-map":U,"portal-item":U}}})],Z.prototype,"excludedEffect",void 0),(0,y._)([(0,W.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":O,"portal-item":O}}})],Z.prototype,"excludedLabelsVisible",void 0),Z=C=(0,y._)([(0,B.j)("esri.layers.support.FeatureEffect")],Z);const p=Z},74321:(ne,$,s)=>{s.d($,{Z:()=>Z});var C,y=s(50484),c=s(2189),N=s(34411),x=s(84303),W=s(89317),R=s(34222),v=s(80543),i=(s(14007),s(4703),s(10141)),h=s(91866);const T=new x.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),U=new x.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let O=C=class extends W.wq{constructor(p){super(p),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(p={}){const{where:_,geometry:g,spatialRelationship:f,timeExtent:L,objectIds:I,units:m,distance:P}=this;return new h.Z({geometry:(0,R.d9)(g),objectIds:(0,R.d9)(I),spatialRelationship:f,timeExtent:(0,R.d9)(L),where:_,units:m,distance:P,...p})}clone(){const{where:p,geometry:_,spatialRelationship:g,timeExtent:f,objectIds:L,units:I,distance:m}=this;return new C({geometry:(0,R.d9)(_),objectIds:(0,R.d9)(L),spatialRelationship:g,timeExtent:(0,R.d9)(f),where:p,units:I,distance:m})}};(0,y._)([(0,v.Cb)({type:String,json:{write:!0}})],O.prototype,"where",void 0),(0,y._)([(0,v.Cb)({types:c.qM,json:{write:!0}})],O.prototype,"geometry",void 0),(0,y._)([(0,v.Cb)({type:T.apiValues,json:{name:"spatialRel",read:{reader:T.read},write:{allowNull:!1,writer:T.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],O.prototype,"spatialRelationship",void 0),(0,y._)([(0,v.Cb)({type:Number,json:{write:{overridePolicy(p){return{enabled:null!=p&&null!=this.geometry}}}}})],O.prototype,"distance",void 0),(0,y._)([(0,v.Cb)({type:[Number],json:{write:!0}})],O.prototype,"objectIds",void 0),(0,y._)([(0,v.Cb)({type:U.apiValues,json:{read:U.read,write:{writer:U.write,overridePolicy(p){return{enabled:null!=p&&null!=this.geometry}}}}})],O.prototype,"units",void 0),(0,y._)([(0,v.Cb)({type:N.Z,json:{write:!0}})],O.prototype,"timeExtent",void 0),O=C=(0,y._)([(0,i.j)("esri.layers.support.FeatureFilter")],O);const Z=O},50243:(ne,$,s)=>{s.d($,{Z:()=>U});var y=s(50484),c=s(25387),N=s(89317),x=s(80543),K=(s(14007),s(4703),s(65311),s(62185)),B=s(10141),i=s(7547),h=s(59300),C=s(30457);let T=class extends((0,c.J)(N.wq)){constructor(O){super(O),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(O){const Z={};for(const p of Object.keys(O))Z[p]=(0,h.im)(O[p]);return Z}writeDomains(O,Z){const p={};for(const _ of Object.keys(O))O[_]&&(p[_]=O[_]?.toJSON());Z.domains=p}};(0,y._)([(0,x.Cb)({json:{write:!0}})],T.prototype,"id",void 0),(0,y._)([(0,x.Cb)({json:{write:!0}})],T.prototype,"name",void 0),(0,y._)([(0,x.Cb)({json:{write:!0}})],T.prototype,"domains",void 0),(0,y._)([(0,K.r)("domains")],T.prototype,"readDomains",null),(0,y._)([(0,i.c)("domains")],T.prototype,"writeDomains",null),(0,y._)([(0,x.Cb)({type:[C.Z],json:{write:!0}})],T.prototype,"templates",void 0),T=(0,y._)([(0,B.j)("esri.layers.support.FeatureType")],T);const U=T},40100:(ne,$,s)=>{s.d($,{Z:()=>T});var y=s(57964),c=s(89317),N=s(4703),x=s(8611),W=s(15398),R=s(85295),v=s(764),K=s(25037);const C=new Map;class T{static fromJSON(g){return new T(g.fields,g.timeZoneByFieldName)}static fromLayer(g){return new T(g.fields??[],p(g))}static fromLayerJSON(g){return new T(g.fields??[],p(g))}constructor(g=[],f){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=g||[],this._timeZoneByFieldName=f?new Map(f):null;const L=[];for(const I of this.fields){const m=I?.name,P=O(m);if(m&&P){const b=U(m);this._fieldsMap.set(m,I),this._fieldsMap.set(b,I),this._normalizedFieldsMap.set(P,I),L.push(`${b}:${I.type}:${this._timeZoneByFieldName?.get(m)}`),(0,R.y2)(I)?(this.dateFields.push(I),this._dateFieldsSet.add(I)):(0,R.H7)(I)&&(this._numericFieldsSet.add(I),this.numericFields.push(I)),(0,R.Dl)(I)||(0,R.Se)(I)||(I.editable=null==I.editable||!!I.editable,I.nullable=null==I.nullable||!!I.nullable)}}L.sort(),this.uid=L.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const g of this.fields)(0,R.Dl)(g)||(0,R.Se)(g)||g.nullable||void 0!==(0,R.os)(g)||this._requiredFields.push(g)}return this._requiredFields}equals(g){return this.uid===g?.uid}has(g){return null!=this.get(g)}get(g){if(!g)return;let f=this._fieldsMap.get(g);return f||(f=this._fieldsMap.get(U(g))??this._normalizedFieldsMap.get(O(g)),f&&this._fieldsMap.set(g,f),f)}getTimeZone(g){const f=this.get(g&&"string"!=typeof g?g.name:g);return f?this._timeZoneByFieldName?this._timeZoneByFieldName.get(f.name):"date"===f.type||"esriFieldTypeDate"===f.type?(N.Z.getLogger("esri.layers.support.FieldsIndex").error(new y.Z("getTimeZone:no-timezone-information",`no time zone information for field '${f.name}'`)),v.pt):Z.has(f.type)?v._4:null:null}getLuxonTimeZone(g){const f=this.getTimeZone(g);return f?f===v._4?W.yV.instance:f===v.pt?K.Qf.utcInstance:(0,x.s1)(C,f,()=>K.vF.create(f)):null}isDateField(g){return this._dateFieldsSet.has(this.get(g))}isTimeOnlyField(g){return(0,R.sX)(this.get(g))}isNumericField(g){return this._numericFieldsSet.has(this.get(g))}normalizeFieldName(g){return this.get(g)?.name??void 0}toJSON(){return{fields:this.fields.map(g=>(0,c.AK)(g)?g.toJSON():g),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function U(_){return _.trim().toLowerCase()}function O(_){return(0,R.q6)(_)?.toLowerCase()??""}const Z=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function p(_){const g=new Map;if(!_.fields)return g;const f=!0===_.datesInUnknownTimezone,{timeInfo:L,editFieldsInfo:I}=_,m=(L?"startField"in L?L.startField:L.startTimeField:"")??"",P=(L?"endField"in L?L.endField:L.endTimeField:"")??"",b=function h(_){return"dateFieldsTimeZone"in _}(_)?_.dateFieldsTimeZone??null:_.dateFieldsTimeReference?(0,v.Jv)(_.dateFieldsTimeReference):null,z=I?function B(_){return"timeZone"in _}(I)?I.timeZone??b:I.dateFieldsTimeReference?(0,v.Jv)(I.dateFieldsTimeReference):b??v.pt:null,Q=L?function i(_){return"timeZone"in _}(L)?L.timeZone??b:L.timeReference?(0,v.Jv)(L.timeReference):b:null,G=new Map([[U(I?.creationDateField??""),z],[U(I?.editDateField??""),z],[U(m),Q],[U(P),Q]]);for(const{name:j,type:w}of _.fields)if(Z.has(w))g.set(j,v._4);else if("date"!==w&&"esriFieldTypeDate"!==w)g.set(j,null);else if(f)g.set(j,v._4);else{const V=G.get(U(j??""))??b;g.set(j,V)}return g}},35469:(ne,$,s)=>{s.d($,{Z:()=>C});var B,y=s(50484),c=s(84303),N=s(89317),x=s(80543),K=(s(14007),s(4703),s(65311),s(10141));const i=new c.X({asc:"ascending",desc:"descending"});let h=B=class extends N.wq{constructor(T){super(T),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new B({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,y._)([(0,x.Cb)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,y._)([(0,x.Cb)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],h.prototype,"valueExpression",void 0),(0,y._)([(0,x.Cb)({type:i.apiValues,json:{type:i.jsonValues,read:i.read,write:i.write}})],h.prototype,"order",void 0),h=B=(0,y._)([(0,K.j)("esri.layers.support.OrderByInfo")],h);const C=h},97403:(ne,$,s)=>{s.d($,{Z:()=>Z});var y=s(50484),c=s(34411),N=s(95539),x=s(25387),W=s(89317),R=s(80543),i=(s(14007),s(4703),s(65311),s(62185)),h=s(10141),C=s(7547),T=s(764);function U(p,_){return N.Z.fromJSON({value:p,unit:_})}let O=class extends((0,x.J)(W.wq)){constructor(p){super(p),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(p,_){return _.timeExtent&&Array.isArray(_.timeExtent)&&2===_.timeExtent.length?c.Z.fromArray(_.timeExtent):null}writeFullTimeExtent(p,_){_.timeExtent=null!=p?.start&&null!=p.end?p.toArray():null}readInterval(p,_){return _.timeInterval&&_.timeIntervalUnits?U(_.timeInterval,_.timeIntervalUnits):_.defaultTimeInterval&&_.defaultTimeIntervalUnits?U(_.defaultTimeInterval,_.defaultTimeIntervalUnits):null}writeInterval(p,_){_.timeInterval=p?.toJSON().value??null,_.timeIntervalUnits=p?.toJSON().unit??null}};(0,y._)([(0,R.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],O.prototype,"cumulative",void 0),(0,y._)([(0,R.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],O.prototype,"endField",void 0),(0,y._)([(0,R.Cb)({type:c.Z,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"fullTimeExtent",void 0),(0,y._)([(0,i.r)("fullTimeExtent",["timeExtent"])],O.prototype,"readFullTimeExtent",null),(0,y._)([(0,C.c)("fullTimeExtent")],O.prototype,"writeFullTimeExtent",null),(0,y._)([(0,R.Cb)({type:Boolean,json:{write:!0}})],O.prototype,"hasLiveData",void 0),(0,y._)([(0,R.Cb)({type:N.Z,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"interval",void 0),(0,y._)([(0,i.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],O.prototype,"readInterval",null),(0,y._)([(0,C.c)("interval")],O.prototype,"writeInterval",null),(0,y._)([(0,R.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],O.prototype,"startField",void 0),(0,y._)([(0,R.Cb)((0,T.mi)("timeReference",!0))],O.prototype,"timeZone",void 0),(0,y._)([(0,R.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],O.prototype,"trackIdField",void 0),(0,y._)([(0,R.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],O.prototype,"useTime",void 0),(0,y._)([(0,R.Cb)({type:[Date],json:{read:!1}})],O.prototype,"stops",void 0),O=(0,y._)([(0,h.j)("esri.layers.support.TimeInfo")],O);const Z=O},27969:(ne,$,s)=>{s.d($,{v:()=>R});var y=s(14007),c=s(4703),N=s(81247),x=s(40100),W=s(85295);function R(){return{fields:{type:[N.Z],value:null,set:function(v){if(v&&(0,y.Z)("big-integer-warning-enabled")){const K=v.filter(B=>"big-integer"===B.type||"oid"===B.type&&(B.length||0)>=8);if(K.length){const B=K.map(i=>`'${i.name}'`).join(", ");c.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${B}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",v)}},fieldsIndex:{readOnly:!0,get(){return x.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(v){this._userOutFields=v,this.notifyChange("outFields")},get:function(){const v=this._userOutFields;if(!v?.length)return null;if(v.includes("*"))return["*"];if(!this.fields)return v;for(const K of v)this.fieldsIndex?.has(K)||c.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${K} found in outFields`,{layer:this,outFields:v});return(0,W.Q0)(this.fieldsIndex,v)}}}}},56761:(ne,$,s)=>{s.d($,{UG:()=>h,UO:()=>O,YI:()=>U,dI:()=>Z,el:()=>I,hV:()=>T,z7:()=>C});var y=s(72578);const c="__begin__",N="__end__",x=new RegExp(c,"ig"),W=new RegExp(N,"ig"),R=new RegExp("^"+c,"i"),v=new RegExp(N+"$","i"),K='"',B=K+" + ",i=" + "+K;function h(m){return m.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function C(m){return m.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function T(m){const P={expression:"",type:"none"};return m.labelExpressionInfo?m.labelExpressionInfo.value?(P.expression=m.labelExpressionInfo.value,P.type="conventional"):m.labelExpressionInfo.expression&&(P.expression=m.labelExpressionInfo.expression,P.type="arcade"):null!=m.labelExpression&&(P.expression=h(m.labelExpression),P.type="conventional"),P}function U(m){const P=T(m);if(!P)return null;switch(P.type){case"conventional":return Z(P.expression);case"arcade":return P.expression}return null}function O(m){const P=T(m);if(!P)return null;switch(P.type){case"conventional":return function _(m){return m?.match(p)?.[1].trim()||null}(P.expression);case"arcade":return I(P.expression)}return null}function Z(m){let P;return m?(P=(0,y.gx)(m,b=>c+'$feature["'+b+'"]'+N),P=R.test(P)?P.replace(R,""):K+P,P=v.test(P)?P.replace(v,""):P+K,P=P.replaceAll(x,B).replaceAll(W,i)):P='""',P}const p=/^\s*\{([^}]+)\}\s*$/i,g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,f=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,L=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function I(m){if(!m)return null;let P=g.exec(m)||f.exec(m);return P?P[1]||P[3]:(P=L.exec(m),P?P[2]:null)}},81238:(ne,$,s)=>{s.d($,{v:()=>c});const c=(0,s(84303).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},18101:(ne,$,s)=>{s.d($,{P:()=>x});var y=s(49602),c=s(33721);function N(v,K,B){if(null==v.hasM||v.hasZ)for(const i of K)for(const h of i)h.length>2&&(h[2]*=B)}function x(v,K,B){if(!v&&!K||!B)return;const i=(0,y._R)(B);W(v,B,i),W(K,B,i)}function W(v,K,B){if(v)for(const i of v)R(i.geometry,K,B)}function R(v,K,B){if(!v?.spatialReference||(0,c.fS)(v.spatialReference,K))return;const i=(0,y._R)(v.spatialReference)/B;if(1!==i)if("x"in v)null!=v.z&&(v.z*=i);else if("rings"in v)N(v,v.rings,i);else if("paths"in v)N(v,v.paths,i);else if("points"in v&&(null==v.hasM||v.hasZ))for(const h of v.points)h.length>2&&(h[2]*=i)}},8295:(ne,$,s)=>{s.d($,{p:()=>c});var y=s(53456);function c(N,x,W){if(!W?.features||!W.hasZ)return;const R=(0,y.k)(W.geometryType,x,N.outSpatialReference);if(null!=R)for(const v of W.features)R(v.geometry)}},93792:(ne,$,s)=>{s.d($,{Z:()=>g});var Z,y=s(50484),c=s(2189),N=s(35458),x=s(84303),W=s(89317),R=s(34222),v=s(80543),i=(s(14007),s(4703),s(62185)),h=s(10141),C=s(7547),T=s(43814),U=s(40637),O=s(81247);const p=new x.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let _=Z=class extends W.wq{constructor(f){super(f),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(f,L){const I=T.Z.fromJSON(L.spatialReference),m=[];for(let P=0;P<f.length;P++){const b=f[P],z=N.Z.fromJSON(b),Q=b.geometry?.spatialReference;null==z.geometry||Q||(z.geometry.spatialReference=I);const G=b.aggregateGeometries,j=z.aggregateGeometries;if(G&&null!=j)for(const w in j){const V=j[w],X=G[w],ae=X?.spatialReference;null==V||ae||(V.spatialReference=I)}m.push(z)}return m}writeGeometryType(f,L,I,m){if(f)return void p.write(f,L,I,m);const{features:P}=this;if(P)for(const b of P)if(null!=b?.geometry)return void p.write(b.geometry.type,L,I,m)}readQueryGeometry(f,L){if(!f)return null;const I=!!f.spatialReference,m=(0,U.im)(f);return m&&!I&&L.spatialReference&&(m.spatialReference=T.Z.fromJSON(L.spatialReference)),m}writeSpatialReference(f,L){if(f)return void(L.spatialReference=f.toJSON());const{features:I}=this;if(I)for(const m of I)if(m&&null!=m.geometry&&m.geometry.spatialReference)return void(L.spatialReference=m.geometry.spatialReference.toJSON())}clone(){return new Z(this.cloneProperties())}cloneProperties(){return(0,R.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(f){const L=this.write();if(L.features&&Array.isArray(f)&&f.length>0)for(let I=0;I<L.features.length;I++){const m=L.features[I];if(m.geometry){const P=f?.[I];m.geometry=P?.toJSON()||m.geometry}}return L}quantize(f){const{scale:[L,I],translate:[m,P]}=f,Q=this.features,G=this._getQuantizationFunction(this.geometryType,j=>Math.round((j-m)/L),j=>Math.round((P-j)/I));for(let j=0,w=Q.length;j<w;j++)G?.(Q[j].geometry)||(Q.splice(j,1),j--,w--);return this.transform=f,this}unquantize(){const{geometryType:f,features:L,transform:I}=this;if(!I)return this;const{translate:[m,P],scale:[b,z]}=I;let j=null,w=null;if(this.hasZ&&null!=I?.scale?.[2]){const{translate:[,,X],scale:[,,ae]}=I;j=q=>q*ae+X}if(this.hasM&&null!=I?.scale?.[3]){const{translate:[,,,X],scale:[,,,ae]}=I;w=q=>null==q?q:q*ae+X}const V=this._getHydrationFunction(f,X=>X*b+m,X=>P-X*z,j,w);for(const{geometry:X}of L)null!=X&&V&&V(X);return this.transform=null,this}_quantizePoints(f,L,I){let m,P;const b=[];for(let z=0,Q=f.length;z<Q;z++){const G=f[z];if(z>0){const j=L(G[0]),w=I(G[1]);j===m&&w===P||(b.push([j-m,w-P]),m=j,P=w)}else m=L(G[0]),P=I(G[1]),b.push([m,P])}return b.length>0?b:null}_getQuantizationFunction(f,L,I){return"point"===f?m=>(m.x=L(m.x),m.y=I(m.y),m):"polyline"===f||"polygon"===f?m=>{const P=(0,U.oU)(m)?m.rings:m.paths,b=[];for(let z=0,Q=P.length;z<Q;z++){const j=this._quantizePoints(P[z],L,I);j&&b.push(j)}return b.length>0?((0,U.oU)(m)?m.rings=b:m.paths=b,m):null}:"multipoint"===f?m=>{const P=this._quantizePoints(m.points,L,I);return P&&P.length>0?(m.points=P,m):null}:"extent"===f?m=>m:null}_getHydrationFunction(f,L,I,m,P){return"point"===f?b=>{b.x=L(b.x),b.y=I(b.y),m&&(b.z=m(b.z))}:"polyline"===f||"polygon"===f?b=>{const z=(0,U.oU)(b)?b.rings:b.paths;let Q,G;for(let j=0,w=z.length;j<w;j++){const V=z[j];for(let X=0,ae=V.length;X<ae;X++){const q=V[X];X>0?(Q+=q[0],G+=q[1]):(Q=q[0],G=q[1]),q[0]=L(Q),q[1]=I(G)}}if(m&&P)for(let j=0,w=z.length;j<w;j++){const V=z[j];for(let X=0,ae=V.length;X<ae;X++){const q=V[X];q[2]=m(q[2]),q[3]=P(q[3])}}else if(m)for(let j=0,w=z.length;j<w;j++){const V=z[j];for(let X=0,ae=V.length;X<ae;X++){const q=V[X];q[2]=m(q[2])}}else if(P)for(let j=0,w=z.length;j<w;j++){const V=z[j];for(let X=0,ae=V.length;X<ae;X++){const q=V[X];q[2]=P(q[2])}}}:"extent"===f?b=>{b.xmin=L(b.xmin),b.ymin=I(b.ymin),b.xmax=L(b.xmax),b.ymax=I(b.ymax),m&&null!=b.zmax&&null!=b.zmin&&(b.zmax=m(b.zmax),b.zmin=m(b.zmin)),P&&null!=b.mmax&&null!=b.mmin&&(b.mmax=P(b.mmax),b.mmin=P(b.mmin))}:"multipoint"===f?b=>{const z=b.points;let Q,G;for(let j=0,w=z.length;j<w;j++){const V=z[j];j>0?(Q+=V[0],G+=V[1]):(Q=V[0],G=V[1]),V[0]=L(Q),V[1]=I(G)}if(m&&P)for(let j=0,w=z.length;j<w;j++){const V=z[j];V[2]=m(V[2]),V[3]=P(V[3])}else if(m)for(let j=0,w=z.length;j<w;j++){const V=z[j];V[2]=m(V[2])}else if(P)for(let j=0,w=z.length;j<w;j++){const V=z[j];V[2]=P(V[2])}}:null}};(0,y._)([(0,v.Cb)({type:String,json:{write:!0}})],_.prototype,"displayFieldName",void 0),(0,y._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:f=>({enabled:f})}}})],_.prototype,"exceededTransferLimit",void 0),(0,y._)([(0,v.Cb)({type:[N.Z],json:{write:!0}})],_.prototype,"features",void 0),(0,y._)([(0,i.r)("features")],_.prototype,"readFeatures",null),(0,y._)([(0,v.Cb)({type:[O.Z],json:{write:!0}})],_.prototype,"fields",void 0),(0,y._)([(0,v.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:p.read}}})],_.prototype,"geometryType",void 0),(0,y._)([(0,C.c)("geometryType")],_.prototype,"writeGeometryType",null),(0,y._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:f=>({enabled:f})}}})],_.prototype,"hasM",void 0),(0,y._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:f=>({enabled:f})}}})],_.prototype,"hasZ",void 0),(0,y._)([(0,v.Cb)({types:c.qM,json:{write:!0}})],_.prototype,"queryGeometry",void 0),(0,y._)([(0,i.r)("queryGeometry")],_.prototype,"readQueryGeometry",null),(0,y._)([(0,v.Cb)({type:T.Z,json:{write:!0}})],_.prototype,"spatialReference",void 0),(0,y._)([(0,C.c)("spatialReference")],_.prototype,"writeSpatialReference",null),(0,y._)([(0,v.Cb)({json:{write:!0}})],_.prototype,"transform",void 0),_=Z=(0,y._)([(0,h.j)("esri.rest.support.FeatureSet")],_),_.prototype.toJSON.isDefaultToJSON=!0;const g=_}}]);