"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[6212,3686],{56212:(mn,D,x)=>{x.r(D),x.d(D,{registerFunctions:()=>q});var g=x(15861),C=x(26152),E=x(97478),A=x(70430),s=x(53570),l=x(25137),a=x(89018),I=x(26097),N=x(29673),S=x(93530),Q=x(49602),O=x(26894),f=x(32184),h=x(23686),U=x(12628),L=x(44107),F=x(5391),_=x(64222),z=x(40637),X=x(61018),j=x(66476);function J(u,r,e){return b.apply(this,arguments)}function b(){return(b=(0,g.Z)(function*(u,r,e){if(!C.id?.findCredential(u.restUrl))return null;if("loaded"===u.loadStatus&&""===r&&u.user?.sourceJSON&&!1===e)return u.user.sourceJSON;const p={responseType:"json",query:{f:"json"}};if(e&&(p.query.returnUserLicenseTypeExtensions=!0),""===r){const t=yield(0,j.Z)(u.restUrl+"/community/self",p);if(t.data){const c=t.data;if(c?.username)return c}return null}const n=yield(0,j.Z)(u.restUrl+"/community/users/"+r,p);if(n.data){const t=n.data;return t.error?null:t}return null})).apply(this,arguments)}function Y(u){return 0===C.i8.indexOf("4.")?F.Z.fromExtent(u):new F.Z({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function R(u,r,e){if((0,a.H)(u,2,2,r,e),!(u[0]instanceof f.Z&&u[1]instanceof f.Z||u[0]instanceof f.Z&&null===u[1]||u[1]instanceof f.Z&&null===u[0]||null===u[0]&&null===u[1]))throw new s.aV(r,s.rH.InvalidParameter,e)}function $(u,r){return B.apply(this,arguments)}function B(){return(B=(0,g.Z)(function*(u,r){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;let e=1;(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid)&&(e=(0,N._R)(u.spatialReference)/(0,Q.c9)(u.spatialReference));let d=0;if("polyline"===u.type)for(const n of u.paths)for(let t=1;t<n.length;t++)d+=(0,N.AW)(n[t],n[t-1],e);else if("polygon"===u.type)for(const n of u.rings){for(let t=1;t<n.length;t++)d+=(0,N.AW)(n[t],n[t-1],e);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(d+=(0,N.AW)(n[0],n[n.length-1],e))}else"extent"===u.type&&(d+=2*(0,N.AW)([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],e),d+=2*(0,N.AW)([u.xmin,u.ymin,0],[u.xmin,u.ymax,0],e),d*=2,d+=4*Math.abs((0,a.K)(u.zmax,0)*e-(0,a.K)(u.zmin,0)*e));const p=new _.Z({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,d]]});return(0,h.planarLength)(p,r)})).apply(this,arguments)}function q(u){"async"===u.mode&&(u.functions.disjoint=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null===n[0]||null===n[1]||(0,h.disjoint)(n[0],n[1])))},u.functions.intersects=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.intersects)(n[0],n[1])))},u.functions.touches=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.touches)(n[0],n[1])))},u.functions.crosses=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.crosses)(n[0],n[1])))},u.functions.within=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.within)(n[0],n[1])))},u.functions.contains=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.contains)(n[0],n[1])))},u.functions.overlaps=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.overlaps)(n[0],n[1])))},u.functions.equals=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>((0,a.H)(n,2,2,r,e),n[0]===n[1]||(n[0]instanceof f.Z&&n[1]instanceof f.Z?(0,h.equals)(n[0],n[1]):((0,a.k)(n[0])&&(0,a.k)(n[1])||!!((0,a.n)(n[0])&&(0,a.n)(n[1])||(0,a.m)(n[0])&&(0,a.m)(n[1])))&&n[0].equals(n[1]))))},u.functions.relate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,3,3,r,e),n[0]instanceof f.Z&&n[1]instanceof f.Z)return(0,h.relate)(n[0],n[1],(0,a.j)(n[2]));if(n[0]instanceof f.Z&&null===n[1]||n[1]instanceof f.Z&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new s.aV(r,s.rH.InvalidParameter,e)})},u.functions.intersection=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null===n[0]||null===n[1]?null:(0,h.intersect)(n[0],n[1])))},u.functions.union=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{const t=[];if(0===(n=(0,a.I)(n)).length)throw new s.aV(r,s.rH.WrongNumberOfParameters,e);if(1===n.length)if((0,a.o)(n[0])){const c=(0,a.I)(n[0]);for(let m=0;m<c.length;m++)if(null!==c[m]){if(!(c[m]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(c[m])}}else{if(!(0,a.q)(n[0])){if(n[0]instanceof f.Z)return(0,a.x)((0,l.r1)(n[0]),r.spatialReference);if(null===n[0])return null;throw new s.aV(r,s.rH.InvalidParameter,e)}{const c=(0,a.I)(n[0].toArray());for(let m=0;m<c.length;m++)if(null!==c[m]){if(!(c[m]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(c[m])}}}else for(let c=0;c<n.length;c++)if(null!==n[c]){if(!(n[c]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(n[c])}return 0===t.length?null:(0,h.union)(t)})},u.functions.difference=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null===n[0]?null:null===n[1]?(0,l.r1)(n[0]):(0,h.difference)(n[0],n[1])))},u.functions.symmetricdifference=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(R(n=(0,a.I)(n),r,e),null===n[0]&&null===n[1]?null:null===n[0]?(0,l.r1)(n[1]):null===n[1]?(0,l.r1)(n[0]):(0,h.symmetricDifference)(n[0],n[1])))},u.functions.clip=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),!(n[1]instanceof O.Z)&&null!==n[1])throw new s.aV(r,s.rH.InvalidParameter,e);if(null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return null===n[1]?null:(0,h.clip)(n[0],n[1])})},u.functions.cut=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),!(n[1]instanceof _.Z)&&null!==n[1])throw new s.aV(r,s.rH.InvalidParameter,e);if(null===n[0])return[];if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return null===n[1]?[(0,l.r1)(n[0])]:(0,h.cut)(n[0],n[1])})},u.functions.area=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const c=yield t[0].sumArea((0,l.EI)((0,a.K)(t[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return c}if((0,a.o)(t[0])||(0,a.q)(t[0])){const c=(0,a.J)(t[0],r.spatialReference);return null===c?0:(0,h.planarArea)(c,(0,l.EI)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.planarArea)(t[0],(0,l.EI)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.areageodetic=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const c=yield t[0].sumArea((0,l.EI)((0,a.K)(t[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return c}if((0,a.o)(t[0])||(0,a.q)(t[0])){const c=(0,a.J)(t[0],r.spatialReference);return null===c?0:(0,h.geodesicArea)(c,(0,l.EI)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.geodesicArea)(t[0],(0,l.EI)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.length=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const c=yield t[0].sumLength((0,l.Lz)((0,a.K)(t[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return c}if((0,a.o)(t[0])||(0,a.q)(t[0])){const c=(0,a.L)(t[0],r.spatialReference);return null===c?0:(0,h.planarLength)(c,(0,l.Lz)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.planarLength)(t[0],(0,l.Lz)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.length3d=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if((0,a.H)(n,1,2,r,e),null===(n=(0,a.I)(n))[0])return 0;if((0,a.o)(n[0])||(0,a.q)(n[0])){const t=(0,a.L)(n[0],r.spatialReference);return null===t?0:!0===t.hasZ?$(t,(0,l.Lz)((0,a.K)(n[1],-1))):(0,h.planarLength)(t,(0,l.Lz)((0,a.K)(n[1],-1)))}if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return!0===n[0].hasZ?$(n[0],(0,l.Lz)((0,a.K)(n[1],-1))):(0,h.planarLength)(n[0],(0,l.Lz)((0,a.K)(n[1],-1)))})},u.functions.lengthgeodetic=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const c=yield t[0].sumLength((0,l.Lz)((0,a.K)(t[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return c}if((0,a.o)(t[0])||(0,a.q)(t[0])){const c=(0,a.L)(t[0],r.spatialReference);return null===c?0:(0,h.geodesicLength)(c,(0,l.Lz)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.geodesicLength)(t[0],(0,l.Lz)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.distance=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{n=(0,a.I)(n),(0,a.H)(n,2,3,r,e);let t=n[0];((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.M)(n[0],r.spatialReference));let c=n[1];if(((0,a.o)(n[1])||(0,a.q)(n[1]))&&(c=(0,a.M)(n[1],r.spatialReference)),!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(c instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.distance)(t,c,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.distancegeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{n=(0,a.I)(n),(0,a.H)(n,2,3,r,e);const t=n[0],c=n[1];if(!(t instanceof L.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(c instanceof L.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const m=new _.Z({paths:[],spatialReference:t.spatialReference});return m.addPath([t,c]),(0,h.geodesicLength)(m,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.densify=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);if(t<=0)throw new s.aV(r,s.rH.InvalidParameter,e);return n[0]instanceof F.Z||n[0]instanceof _.Z?(0,h.densify)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]instanceof O.Z?(0,h.densify)(Y(n[0]),t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]})},u.functions.densifygeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);if(t<=0)throw new s.aV(r,s.rH.InvalidParameter,e);return n[0]instanceof F.Z||n[0]instanceof _.Z?(0,h.geodesicDensify)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]instanceof O.Z?(0,h.geodesicDensify)(Y(n[0]),t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]})},u.functions.generalize=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,4,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.generalize)(n[0],t,(0,a.h)((0,a.K)(n[2],!0)),(0,l.Lz)((0,a.K)(n[3],-1)))})},u.functions.buffer=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return 0===t?(0,l.r1)(n[0]):(0,h.buffer)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.buffergeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return 0===t?(0,l.r1)(n[0]):(0,h.geodesicBuffer)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.offset=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,6,r,e),null===n[0])return null;if(!(n[0]instanceof F.Z||n[0]instanceof _.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);const c=(0,a.g)((0,a.K)(n[4],10));if(isNaN(c))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,a.g)((0,a.K)(n[5],0));if(isNaN(m))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.offset)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)),(0,a.j)((0,a.K)(n[3],"round")).toLowerCase(),c,m)})},u.functions.rotate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=n[0]instanceof O.Z?F.Z.fromExtent(n[0]):n[0],c=(0,a.g)(n[1]);if(isNaN(c))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,a.K)(n[2],null);if(null===m)return(0,h.rotate)(t,c);if(m instanceof L.Z)return(0,h.rotate)(t,c,m);throw new s.aV(r,s.rH.InvalidParameter,e)})},u.functions.centroid=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.M)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return t instanceof L.Z?(0,a.x)((0,l.r1)(t),r.spatialReference):t instanceof F.Z?t.centroid:t instanceof _.Z?(0,N.s9)(t):t instanceof U.Z?(0,N.Ay)(t):t instanceof O.Z?t.center:null})},u.functions.measuretocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof _.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const c=(0,S.Tv)(t,n[1]);return c?A.Z.convertObjectToArcadeDictionary(c,(0,a.N)(r),!1,!0):null})},u.functions.pointtocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof _.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const c=n[1];if(null===c)return null;if(!(c instanceof L.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,S.zq)(t,c);return m?A.Z.convertObjectToArcadeDictionary(m,(0,a.N)(r),!1,!0):null})},u.functions.distancetocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof _.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const c=(0,S.qt)(t,n[1]);return c?A.Z.convertObjectToArcadeDictionary(c,(0,a.N)(r),!1,!0):null})},u.functions.multiparttosinglepart=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if(t=(0,a.I)(t),(0,a.H)(t,1,1,r,e),null===t[0])return null;if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(t[0]instanceof L.Z)return[(0,a.x)((0,l.r1)(t[0]),r.spatialReference)];if(t[0]instanceof O.Z)return[(0,a.x)((0,l.r1)(t[0]),r.spatialReference)];const c=yield(0,h.simplify)(t[0]);if(c instanceof F.Z){const m=[],v=[];for(let Z=0;Z<c.rings.length;Z++)if(c.isClockwise(c.rings[Z])){const H=(0,z.im)({rings:[c.rings[Z]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});m.push(H)}else v.push({ring:c.rings[Z],pt:c.getPoint(Z,0)});for(let Z=0;Z<v.length;Z++)for(let H=0;H<m.length;H++)if(m[H].contains(v[Z].pt)){m[H].addRing(v[Z].ring);break}return m}if(c instanceof _.Z){const m=[];for(let v=0;v<c.paths.length;v++){const Z=(0,z.im)({paths:[c.paths[v]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});m.push(Z)}return m}if(t[0]instanceof U.Z){const m=[],v=(0,a.x)((0,l.r1)(t[0]),r.spatialReference);for(let Z=0;Z<v.points.length;Z++)m.push(v.getPoint(Z));return m}return null});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.issimple=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return!0;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.isSimple)(n[0])})},u.functions.simplify=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.simplify)(n[0])})},u.functions.convexhull=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.convexHull)(n[0])})},u.functions.getuser=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){(0,a.H)(t,0,2,r,e);let c=(0,a.K)(t[1],""),m=!0===c;if(c=!0===c||!1===c?"":(0,a.j)(c),0===t.length||t[0]instanceof E.Z){let Z;Z=r.services?.portal?r.services.portal:X.Z.getDefault(),t.length>0&&(Z=(0,I._)(t[0],Z));const H=yield J(Z,c,m);if(H){const K=JSON.parse(JSON.stringify(H));for(const P of["lastLogin","created","modified"])null!=K[P]&&(K[P]=new Date(K[P]));return A.Z.convertObjectToArcadeDictionary(K,(0,a.N)(r))}return null}let v=null;if((0,a.u)(t[0])&&(v=t[0]),v){if(m=!1,c)return null;yield v.load();const Z=yield v.getOwningSystemUrl();if(!Z){if(!c){const P=yield v.getIdentityUser();return P?A.Z.convertObjectToArcadeDictionary({username:P},(0,a.N)(r)):null}return null}let H;H=r.services?.portal?r.services.portal:X.Z.getDefault(),H=(0,I._)(new E.Z(Z),H);const K=yield J(H,c,m);if(K){const P=JSON.parse(JSON.stringify(K));for(const T of["lastLogin","created","modified"])null!=P[T]&&(P[T]=new Date(P[T]));return A.Z.convertObjectToArcadeDictionary(P,(0,a.N)(r))}return null}throw new s.aV(r,s.rH.InvalidParameter,e)});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.nearestcoordinate=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if(t=(0,a.I)(t),(0,a.H)(t,2,2,r,e),!(t[0]instanceof f.Z||null===t[0]))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t[1]instanceof L.Z||null===t[1]))throw new s.aV(r,s.rH.InvalidParameter,e);if(null===t[0]||null===t[1])return null;const c=yield(0,h.nearestCoordinate)(t[0],t[1]);return null===c?null:A.Z.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,a.N)(r),!1,!0)});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.nearestvertex=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if(t=(0,a.I)(t),(0,a.H)(t,2,2,r,e),!(t[0]instanceof f.Z||null===t[0]))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t[1]instanceof L.Z||null===t[1]))throw new s.aV(r,s.rH.InvalidParameter,e);if(null===t[0]||null===t[1])return null;const c=yield(0,h.nearestVertex)(t[0],t[1]);return null===c?null:A.Z.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,a.N)(r),!1,!0)});return function(p,n,t){return d.apply(this,arguments)}}())})}},26097:(mn,D,x)=>{x.d(D,{_:()=>C});var g=x(61018);function C(E,A){return null===E?A:new g.Z({url:E.field("url")})}},23686:(mn,D,x)=>{x.r(D),x.d(D,{buffer:()=>xn,changeDefaultSpatialReferenceTolerance:()=>Dn,clearDefaultSpatialReferenceTolerance:()=>En,clip:()=>_,contains:()=>J,convexHull:()=>p,crosses:()=>b,cut:()=>X,densify:()=>Vn,difference:()=>t,disjoint:()=>B,distance:()=>gn,equals:()=>W,extendedSpatialReferenceInfo:()=>F,flipHorizontal:()=>Pn,flipVertical:()=>An,generalize:()=>_n,geodesicArea:()=>On,geodesicBuffer:()=>Zn,geodesicDensify:()=>Ln,geodesicLength:()=>Fn,intersect:()=>Z,intersectLinesToPoints:()=>Kn,intersects:()=>Y,isSimple:()=>r,nearestCoordinate:()=>wn,nearestVertex:()=>vn,nearestVertices:()=>In,offset:()=>T,overlaps:()=>q,planarArea:()=>Rn,planarLength:()=>Nn,relate:()=>u,rotate:()=>Hn,simplify:()=>e,symmetricDifference:()=>m,touches:()=>R,union:()=>K,within:()=>$});var g=x(15861),E=(x(2189),x(36885)),A=x(44107),s=x(40637);function l(i){return Array.isArray(i)?i[0]?.spatialReference:i?.spatialReference}function a(i){return i&&(Array.isArray(i)?i.map(a):i.toJSON?i.toJSON():i)}function I(i){return Array.isArray(i)?i.map(o=>(0,s.im)(o)):(0,s.im)(i)}let S;function Q(){return O.apply(this,arguments)}function O(){return(O=(0,g.Z)(function*(){return S||(S=(0,E.bA)("geometryEngineWorker",{strategy:"distributed"})),S})).apply(this,arguments)}function f(i,o){return h.apply(this,arguments)}function h(){return(h=(0,g.Z)(function*(i,o){return(yield Q()).invoke("executeGEOperation",{operation:i,parameters:a(o)})})).apply(this,arguments)}function U(i,o){return L.apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(i,o){const y=yield Q();return Promise.all(y.broadcast("executeGEOperation",{operation:i,parameters:a(o)}))})).apply(this,arguments)}function F(i){return f("extendedSpatialReferenceInfo",[i])}function _(i,o){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(i,o){return I(yield f("clip",[l(i),i,o]))})).apply(this,arguments)}function X(i,o){return j.apply(this,arguments)}function j(){return(j=(0,g.Z)(function*(i,o){return I(yield f("cut",[l(i),i,o]))})).apply(this,arguments)}function J(i,o){return f("contains",[l(i),i,o])}function b(i,o){return f("crosses",[l(i),i,o])}function gn(i,o,y){return f("distance",[l(i),i,o,y])}function W(i,o){return f("equals",[l(i),i,o])}function Y(i,o){return f("intersects",[l(i),i,o])}function R(i,o){return f("touches",[l(i),i,o])}function $(i,o){return f("within",[l(i),i,o])}function B(i,o){return f("disjoint",[l(i),i,o])}function q(i,o){return f("overlaps",[l(i),i,o])}function u(i,o,y){return f("relate",[l(i),i,o,y])}function r(i){return f("isSimple",[l(i),i])}function e(i){return d.apply(this,arguments)}function d(){return(d=(0,g.Z)(function*(i){return I(yield f("simplify",[l(i),i]))})).apply(this,arguments)}function p(i){return n.apply(this,arguments)}function n(){return(n=(0,g.Z)(function*(i,o=!1){return I(yield f("convexHull",[l(i),i,o]))})).apply(this,arguments)}function t(i,o){return c.apply(this,arguments)}function c(){return(c=(0,g.Z)(function*(i,o){return I(yield f("difference",[l(i),i,o]))})).apply(this,arguments)}function m(i,o){return v.apply(this,arguments)}function v(){return(v=(0,g.Z)(function*(i,o){return I(yield f("symmetricDifference",[l(i),i,o]))})).apply(this,arguments)}function Z(i,o){return H.apply(this,arguments)}function H(){return(H=(0,g.Z)(function*(i,o){return I(yield f("intersect",[l(i),i,o]))})).apply(this,arguments)}function K(i){return P.apply(this,arguments)}function P(){return(P=(0,g.Z)(function*(i,o=null){const y=function N(i,o){let y;return Array.isArray(i)?y=i:(y=[],y.push(i),null!=o&&y.push(o)),y}(i,o);return I(yield f("union",[l(y),y]))})).apply(this,arguments)}function T(i,o,y,w,V,G){return k.apply(this,arguments)}function k(){return(k=(0,g.Z)(function*(i,o,y,w,V,G){return I(yield f("offset",[l(i),i,o,y,w,V,G]))})).apply(this,arguments)}function xn(i,o,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(i,o,y,w=!1){const V=[l(i),i,o,y,w];return I(yield f("buffer",V))})).apply(this,arguments)}function Zn(i,o,y,w,V,G){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*(i,o,y,w,V,G){const Sn=[l(i),i,o,y,w,V,G];return I(yield f("geodesicBuffer",Sn))})).apply(this,arguments)}function wn(i,o){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(i,o,y=!0){const w=yield f("nearestCoordinate",[l(i),i,o,y]);return{...w,coordinate:A.Z.fromJSON(w.coordinate)}})).apply(this,arguments)}function vn(i,o){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(i,o){const y=yield f("nearestVertex",[l(i),i,o]);return{...y,coordinate:A.Z.fromJSON(y.coordinate)}})).apply(this,arguments)}function In(i,o,y,w){return an.apply(this,arguments)}function an(){return(an=(0,g.Z)(function*(i,o,y,w){return(yield f("nearestVertices",[l(i),i,o,y,w])).map(V=>({...V,coordinate:A.Z.fromJSON(V.coordinate)}))})).apply(this,arguments)}function un(i){return"xmin"in i?i.center:"x"in i?i:i.extent?.center}function Hn(i,o,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(i,o,y){if(null==i)throw new M;const w=i.spatialReference;if(null==(y=y??un(i)))throw new M;const V=i.constructor.fromJSON(yield f("rotate",[w,i,o,y]));return V.spatialReference=w,V})).apply(this,arguments)}function Pn(i,o){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.Z)(function*(i,o){if(null==i)throw new M;const y=i.spatialReference;if(null==(o=o??un(i)))throw new M;const w=i.constructor.fromJSON(yield f("flipHorizontal",[y,i,o]));return w.spatialReference=y,w})).apply(this,arguments)}function An(i,o){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(i,o){if(null==i)throw new M;const y=i.spatialReference;if(null==(o=o??un(i)))throw new M;const w=i.constructor.fromJSON(yield f("flipVertical",[y,i,o]));return w.spatialReference=y,w})).apply(this,arguments)}function _n(i,o,y,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(i,o,y,w){return I(yield f("generalize",[l(i),i,o,y,w]))})).apply(this,arguments)}function Vn(i,o,y){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(i,o,y){return I(yield f("densify",[l(i),i,o,y]))})).apply(this,arguments)}function Ln(i,o,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(i,o,y,w=0){return I(yield f("geodesicDensify",[l(i),i,o,y,w]))})).apply(this,arguments)}function Rn(i,o){return f("planarArea",[l(i),i,o])}function Nn(i,o){return f("planarLength",[l(i),i,o])}function On(i,o,y){return f("geodesicArea",[l(i),i,o,y])}function Fn(i,o,y){return f("geodesicLength",[l(i),i,o,y])}function Kn(i,o){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(i,o){return I(yield f("intersectLinesToPoints",[l(i),i,o]))})).apply(this,arguments)}function Dn(i,o){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(i,o){yield U("changeDefaultSpatialReferenceTolerance",[i,o])})).apply(this,arguments)}function En(i){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(i){yield U("clearDefaultSpatialReferenceTolerance",[i])})).apply(this,arguments)}class M extends Error{constructor(){super("Illegal Argument Exception")}}}}]);