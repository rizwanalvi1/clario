"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[5031,318],{80247:(et,X,l)=>{var d,M,E;l.d(X,{E9:()=>v,I6:()=>W,Vl:()=>d,bN:()=>U}),(E=d||(d={}))[E.Unknown=0]="Unknown",E[E.Point=1]="Point",E[E.LineString=2]="LineString",E[E.Polygon=3]="Polygon";class v{constructor(s,n){this.x=s,this.y=n}clone(){return new v(this.x,this.y)}equals(s,n){return s===this.x&&n===this.y}isEqual(s){return s.x===this.x&&s.y===this.y}setCoords(s,n){return this.x=s,this.y=n,this}normalize(){const s=this.x,n=this.y,a=Math.sqrt(s*s+n*n);return this.x/=a,this.y/=a,this}rightPerpendicular(){const s=this.x;return this.x=this.y,this.y=-s,this}leftPerpendicular(){const s=this.x;return this.x=-this.y,this.y=s,this}move(s,n){return this.x+=s,this.y+=n,this}assign(s){return this.x=s.x,this.y=s.y,this}assignAdd(s,n){return this.x=s.x+n.x,this.y=s.y+n.y,this}assignSub(s,n){return this.x=s.x-n.x,this.y=s.y-n.y,this}rotate(s,n){const a=this.x,S=this.y;return this.x=a*s-S*n,this.y=a*n+S*s,this}scale(s){return this.x*=s,this.y*=s,this}length(){const s=this.x,n=this.y;return Math.sqrt(s*s+n*n)}sub(s){return this.x-=s.x,this.y-=s.y,this}add(s){return this.x+=s.x,this.y+=s.y,this}static distance(s,n){const a=n.x-s.x,S=n.y-s.y;return Math.sqrt(a*a+S*S)}static add(s,n){return new v(s.x+n.x,s.y+n.y)}static sub(s,n){return new v(s.x-n.x,s.y-n.y)}}class w{constructor(s,n,a){this.ratio=s,this.x=n,this.y=a}}class U{constructor(s,n,a,S=8,f=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=S,this._pixelMargin=f,this._tileSize=512*S,this._dz=s,this._yPos=n,this._xPos=a}setPixelMargin(s){s!==this._pixelMargin&&(this._pixelMargin=s,this.setExtent(this._extent))}setExtent(s){this._extent=s,this._finalRatio=this._tileSize/s*(1<<this._dz);let n=this._pixelRatio*this._pixelMargin;n/=this._finalRatio;const a=s>>this._dz;n>a&&(n=a),this._margin=n,this._xmin=a*this._xPos-n,this._ymin=a*this._yPos-n,this._xmax=this._xmin+a+2*n,this._ymax=this._ymin+a+2*n}reset(s){this._type=s,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(s,n){this._pushLine(),this._prevIsIn=this._isIn(s,n),this._moveTo(s,n,this._prevIsIn),this._prevPt=new v(s,n),this._firstPt=new v(s,n),this._dist=0}lineTo(s,n){const a=this._isIn(s,n),S=new v(s,n),f=v.distance(this._prevPt,S);let u,T,_,C,K,Y,g,j;if(a)this._prevIsIn?this._lineTo(s,n,!0):(u=this._prevPt,T=S,_=this._intersect(T,u),this._start=this._dist+f*(1-this._r),this._lineTo(_.x,_.y,!0),this._lineTo(T.x,T.y,!0));else if(this._prevIsIn)T=this._prevPt,u=S,_=this._intersect(T,u),this._lineTo(_.x,_.y,!0),this._lineTo(u.x,u.y,!1);else{const m=this._prevPt,x=S;if(m.x<=this._xmin&&x.x<=this._xmin||m.x>=this._xmax&&x.x>=this._xmax||m.y<=this._ymin&&x.y<=this._ymin||m.y>=this._ymax&&x.y>=this._ymax)this._lineTo(x.x,x.y,!1);else{const c=[];if((m.x<this._xmin&&x.x>this._xmin||m.x>this._xmin&&x.x<this._xmin)&&(C=(this._xmin-m.x)/(x.x-m.x),j=m.y+C*(x.y-m.y),j<=this._ymin?Y=!1:j>=this._ymax?Y=!0:c.push(new w(C,this._xmin,j))),(m.x<this._xmax&&x.x>this._xmax||m.x>this._xmax&&x.x<this._xmax)&&(C=(this._xmax-m.x)/(x.x-m.x),j=m.y+C*(x.y-m.y),j<=this._ymin?Y=!1:j>=this._ymax?Y=!0:c.push(new w(C,this._xmax,j))),(m.y<this._ymin&&x.y>this._ymin||m.y>this._ymin&&x.y<this._ymin)&&(C=(this._ymin-m.y)/(x.y-m.y),g=m.x+C*(x.x-m.x),g<=this._xmin?K=!1:g>=this._xmax?K=!0:c.push(new w(C,g,this._ymin))),(m.y<this._ymax&&x.y>this._ymax||m.y>this._ymax&&x.y<this._ymax)&&(C=(this._ymax-m.y)/(x.y-m.y),g=m.x+C*(x.x-m.x),g<=this._xmin?K=!1:g>=this._xmax?K=!0:c.push(new w(C,g,this._ymax))),0===c.length)this._lineTo(K?this._xmax:this._xmin,Y?this._ymax:this._ymin,!0);else if(c.length>1&&c[0].ratio>c[1].ratio)this._start=this._dist+f*c[1].ratio,this._lineTo(c[1].x,c[1].y,!0),this._lineTo(c[0].x,c[0].y,!0);else{this._start=this._dist+f*c[0].ratio;for(let h=0;h<c.length;h++)this._lineTo(c[h].x,c[h].y,!0)}this._lineTo(x.x,x.y,!1)}}this._dist+=f,this._prevIsIn=a,this._prevPt=S}close(){if(this._line.length>2){const s=this._firstPt,n=this._prevPt;s.x===n.x&&s.y===n.y||this.lineTo(s.x,s.y);const a=this._line;let S=a.length;for(;S>=4&&(a[0].x===a[1].x&&a[0].x===a[S-2].x||a[0].y===a[1].y&&a[0].y===a[S-2].y);)a.pop(),a[0].x=a[S-2].x,a[0].y=a[S-2].y,--S}}result(s=!0){return this._pushLine(),0===this._lines.length?null:(this._type===d.Polygon&&s&&B.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==d.LineString)throw new Error("Only valid for lines");this._pushLine();const s=this._lines,n=s.length;if(0===n)return null;const a=[];for(let S=0;S<n;S++)a.push({line:s[S],start:this._starts[S]||0});return a}_isIn(s,n){return s>=this._xmin&&s<=this._xmax&&n>=this._ymin&&n<=this._ymax}_intersect(s,n){let a,S,f;if(n.x>=this._xmin&&n.x<=this._xmax)S=n.y<=this._ymin?this._ymin:this._ymax,f=(S-s.y)/(n.y-s.y),a=s.x+f*(n.x-s.x);else if(n.y>=this._ymin&&n.y<=this._ymax)a=n.x<=this._xmin?this._xmin:this._xmax,f=(a-s.x)/(n.x-s.x),S=s.y+f*(n.y-s.y);else{S=n.y<=this._ymin?this._ymin:this._ymax,a=n.x<=this._xmin?this._xmin:this._xmax;const u=(a-s.x)/(n.x-s.x),T=(S-s.y)/(n.y-s.y);u<T?(f=u,S=s.y+u*(n.y-s.y)):(f=T,a=s.x+T*(n.x-s.x))}return this._r=f,new v(a,S)}_pushLine(){this._line&&(this._type===d.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===d.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===d.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(s,n,a){this._type!==d.Polygon?a&&(s=Math.round((s-(this._xmin+this._margin))*this._finalRatio),n=Math.round((n-(this._ymin+this._margin))*this._finalRatio),this._line.push(new v(s,n))):(a||(s<this._xmin&&(s=this._xmin),s>this._xmax&&(s=this._xmax),n<this._ymin&&(n=this._ymin),n>this._ymax&&(n=this._ymax)),s=Math.round((s-(this._xmin+this._margin))*this._finalRatio),n=Math.round((n-(this._ymin+this._margin))*this._finalRatio),this._line.push(new v(s,n)),this._isH=!1,this._isV=!1)}_lineTo(s,n,a){let S,f;if(this._type!==d.Polygon)if(a){if(s=Math.round((s-(this._xmin+this._margin))*this._finalRatio),n=Math.round((n-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(S=this._line[this._line.length-1],S.equals(s,n)))return;this._line.push(new v(s,n))}else this._line&&this._line.length>0&&this._pushLine();else if(a||(s<this._xmin&&(s=this._xmin),s>this._xmax&&(s=this._xmax),n<this._ymin&&(n=this._ymin),n>this._ymax&&(n=this._ymax)),s=Math.round((s-(this._xmin+this._margin))*this._finalRatio),n=Math.round((n-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){S=this._line[this._line.length-1];const u=S.x===s,T=S.y===n;if(u&&T)return;this._isH&&u||this._isV&&T?(S.x=s,S.y=n,f=this._line[this._line.length-2],f.x===s&&f.y===n?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(f=this._line[this._line.length-2],this._isH=f.x===s,this._isV=f.y===n)):(this._isH=f.x===s,this._isV=f.y===n)):(this._line.push(new v(s,n)),this._isH=u,this._isV=T)}else this._line.push(new v(s,n))}}class W{setExtent(s){this._ratio=4096===s?1:4096/s}get validateTessellation(){return this._ratio<1}reset(s){this._lines=[],this._line=null}moveTo(s,n){this._line&&this._lines.push(this._line),this._line=[];const a=this._ratio;this._line.push(new v(s*a,n*a))}lineTo(s,n){const a=this._ratio;this._line.push(new v(s*a,n*a))}close(){const s=this._line;s&&!s[0].isEqual(s[s.length-1])&&s.push(s[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}!function(E){E[E.sideLeft=0]="sideLeft",E[E.sideRight=1]="sideRight",E[E.sideTop=2]="sideTop",E[E.sideBottom=3]="sideBottom"}(M||(M={}));class B{static simplify(s,n,a){if(!a)return;const S=-n,f=s+n,u=-n,T=s+n,_=[],C=[],K=a.length;for(let g=0;g<K;++g){const j=a[g];if(!j||j.length<2)continue;let m,x=j[0];const c=j.length;for(let h=1;h<c;++h)m=j[h],x.x===m.x&&(x.x<=S&&(x.y>m.y?(_.push(g),_.push(h),_.push(M.sideLeft),_.push(-1)):(C.push(g),C.push(h),C.push(M.sideLeft),C.push(-1))),x.x>=f&&(x.y<m.y?(_.push(g),_.push(h),_.push(M.sideRight),_.push(-1)):(C.push(g),C.push(h),C.push(M.sideRight),C.push(-1)))),x.y===m.y&&(x.y<=u&&(x.x<m.x?(_.push(g),_.push(h),_.push(M.sideTop),_.push(-1)):(C.push(g),C.push(h),C.push(M.sideTop),C.push(-1))),x.y>=T&&(x.x>m.x?(_.push(g),_.push(h),_.push(M.sideBottom),_.push(-1)):(C.push(g),C.push(h),C.push(M.sideBottom),C.push(-1)))),x=m}if(0===_.length||0===C.length)return;B.fillParent(a,C,_),B.fillParent(a,_,C);const Y=[];B.calcDeltas(Y,C,_),B.calcDeltas(Y,_,C),B.addDeltas(Y,a)}static fillParent(s,n,a){const S=a.length,f=n.length;for(let u=0;u<f;u+=4){const T=n[u],_=n[u+1],C=n[u+2],K=s[T][_-1],Y=s[T][_];let g=8092,j=-1;for(let m=0;m<S;m+=4){if(a[m+2]!==C)continue;const x=a[m],c=a[m+1],h=s[x][c-1],p=s[x][c];switch(C){case M.sideLeft:case M.sideRight:if(N(K.y,h.y,p.y)&&N(Y.y,h.y,p.y)){const O=Math.abs(p.y-h.y);O<g&&(g=O,j=m)}break;case M.sideTop:case M.sideBottom:if(N(K.x,h.x,p.x)&&N(Y.x,h.x,p.x)){const O=Math.abs(p.x-h.x);O<g&&(g=O,j=m)}}}n[u+3]=j}}static calcDeltas(s,n,a){const S=n.length;for(let f=0;f<S;f+=4){const T=B.calcDelta(f,n,a,[]);s.push(n[f]),s.push(n[f+1]),s.push(n[f+2]),s.push(T)}}static calcDelta(s,n,a,S){const f=n[s+3];if(-1===f)return 0;const u=S.length;return u>1&&S[u-2]===f?0:(S.push(f),B.calcDelta(f,a,n,S)+1)}static addDeltas(s,n){const a=s.length;let S=0;for(let f=0;f<a;f+=4){const u=s[f+3];u>S&&(S=u)}for(let f=0;f<a;f+=4){const u=n[s[f]],T=s[f+1],_=S-s[f+3];switch(s[f+2]){case M.sideLeft:u[T-1].x-=_,u[T].x-=_,1===T&&(u[u.length-1].x-=_),T===u.length-1&&(u[0].x-=_);break;case M.sideRight:u[T-1].x+=_,u[T].x+=_,1===T&&(u[u.length-1].x+=_),T===u.length-1&&(u[0].x+=_);break;case M.sideTop:u[T-1].y-=_,u[T].y-=_,1===T&&(u[u.length-1].y-=_),T===u.length-1&&(u[0].y-=_);break;case M.sideBottom:u[T-1].y+=_,u[T].y+=_,1===T&&(u[u.length-1].y+=_),T===u.length-1&&(u[0].y+=_)}}}}const N=(E,s,n)=>E>=s&&E<=n||E>=n&&E<=s},62003:(et,X,l)=>{l.r(X),l.d(X,{default:()=>Ft});var P=l(15861),d=l(50484),M=l(66476),v=l(37636),w=l(57964),U=l(34222),W=l(3233),B=l(79412),N=l(6785),E=l(80543),n=(l(14007),l(4703)),a=l(62185),S=l(10141),f=l(7547),u=l(26894),T=l(43814),_=l(95060),C=l(29674),K=l(13597),Y=l(4257),g=l(19855),j=l(27426),m=l(80099),x=l(70509),c=l(29717);let h=null;var O=l(40271);class G{constructor(i,r){this._spriteSource=i,this._maxTextureSize=r,this.devicePixelRatio=1,this._spriteImageFormat="png",this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus="not-loaded","url"===i.type&&i.spriteFormat&&(this._spriteImageFormat=i.spriteFormat),i.pixelRatio&&(this.devicePixelRatio=i.pixelRatio),this.baseURL=i.spriteUrl}get spriteNames(){const i=[];for(const r in this._spritesData)i.push(r);return i.sort(),i}getSpriteInfo(i){return this._spritesData?this._spritesData[i]:null}load(i){var r=this;return(0,P.Z)(function*(){if(r.baseURL){r.loadStatus="loading";try{yield r._loadSprites(i),r.loadStatus="loaded"}catch{r.loadStatus="failed"}}else r.loadStatus="failed"})()}_loadSprites(i){var r=this;return(0,P.Z)(function*(){r._isRetina=r.devicePixelRatio>1.15;const{width:o,height:y,data:A,json:R}=yield r._getSpriteData(r._spriteSource,i),L=Object.keys(R);if(!L||0===L.length||!A)return r._spritesData=r.image=null,void(r.width=r.height=0);r._spritesData=R,r.width=o,r.height=y;const D=Math.max(r._maxTextureSize,4096);if(o>D||y>D){const H=`Sprite resource for style ${r.baseURL} is bigger than the maximum allowed of ${D} pixels}`;throw n.Z.getLogger("esri.layers.support.SpriteSource").error(H),new w.Z("SpriteSource",H)}let b;for(let H=0;H<A.length;H+=4)b=A[H+3]/255,A[H]=A[H]*b,A[H+1]=A[H+1]*b,A[H+2]=A[H+2]*b;r.image=A})()}_getSpriteData(i,r){var o=this;return(0,P.Z)(function*(){if("image"===i.type){let Q,J;if(o.devicePixelRatio<1.15){if(!i.spriteSource1x)throw new w.Z("SpriteSource","no image data provided for low resolution sprites!");Q=i.spriteSource1x.image,J=i.spriteSource1x.json}else{if(!i.spriteSource2x)throw new w.Z("SpriteSource","no image data provided for high resolution sprites!");Q=i.spriteSource2x.image,J=i.spriteSource2x.json}return"width"in Q&&"height"in Q&&"data"in Q&&((0,O.eP)(Q.data)||(0,O.KZ)(Q.data))?{width:Q.width,height:Q.height,data:new Uint8Array(Q.data),json:J}:{...F(Q),json:J}}const y=(0,N.mN)(o.baseURL),A=y.query?"?"+(0,N.B7)(y.query):"",R=o._isRetina?"@2x":"",L=`${y.path}${R}.${o._spriteImageFormat}${A}`,D=`${y.path}${R}.json${A}`,[b,H]=yield Promise.all([(0,M.Z)(D,r),(0,M.Z)(L,{responseType:"image",...r})]);return{...F(H.data),json:b.data}})()}}function F(e){const i=document.createElement("canvas"),r=i.getContext("2d");i.width=e.width,i.height=e.height,r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height);return{width:e.width,height:e.height,data:new Uint8Array(o.data)}}var t=l(30220),z=l(27627),Z=l(33721),q=l(48230),$=l(54529);class nt{constructor(i){this.url=i}destroy(){this._tileIndexPromise=null}fetchTileIndex(){var i=this;return(0,P.Z)(function*(){return i._tileIndexPromise||(i._tileIndexPromise=(0,M.Z)(i.url).then(r=>r.data.index)),i._tileIndexPromise})()}dataKey(i,r){var o=this;return(0,P.Z)(function*(){const y=yield o.fetchTileIndex();return(0,B.k_)(r),o._getIndexedDataKey(y,i)})()}_getIndexedDataKey(i,r){const o=[r];if(r.level<0||r.row<0||r.col<0||r.row>>r.level>0||r.col>>r.level>0)return null;let y=r;for(;0!==y.level;)y=new $.Z(y.level-1,y.row>>1,y.col>>1,y.world),o.push(y);let A,R,L=i,D=o.pop();if(1===L)return D;for(;o.length;)if(A=o.pop(),R=(1&A.col)+((1&A.row)<<1),L){if(0===L[R]){D=null;break}if(1===L[R]){D=A;break}D=A,L=L[R]}return D}}var rt=l(51172);class dt{constructor(i,r){this._tilemap=i,this._tileIndexUrl=r}destroy(){this._tilemap=(0,rt.SC)(this._tilemap),this._tileIndexPromise=null}fetchTileIndex(i){var r=this;return(0,P.Z)(function*(){return r._tileIndexPromise||(r._tileIndexPromise=(0,M.Z)(r._tileIndexUrl,{query:{...i?.query}}).then(o=>o.data.index)),r._tileIndexPromise})()}dataKey(i,r){const{level:o,row:y,col:A}=i,R=new $.Z(i);return this._tilemap.fetchAvailabilityUpsample(o,y,A,R,r).then(()=>(R.world=i.world,R)).catch(L=>{if((0,B.D_)(L))throw L;return null})}}var lt=l(8611);class St{constructor(i){this._tileUrl=i,this._promise=null,this._abortController=null,this._abortOptions=[]}getData(i){(null==this._promise||(0,B.Hc)(this._abortController?.signal))&&(this._promise=this._makeRequest(this._tileUrl));const r=this._abortOptions;return r.push(i),(0,B.fu)(i,()=>{r.every(o=>(0,B.Hc)(o))&&this._abortController.abort()}),this._promise.then(o=>(0,U.d9)(o))}_makeRequest(i){var r=this;return(0,P.Z)(function*(){r._abortController=new AbortController;const{data:o}=yield(0,M.Z)(i,{responseType:"array-buffer",signal:r._abortController.signal});return o})()}}const ot=new Map;class ft{constructor(i,r,o){this.tilemap=null,this.tileInfo=null,this.capabilities=null,this.fullExtent=null,this.initialExtent=null,this.name=i,this.sourceUrl=r;const y=(0,N.mN)(this.sourceUrl),A=(0,U.d9)(o),R=A.tiles;if(y)for(let J=0;J<R.length;J++){const tt=(0,N.mN)(R[J]);tt&&((0,N.YP)(tt.path)||(tt.path=(0,N.v_)(y.path,tt.path)),R[J]=(0,N.fl)(tt.path,{...y.query,...tt.query}))}this.tileServers=R;const L=o.capabilities&&o.capabilities.split(",").map(J=>J.toLowerCase().trim()),D=!0===o?.exportTilesAllowed,b=!0===L?.includes("tilemap"),H=D&&o.hasOwnProperty("maxExportTilesCount")?o.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:D,supportsTileMap:b},exportTiles:D?{maxExportTilesCount:+H}:null},this.tileInfo=t.Z.fromJSON(A.tileInfo);const Q=o.tileMap?(0,N.fl)((0,N.v_)(y.path,o.tileMap),y.query??{}):null;b?(this.type="vector-tile",this.tilemap=new dt(new z.y({layer:{parsedUrl:y,tileInfo:this.tileInfo},minLOD:A.minLOD??this.tileInfo.lods[0].level,maxLOD:A.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}),Q)):Q&&(this.tilemap=new nt(Q)),this.fullExtent=u.Z.fromJSON(o.fullExtent),this.initialExtent=u.Z.fromJSON(o.initialExtent)}destroy(){this.tilemap?.destroy()}getRefKey(i,r){var o=this;return(0,P.Z)(function*(){return(yield o.tilemap?.dataKey(i,r))??i})()}requestTile(i,r,o,y){return function It(e,i,r,o,y){const A=(0,N.mN)(e),R=A.query;if(R)for(const[D,b]of Object.entries(R))switch(b){case"{x}":R[D]=o.toString();break;case"{y}":R[D]=r.toString();break;case"{z}":R[D]=i.toString()}return function xt(e,i){return(0,lt.s1)(ot,e,()=>new St(e)).getData(i).finally(()=>ot.delete(e))}((0,N.fl)(A.path.replaceAll(/\{z\}/gi,i.toString()).replaceAll(/\{y\}/gi,r.toString()).replaceAll(/\{x\}/gi,o.toString()),{...A.query}),y)}(this.tileServers[r%this.tileServers.length],i,r,o,y)}isCompatibleWith(i){const r=this.tileInfo,o=i.tileInfo;if(!r.spatialReference.equals(o.spatialReference)||!r.origin.equals(o.origin)||Math.round(r.dpi)!==Math.round(o.dpi))return!1;const y=r.lods,A=o.lods,R=Math.min(y.length,A.length);for(let L=0;L<R;L++){const D=y[L],b=A[L];if(D.level!==b.level||Math.round(D.scale)!==Math.round(b.scale))return!1}return!0}}function at(){return(at=(0,P.Z)(function*(e,i){const r={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[o,y]="string"==typeof e?[e,null]:[null,e.jsonUrl];return yield st(r,"esri",e,y,i),{layerDefinition:r.validatedSource,url:o,serviceUrl:r.sourceUrl,style:r.style,styleUrl:r.styleUrl,spriteUrl:r.style.sprite&&it(r.styleBase,r.style.sprite),spriteFormat:r.spriteFormat,glyphsUrl:r.style.glyphs&&it(r.styleBase,r.style.glyphs),sourceNameToSource:r.sourceNameToSource,primarySourceName:r.primarySourceName}})).apply(this,arguments)}function it(...e){let i;for(const r of e)null!=r&&((0,N.oC)(r)?i&&(i=i.split("://")[0]+":"+r.trim()):i=(0,N.YP)(r)?r:(0,N.v_)(i,r));return i?(0,N.Qj)(i):void 0}function st(e,i,r,o,y){return ut.apply(this,arguments)}function ut(){return ut=(0,P.Z)(function*(e,i,r,o,y){let A,R,L;if((0,B.k_)(y),"string"==typeof r){const b=(0,N.Fv)(r);L=yield(0,M.Z)(b,{...y,responseType:"json",query:{f:"json",...y?.query}}),L.ssl&&(A&&(A=A.replace(/^http:/i,"https:")),R&&(R=R.replace(/^http:/i,"https:"))),A=b,R=b}else null!=r&&(L={data:r},A=r.jsonUrl||null,R=o);const D=L?.data;if(At(D))return e.styleUrl=A||null,function yt(e,i,r,o){return ht.apply(this,arguments)}(e,D,R,y);if(function Mt(e){return!At(e)}(D))return e.sourceUrl?Tt(e,D,R,!1,i,y):(e.sourceUrl=A||null,Tt(e,D,R,!0,i,y));throw new Error("You must specify the URL or the JSON for a service or for a style.")}),ut.apply(this,arguments)}function ct(e){return"object"==typeof e&&!!e&&"tilejson"in e&&null!=e.tilejson}function At(e){return!!e&&"sources"in e&&!!e.sources}function ht(){return(ht=(0,P.Z)(function*(e,i,r,o){const y=r?(0,N.Yd)(r):(0,N.L)();e.styleBase=y,e.style=i,i["sprite-format"]&&"webp"===i["sprite-format"].toLowerCase()&&(e.spriteFormat="webp");const A=[];if(i.sources&&i.sources.esri){const R=i.sources.esri;R.url?yield st(e,"esri",it(y,R.url),void 0,o):A.push(st(e,"esri",R,y,o))}for(const R of Object.keys(i.sources))"esri"!==R&&"vector"===i.sources[R].type&&(i.sources[R].url?A.push(st(e,R,it(y,i.sources[R].url),void 0,o)):i.sources[R].tiles&&A.push(st(e,R,i.sources[R],y,o)));yield Promise.all(A)})).apply(this,arguments)}function Tt(e,i,r,o,y,A){return Et.apply(this,arguments)}function Et(){return(Et=(0,P.Z)(function*(e,i,r,o,y,A){const R=r?(0,N.Qj)(r)+"/":(0,N.L)(),L=function mt(e){if(function Dt(e){return e.hasOwnProperty("tileInfo")}(e)){const H=e?.tileInfo;return null!=H&&(null==H.rows&&(H.rows=512),null==H.cols&&(H.cols=512)),e}const r={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100,latestWkid:3857}};let o=null;if(ct(e)){const{bounds:H}=e;if(H){const Q=(0,q.$)({x:H[0],y:H[1],spatialReference:(0,U.d9)(Z.YU)}),J=(0,q.$)({x:H[2],y:H[3],spatialReference:(0,U.d9)(Z.YU)});o={xmin:Q.x,ymin:Q.y,xmax:J.x,ymax:J.y,spatialReference:(0,U.d9)(Z.IU)}}}null===o&&(o=r);let y=78271.51696400007,A=295828763.7957775;const R=[],L=e.hasOwnProperty("maxzoom")&&null!=e.maxzoom?+e.maxzoom:22;for(let H=0;H<=L;H++)R.push({level:H,scale:A,resolution:y}),y/=2,A/=2;return{capabilities:"TilesOnly",initialExtent:o,fullExtent:r,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:R,spatialReference:(0,U.d9)(Z.IU)}}}(i),D=new ft(y,(0,N.fl)(R,A?.query??{}),L);if(!o&&e.primarySourceName in e.sourceNameToSource){const b=e.sourceNameToSource[e.primarySourceName];if(!b.isCompatibleWith(D))return;null!=D.fullExtent&&(null!=b.fullExtent?b.fullExtent.union(D.fullExtent):b.fullExtent=D.fullExtent.clone()),b.tileInfo&&D.tileInfo&&b.tileInfo.lods.length<D.tileInfo.lods.length&&(b.tileInfo=D.tileInfo)}if(o&&(e.sourceBase=R,e.source=i,e.validatedSource=L,e.primarySourceName=y),e.sourceNameToSource[y]=D,!ct(e)&&"defaultStyles"in i&&!e.style){if(null==i.defaultStyles)throw new Error;return"string"==typeof i.defaultStyles?st(e,"",it(R,i.defaultStyles,"root.json"),void 0,A):st(e,"",i.defaultStyles,it(R,"root.json"),A)}})).apply(this,arguments)}var Lt=l(453),Ut=l(71438),gt=l(19677),Ct=l(44107),Nt=l(8321);const _t=1e-6;function vt(e,i){if(e===i)return!0;if(null==e&&null!=i||null!=e&&null==i||null==e||null==i||!e.spatialReference.equals(i.spatialReference)||e.dpi!==i.dpi)return!1;const r=e.origin,o=i.origin;if(Math.abs(r.x-o.x)>=_t||Math.abs(r.y-o.y)>=_t)return!1;let y,A;e.lods[0].scale>i.lods[0].scale?(y=e,A=i):(A=e,y=i);for(let R=y.lods[0].scale;R>=A.lods[A.lods.length-1].scale-_t;R/=2)if(Math.abs(R-A.lods[0].scale)<_t)return!0;return!1}function Bt(e,i){if(e===i)return e;if(null==e&&null!=i)return i;if(null!=e&&null==i)return e;if(null==e||null==i)return null;const r=e.size[0],o=e.format,y=e.dpi,A=new Ct.Z({x:e.origin.x,y:e.origin.y}),R=e.spatialReference,L=e.lods[0].scale>i.lods[0].scale?e.lods[0]:i.lods[0],Q=(e.lods[e.lods.length-1].scale<=i.lods[i.lods.length-1].scale?e.lods[e.lods.length-1]:i.lods[i.lods.length-1]).scale,J=[];let tt=L.scale,pt=L.resolution,Rt=0;for(;tt>Q;)J.push(new Nt.Z({level:Rt,resolution:pt,scale:tt})),Rt++,tt/=2,pt/=2;return new t.Z({size:[r,r],dpi:y,format:o||"pbf",origin:A,lods:J,spatialReference:R})}var Gt=l(14433),Pt=l(19903);let V=class extends((0,g.h7)((0,c.M)((0,K.Z)((0,Y.Y)((0,m.q)((0,x.I)((0,j.N)((0,C.V)((0,W.R)(_.Z)))))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.isReference=null,this.operationalLayerType="VectorTileLayer",this.style=null,this.tilemapCache=null,this.type="vector-tile",this.url=null,this.path=null}normalizeCtorArgs(e,i){return"string"==typeof e?{url:e,...i}:e}destroy(){if(this.sourceNameToSource)for(const e of Object.values(this.sourceNameToSource))e?.destroy();this.primarySource?.destroy(),this._spriteSourceMap.clear()}prefetchResources(e){var i=this;return(0,P.Z)(function*(){yield i.loadSpriteSource(globalThis.devicePixelRatio||1,e)})()}load(e){var i=this;const r=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},e).catch(B.r9).then((0,P.Z)(function*(){if(!i.portalItem?.id)return;const o=`${i.portalItem.itemCdnUrl}/resources/styles/root.json`;(yield(0,M.Z)(o,{...e,query:{f:"json",...i.customParameters,token:i.apiKey}})).data&&i.read({url:o},(0,Lt.h)(i.portalItem,"portal-item"))})).catch(B.r9).then(()=>this._loadStyle(e));return this.addResolvingPromise(r),Promise.resolve(this)}get attributionDataUrl(){const e=this.currentStyleInfo,i=e?.serviceUrl&&(0,N.mN)(e.serviceUrl);if(!i)return null;const r=this._getDefaultAttribution(i.path);return r?(0,N.fl)(r,{...this.customParameters,token:this.apiKey}):null}get capabilities(){const e=this.primarySource;return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){return this.primarySource?.fullExtent||null}get initialExtent(){return this.primarySource?.initialExtent||null}get parsedUrl(){return this.serviceUrl?(0,N.mN)(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo?.serviceUrl||null}get spatialReference(){return this.tileInfo?.spatialReference??null}get styleUrl(){return this.currentStyleInfo?.styleUrl||null}writeStyleUrl(e,i){e&&(0,N.oC)(e)&&(e=`https:${e}`);const r=(0,Ut.a5)(e);i.styleUrl=(0,gt.e)(e,r)}get tileInfo(){const e=[];for(const r in this.sourceNameToSource)e.push(this.sourceNameToSource[r]);let i=this.primarySource?.tileInfo||new t.Z;if(e.length>1)for(let r=0;r<e.length;r++)vt(i,e[r].tileInfo)&&(i=Bt(i,e[r].tileInfo));return i}readTilemapCache(e,i){return i.capabilities?.includes("Tilemap")?new z.y({layer:this}):null}readVersion(e,i){return i.version?parseFloat(i.version):parseFloat(i.currentVersion)}loadSpriteSource(e=1,i){var r=this;return(0,P.Z)(function*(){if(!r._spriteSourceMap.has(e)){const o=(0,Pt.h)().maxTextureSize,y=r.currentStyleInfo?.spriteUrl?(0,N.fl)(r.currentStyleInfo.spriteUrl,{...r.customParameters,token:r.apiKey}):null,A=new G({type:"url",spriteUrl:y,pixelRatio:e,spriteFormat:r.currentStyleInfo?.spriteFormat},o);yield A.load(i),r._spriteSourceMap.set(e,A)}return r._spriteSourceMap.get(e)})()}setSpriteSource(e,i){var r=this;return(0,P.Z)(function*(){if(!e)return null;const o=(0,Pt.h)().maxTextureSize,y=e.spriteUrl,A=y?(0,N.fl)(y,{...r.customParameters,token:r.apiKey}):null;if(!A&&"url"===e.type)return null;const R=new G(e,o);try{yield R.load(i);const L=e.pixelRatio||1;return r._spriteSourceMap.clear(),r._spriteSourceMap.set(L,R),A&&r.currentStyleInfo&&(r.currentStyleInfo.spriteUrl=A),r.emit("spriteSource-change",{spriteSource:R}),R}catch(L){(0,B.r9)(L)}return null})()}loadStyle(e,i){var r=this;return(0,P.Z)(function*(){const o=e||r.style||r.url;return r._loadingTask&&"string"==typeof o&&r.url===o||(r._loadingTask?.abort(),r._loadingTask=(0,v.vr)(y=>(r._spriteSourceMap.clear(),r._getSourceAndStyle(o,{signal:y})),i)),r._loadingTask.promise})()}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){return(0,U.d9)(this.styleRepository?.getPaintProperties(e))}setPaintProperties(e,i){const r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,i);const o=this.styleRepository.isPainterDataDriven(e);this.emit("paint-change",{layer:e,paint:i,isDataDriven:r||o})}getStyleLayer(e){return(0,U.d9)(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,i){this.styleRepository.setStyleLayer(e,i),this.emit("style-layer-change",{layer:e,index:i})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit("delete-style-layer",{layer:e})}getLayoutProperties(e){return(0,U.d9)(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,i){this.styleRepository.setLayoutProperties(e,i),this.emit("layout-change",{layer:e,layout:i})}setStyleLayerVisibility(e,i){this.styleRepository.setStyleLayerVisibility(e,i),this.emit("style-layer-visibility-change",{layer:e,visibility:i})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}write(e,i){return i?.origin&&!this.styleUrl?(i.messages&&i.messages.push(new w.Z("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,i)}getTileUrl(e,i,r){return null}_getSourceAndStyle(e,i){var r=this;return(0,P.Z)(function*(){if(!e)throw new Error("invalid style!");const o=yield function Ot(e,i){return at.apply(this,arguments)}(e,{...i,query:{...r.customParameters,token:r.apiKey}});"webp"===o.spriteFormat&&((yield function p(e){if(h)return h;const i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return h=new Promise(r=>{const o=new Image;o.onload=()=>{o.onload=o.onerror=null,r(o.width>0&&o.height>0)},o.onerror=()=>{o.onload=o.onerror=null,r(!1)},o.src="data:image/webp;base64,"+i[e]}),h}("lossy"))||(o.spriteFormat="png")),r._set("currentStyleInfo",{...o}),"string"==typeof e?(r.url=e,r.style=null):(r.url=null,r.style=e),r._set("sourceNameToSource",o.sourceNameToSource),r._set("primarySource",o.sourceNameToSource[o.primarySourceName]),r._set("styleRepository",new Gt.Z(o.style)),r.read(o.layerDefinition,{origin:"service"}),r.emit("load-style")})()}_getDefaultAttribution(e){const i=e.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^/]+)?\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/vectortileserver/i),r=["OpenStreetMap_v2","OpenStreetMap_Daylight_v2","OpenStreetMap_Export_v2","OpenStreetMap_FTS_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84","World_Contours_v2","World_Hillshade_v2"];if(!i)return;const o=i[2]&&i[2].toLowerCase();if(!o)return;const y=i[1]||"";for(const A of r)if(A.toLowerCase().includes(o))return(0,N.Fv)(`//static.arcgis.com/attribution/Vector${y}/${A}`)}_loadStyle(e){var i=this;return(0,P.Z)(function*(){return i._loadingTask?.promise??i.loadStyle(null,e)})()}};(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"attributionDataUrl",null),(0,d._)([(0,E.Cb)({type:["show","hide"]})],V.prototype,"listMode",void 0),(0,d._)([(0,E.Cb)({json:{read:!0,write:!0}})],V.prototype,"blendMode",void 0),(0,d._)([(0,E.Cb)({readOnly:!0,json:{read:!1}})],V.prototype,"capabilities",null),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"currentStyleInfo",void 0),(0,d._)([(0,E.Cb)({json:{read:!1},readOnly:!0,type:u.Z})],V.prototype,"fullExtent",null),(0,d._)([(0,E.Cb)({json:{read:!1},readOnly:!0,type:u.Z})],V.prototype,"initialExtent",null),(0,d._)([(0,E.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],V.prototype,"isReference",void 0),(0,d._)([(0,E.Cb)({type:["VectorTileLayer"]})],V.prototype,"operationalLayerType",void 0),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"parsedUrl",null),(0,d._)([(0,E.Cb)()],V.prototype,"style",void 0),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"serviceUrl",null),(0,d._)([(0,E.Cb)({type:T.Z,readOnly:!0})],V.prototype,"spatialReference",null),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"styleRepository",void 0),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"sourceNameToSource",void 0),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"primarySource",void 0),(0,d._)([(0,E.Cb)({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],V.prototype,"styleUrl",null),(0,d._)([(0,f.c)(["portal-item","web-document"],"styleUrl")],V.prototype,"writeStyleUrl",null),(0,d._)([(0,E.Cb)({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:t.Z})],V.prototype,"tileInfo",null),(0,d._)([(0,E.Cb)()],V.prototype,"tilemapCache",void 0),(0,d._)([(0,a.r)("service","tilemapCache",["capabilities","tileInfo"])],V.prototype,"readTilemapCache",null),(0,d._)([(0,E.Cb)({json:{read:!1},readOnly:!0,value:"vector-tile"})],V.prototype,"type",void 0),(0,d._)([(0,E.Cb)({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],V.prototype,"url",void 0),(0,d._)([(0,E.Cb)({readOnly:!0})],V.prototype,"version",void 0),(0,d._)([(0,a.r)("version",["version","currentVersion"])],V.prototype,"readVersion",null),(0,d._)([(0,E.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],V.prototype,"path",void 0),V=(0,d._)([(0,S.j)("esri.layers.VectorTileLayer")],V);const Ft=V},29674:(et,X,l)=>{l.d(X,{V:()=>B});var P=l(50484),d=l(80543),U=(l(14007),l(4703),l(65311),l(10141));const B=N=>{let E=class extends N{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function W(N){return"portalItem"in N}(this)?this.portalItem?.apiKey:null}set apiKey(s){null!=s?this._override("apiKey",s):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,P._)([(0,d.Cb)({type:String})],E.prototype,"apiKey",null),E=(0,P._)([(0,U.j)("esri.layers.mixins.APIKeyMixin")],E),E}},4257:(et,X,l)=>{l.d(X,{Y:()=>B});var P=l(50484),d=l(4703),M=l(80543),U=(l(14007),l(65311),l(10141)),W=l(89713);const B=N=>{let E=class extends N{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const s=(0,W.Qc)(this.url);if(null!=s&&s.title)return s.title}return this._get("title")||""}set title(s){this._set("title",s)}set url(s){this._set("url",(0,W.Nm)(s,d.Z.getLogger(this)))}};return(0,P._)([(0,M.Cb)()],E.prototype,"title",null),(0,P._)([(0,M.Cb)({type:String})],E.prototype,"url",null),E=(0,P._)([(0,U.j)("esri.layers.mixins.ArcGISService")],E),E}},27426:(et,X,l)=>{l.d(X,{N:()=>W});var P=l(50484),d=l(80543),U=(l(14007),l(4703),l(65311),l(10141));const W=B=>{let N=class extends B{constructor(){super(...arguments),this.customParameters=null}};return(0,P._)([(0,d.Cb)({type:Object,json:{write:{overridePolicy:E=>({enabled:!!(E&&Object.keys(E).length>0)})}}})],N.prototype,"customParameters",void 0),N=(0,P._)([(0,U.j)("esri.layers.mixins.CustomParametersMixin")],N),N}},70509:(et,X,l)=>{l.d(X,{I:()=>j});var P=l(15861),d=l(50484),M=l(11931),v=l(26152),w=l(66476),U=l(37636),W=l(57964),B=l(4703),N=l(51172),E=l(79412),s=l(6785),n=l(80543),f=(l(14007),l(65311),l(62185)),u=l(10141),T=l(7547),_=l(85971),C=l(61018),K=l(27835),Y=l(57437),g=l(50318);const j=x=>{let c=class extends x{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,N.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(h){h!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",h))}readPortalItem(h,p,O){if(p.itemId)return new K.default({id:p.itemId,portal:O?.portal})}writePortalItem(h,p){h?.id&&(p.itemId=h.id)}loadFromPortal(h,p){var O=this;return(0,P.Z)(function*(){if(O.portalItem?.id)try{const{load:I}=yield Promise.all([l.e(2772),l.e(8592),l.e(6964)]).then(l.bind(l,36964));return(0,E.k_)(p),yield I({instance:O,supportedTypes:h.supportedTypes,validateItem:h.validateItem,supportsData:h.supportsData,layerModuleTypeMap:h.layerModuleTypeMap},p)}catch(I){throw(0,E.D_)(I)||B.Z.getLogger(O).warn(`Failed to load layer (${O.title}, ${O.id}) portal item (${O.portalItem.id})\n  ${I}`),I}})()}finishLoadEditablePortalLayer(h){var p=this;return(0,P.Z)(function*(){p._set("userHasEditingPrivileges",yield p._fetchUserHasEditingPrivileges(h).catch(O=>((0,E.r9)(O),!0)))})()}setUserPrivileges(h,p){var O=this;return(0,P.Z)(function*(){if(!M.default.userPrivilegesApplied)return O.finishLoadEditablePortalLayer(p);if(O.url)try{const{features:{edit:I,fullEdit:G},content:{updateItem:F}}=yield O._fetchUserPrivileges(h,p);O._set("userHasEditingPrivileges",I),O._set("userHasFullEditingPrivileges",G),O._set("userHasUpdateItemPrivileges",F)}catch(I){(0,E.r9)(I)}})()}_fetchUserPrivileges(h,p){var O=this;return(0,P.Z)(function*(){let I=O.portalItem;if(!h||!I||!I.loaded||I.sourceUrl)return O._fetchFallbackUserPrivileges(p);const G=h===I.id;if(G&&I.portal.user)return(0,g.Ss)(I);let F,t;if(G)F=I.portal.url;else try{F=yield(0,_.oP)(O.url,p)}catch($){(0,E.r9)($)}if(!F||!(0,s.Zo)(F,I.portal.url))return O._fetchFallbackUserPrivileges(p);try{const $=null!=p?p.signal:null;t=yield v.id?.getCredential(`${F}/sharing`,{prompt:!1,signal:$})}catch($){(0,E.r9)($)}if(!t)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(G?yield I.reload():(I=new K.default({id:h,portal:{url:F}}),yield I.load(p)),I.portal.user)return(0,g.Ss)(I)}catch($){(0,E.r9)($)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(h){var p=this;return(0,P.Z)(function*(){let O=!0;try{O=yield p._fetchUserHasEditingPrivileges(h)}catch(I){(0,E.r9)(I)}return{features:{edit:O,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(h){var p=this;return(0,P.Z)(function*(){const O=p.url?v.id?.findCredential(p.url):null;if(!O)return!0;const I=m.credential===O?m.user:yield p._fetchEditingUser(h);return m.credential=O,m.user=I,null==I?.privileges||I.privileges.includes("features:user:edit")})()}_fetchEditingUser(h){var p=this;return(0,P.Z)(function*(){const O=p.portalItem?.portal?.user;if(O)return O;const I=v.id?.findServerInfo(p.url??"");if(!I?.owningSystemUrl)return null;const G=`${I.owningSystemUrl}/sharing/rest`,F=C.Z.getDefault();if(F&&F.loaded&&(0,s.Fv)(F.restUrl)===(0,s.Fv)(G))return F.user;const t=`${G}/community/self`,z=null!=h?h.signal:null,Z=yield(0,U.q6)((0,w.Z)(t,{authMode:"no-prompt",query:{f:"json"},signal:z}));return Z.ok?Y.Z.fromJSON(Z.value.data):null})()}read(h,p){p&&(p.layer=this),super.read(h,p)}write(h,p){const O=p?.portal,I=this.portalItem?.id&&(this.portalItem.portal||C.Z.getDefault());return O&&I&&!(0,s.tm)(I.restUrl,O.restUrl)?(p.messages&&p.messages.push(new W.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(h,{...p,layer:this})}};return(0,d._)([(0,n.Cb)({type:K.default})],c.prototype,"portalItem",null),(0,d._)([(0,f.r)("web-document","portalItem",["itemId"])],c.prototype,"readPortalItem",null),(0,d._)([(0,T.c)("web-document","portalItem",{itemId:{type:String}})],c.prototype,"writePortalItem",null),(0,d._)([(0,n.Cb)({clonable:!1})],c.prototype,"resourceReferences",void 0),(0,d._)([(0,n.Cb)({type:Boolean,readOnly:!0})],c.prototype,"userHasEditingPrivileges",void 0),(0,d._)([(0,n.Cb)({type:Boolean,readOnly:!0})],c.prototype,"userHasFullEditingPrivileges",void 0),(0,d._)([(0,n.Cb)({type:Boolean,readOnly:!0})],c.prototype,"userHasUpdateItemPrivileges",void 0),c=(0,d._)([(0,u.j)("esri.layers.mixins.PortalLayer")],c),c},m={credential:null,user:null}},453:(et,X,l)=>{l.d(X,{Y:()=>v,h:()=>M});var P=l(6785),d=l(61018);function M(U,W){return{...w(U,W),readResourcePaths:[]}}function v(U,W,B){const N=(0,P.mN)(U.itemUrl);return{...w(U,W),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:N?{rootPath:N.path,writtenUrls:[]}:null,resources:B?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function w(U,W){return{origin:W,url:(0,P.mN)(U.itemUrl),portal:U.portal||d.Z.getDefault(),portalItem:U}}},50318:(et,X,l)=>{l.d(X,{$o:()=>n,Fj:()=>N,IW:()=>s,Ss:()=>f,_$:()=>B,ck:()=>E,hz:()=>S,qj:()=>W});var P=l(15861),d=l(83821),M=l(43814),v=l(48230);function U(){return(U=(0,P.Z)(function*(u){const T=u.spatialReference;if(T.isWGS84)return u.clone();if(T.isWebMercator)return(0,v.Sx)(u);const _=M.Z.WGS84;return yield(0,d.initializeProjection)(T,_),(0,d.project)(u,_)})).apply(this,arguments)}function W(u,T){if(!B(u,T)){const _=u.typeKeywords;_?_.push(T):u.typeKeywords=[T]}}function B(u,T){return!!u.typeKeywords?.includes(T)}function N(u){return B(u,S.HOSTED_SERVICE)}function E(u,T){const _=u.typeKeywords;if(_){const C=_.indexOf(T);C>-1&&_.splice(C,1)}}function s(u,T,_){_?W(u,T):E(u,T)}function n(u){return a.apply(this,arguments)}function a(){return a=(0,P.Z)(function*(u){const T=u.clone().normalize();let _;if(T.length>1)for(const C of T)_?C.width>_.width&&(_=C):_=C;else _=T[0];return function w(u){return U.apply(this,arguments)}(_)}),a.apply(this,arguments)}const S={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function f(u){const{portal:T,isOrgItem:_,itemControl:C}=u,K=T.user?.privileges;let Y=!K||K.includes("features:user:edit"),g=!!_&&!!K?.includes("features:user:fullEdit");const j="update"===C||"admin"===C;return j?g=Y=!0:g&&(Y=!0),{features:{edit:Y,fullEdit:g},content:{updateItem:j}}}},26128:(et,X,l)=>{l.d(X,{DQ:()=>E,FM:()=>M,KU:()=>K,Of:()=>Y,Or:()=>s,Px:()=>j,RD:()=>v,Wg:()=>x,Z0:()=>g,k3:()=>a,nF:()=>B,pK:()=>m,s5:()=>n,sX:()=>f,yF:()=>w});var P=l(54746),d=l(80247);const M=Number.POSITIVE_INFINITY,v=Math.PI,w=2*v,U=128/v,W=256/360,B=v/180,N=1/Math.LN2;function E(c,h){return(c%=h)>=0?c:c+h}function s(c){return E(c*U,256)}function n(c){return E(c*W,256)}function a(c){return Math.log(c)*N}function f(c,h,p){return c*(1-p)+h*p}const T=8,_=14,C=16;function K(c){return T+Math.max((c-_)*C,0)}function Y(c,h,p){let O,I,G,F=0;for(const t of p){O=t.length;for(let z=1;z<O;++z)I=t[z-1],G=t[z],I.y>h!=G.y>h&&((G.x-I.x)*(h-I.y)-(G.y-I.y)*(c-I.x)>0?F++:F--)}return 0!==F}function g(c,h,p,O){let I,G,F,t;const z=O*O;for(const Z of p){const q=Z.length;if(!(q<2)){I=Z[0].x,G=Z[0].y;for(let $=1;$<q;++$){if(F=Z[$].x,t=Z[$].y,(0,P.Hu)(c,h,I,G,F,t)<z)return!0;I=F,G=t}}}return!1}function j(c,h,p,O,I,G,F){const t=Math.max(O,Math.min(h,G))-h,z=Math.max(I,Math.min(p,F))-p;return t*t+z*z<=c*c}function m(c,h){if(0===h||Number.isNaN(h))return c;const p=[],O=new d.E9(0,0),I=new d.E9(0,0),G=new d.E9(0,0);for(let F=0;F<c.length;F++){const t=c[F],z=[];for(let Z=0;Z<t.length;Z++){const q=t[Z-1],$=t[Z],nt=t[Z+1];0===Z?O.setCoords(0,0):O.assignSub($,q).normalize().rightPerpendicular(),Z===t.length-1?I.setCoords(0,0):I.assignSub(nt,$).normalize().rightPerpendicular(),G.assignAdd(O,I).normalize();const rt=G.x*I.x+G.y*I.y;0!==rt&&G.scale(1/rt),z.push(d.E9.add($,G.scale(h)))}p.push(z)}return p}function x(c,h,p,O){const I=new d.E9(c[0],c[1]);if(I.scale(O),"viewport"===h){const G=-p*(Math.PI/180),F=Math.cos(G),t=Math.sin(G);I.rotate(F,t)}return I}},99657:(et,X,l)=>{l.d(X,{$0:()=>Et,A5:()=>pt,BZ:()=>L,FM:()=>mt,GV:()=>Q,Ib:()=>O,J1:()=>b,JS:()=>Ct,KA:()=>Nt,Kt:()=>h,Ly:()=>z,NG:()=>R,NT:()=>Rt,NY:()=>I,Of:()=>rt,Pp:()=>a,S3:()=>at,Sf:()=>nt,Uz:()=>A,Vo:()=>At,Zt:()=>$,_8:()=>tt,_E:()=>ct,ad:()=>E,bm:()=>F,ce:()=>Z,cz:()=>q,dD:()=>ut,do:()=>ft,fG:()=>st,g3:()=>ot,gj:()=>m,i9:()=>U,iA:()=>ht,iD:()=>j,j1:()=>t,k9:()=>M,kU:()=>It,l3:()=>H,nn:()=>D,pd:()=>it,s4:()=>yt,uk:()=>f,vk:()=>dt,wJ:()=>p,wN:()=>Ot,wi:()=>lt,zZ:()=>G});const M=1e-30,U=512,E=16777216,a=8,f=29,j=24,m=4,h=0,p=0,O=0,I=1,G=2,F=3,t=4,z=5,Z=6,q=12,$=5,nt=6,rt=5,dt=6;var lt,k;(k=lt||(lt={}))[k.FilterFlags=0]="FilterFlags",k[k.Animation=1]="Animation",k[k.GPGPU=2]="GPGPU",k[k.VV=3]="VV",k[k.DD0=4]="DD0",k[k.DD1=5]="DD1",k[k.DD2=6]="DD2";const ot=8,It=ot<<1,ft=1.05,Ot=3,at=1,it=3,st=3,ut=5,ct=6,At=1.15,yt=2,ht=128,Et=256-2*yt,mt=2,Ct=10,Nt=1024,A=128,R=4,L=1,D=1<<20,b=.75,H=10,Q=.75,tt=256,pt=32,Rt=512},39237:(et,X,l)=>{var P,d,M,v,w,U,W,B,N,E,s,n,a,S,f,u,T,_,C,K,t;l.d(X,{Br:()=>u,Ho:()=>C,LR:()=>U,Lu:()=>x,MX:()=>d,No:()=>a,Se:()=>h,Tg:()=>T,V1:()=>Y,V7:()=>G,VI:()=>S,VY:()=>j,Wf:()=>W,Xg:()=>m,Y5:()=>I,_g:()=>g,cw:()=>s,db:()=>v,e8:()=>n,g:()=>B,l1:()=>_,lP:()=>f,lk:()=>P,q_:()=>c,qi:()=>K,w0:()=>w,wb:()=>N,xS:()=>E,zi:()=>M}),(t=P||(P={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(d||(d={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(M||(M={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(v||(v={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(w||(w={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(U||(U={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(W||(W={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(B||(B={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(N||(N={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(E||(E={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(s||(s={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(n||(n={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(a||(a={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(S||(S={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(f||(f={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(u||(u={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(T||(T={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(_||(_={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(C||(C={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(K||(K={}));const Y=33984;var g,j,m;(function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"})(g||(g={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(j||(j={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(m||(m={}));const x=33306;var c,h,p,O,I,G,F;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(c||(c={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(h||(h={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(p||(p={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(O||(O={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(I||(I={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(G||(G={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(F||(F={}))}}]);