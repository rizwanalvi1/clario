"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[5904],{70930:(pt,fe,V)=>{V.d(fe,{EN:()=>M,H9:()=>y,eS:()=>U,f:()=>c});var c,O,oe=V(72578);(O=c||(c={})).InvalidFunctionParameters="InvalidFunctionParameters",O.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",O.UnsupportedSqlFunction="UnsupportedSqlFunction",O.UnsupportedOperator="UnsupportedOperator",O.UnsupportedSyntax="UnsupportedSyntax",O.UnsupportedIsRhs="UnsupportedIsRhs",O.UnsupportedIsLhs="UnsupportedIsLhs",O.InvalidDataType="InvalidDataType",O.CannotCastValue="CannotCastValue",O.FunctionNotRecognized="FunctionNotRecognized",O.InvalidTime="InvalidTime",O.InvalidParameterCount="InvalidParameterCount",O.InvalidTimeStamp="InvalidTimeStamp",O.InvalidDate="InvalidDate",O.InvalidOperator="InvalidOperator",O.IllegalInterval="IllegalInterval",O.YearMonthIntervals="YearMonthIntervals",O.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",O.MissingStatisticParameters="MissingStatisticParameters";const B={[c.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[c.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[c.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[c.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[c.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[c.UnsupportedOperator]:"Unsupported operator - {operator}",[c.UnsupportedSyntax]:"Unsupported syntax - {node}",[c.UnsupportedSqlFunction]:"Sql function not found = {function}",[c.InvalidDataType]:"Invalid sql data type",[c.InvalidDate]:"Invalid date encountered",[c.InvalidOperator]:"Invalid operator encountered",[c.InvalidTime]:"Invalid time encountered",[c.IllegalInterval]:"Illegal interval",[c.FunctionNotRecognized]:"Function not recognized",[c.InvalidTimeStamp]:"Invalid timestamp encountered",[c.InvalidParameterCount]:"Invalid parameter count for call to {name}",[c.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[c.YearMonthIntervals]:"Year-Month Intervals not supported",[c.CannotCastValue]:"Cannot cast value to the required data type"};class U extends Error{constructor(ae,ne){super((0,oe.gx)(B[ae],ne)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,U)}}var y;!function(O){O.NeverReach="NeverReach",O.NotImplemented="NotImplemented",O.Cancelled="Cancelled",O.InvalidStatResponse="InvalidStatResponse",O.InvalidRequest="InvalidRequest",O.RequestFailed="RequestFailed",O.MissingFeatures="MissingFeatures",O.AggregationFieldNotFound="AggregationFieldNotFound",O.DataElementsNotFound="DataElementsNotFound"}(y||(y={}));const J={[y.Cancelled]:"Cancelled",[y.InvalidStatResponse]:"Invalid statistics response from service",[y.InvalidRequest]:"Invalid request",[y.RequestFailed]:"Request failed - {reason}",[y.MissingFeatures]:"Missing features",[y.AggregationFieldNotFound]:"Aggregation field not found",[y.DataElementsNotFound]:"Data elements not found on service",[y.NeverReach]:"Encountered unreachable logic",[y.NotImplemented]:"Not implemented"};class M extends Error{constructor(ae,ne){super((0,oe.gx)(J[ae],ne)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,M)}}},80458:(pt,fe,V)=>{V.d(fe,{H:()=>B});var oe=V(25037);function c(U){return Number.isNaN(U)||0===U?U:Math.trunc(U)}class B{constructor(y){this._timeStampOffset=y,this._date=null}toDateTime(){return this._date??=oe.ou.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return c(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return c(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return B.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(y){return new B(oe.ou.fromJSDate(y).toISO({includeOffset:!0}))}static fromDateTime(y){return new B(y.toISO({includeOffset:!0}))}static fromParts(y,J,M=0,O=0,ae=0,ne=0,pe=0,me=!1,ge=0,Je=0){const qe=`${y.toString().padStart(4,"0")}-${J.toString().padStart(2,"0")}-${M.toString().padStart(2,"0")}`;let he="";ne<10&&(he="0");let x=`${O.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${he+ne.toString()}`;0!==pe&&(x+="."+pe.toString().padStart(3,"0"));const W=`${me?"-":"+"}${ge.toString().padStart(2,"0")}:${Je.toString().padStart(2,"0")}`;return new B(qe+"T"+x+W)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let y=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return y&&(y=y.replace(".000","")),y}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(y){const J=this.toDateTime().plus(y);return B.fromDateTime(J)}}},85904:(pt,fe,V)=>{V.r(fe),V.d(fe,{WhereClause:()=>je,defaultAttributeAdapter:()=>de});var oe=V(93630),c=V(70930),B=V(14007),U=V(88781),y=V(80458),J=V(81429),M=V(25037);function ae(i,r){const u=ne[i.toLowerCase()];return null!=u&&r>=u.minParams&&r<=u.maxParams}const ne={min:{minParams:1,maxParams:1,evaluate:i=>ge(i[0],"min")},max:{minParams:1,maxParams:1,evaluate:i=>ge(i[0],"max")},avg:{minParams:1,maxParams:1,evaluate:i=>pe(i[0])},sum:{minParams:1,maxParams:1,evaluate:i=>function Je(i){if(null===i)return null;let r=0;for(let u=0;u<i.length;u++){const f=i[u];if(null!==f){if(!me(f))throw new c.eS(c.f.InvalidValueForAggregateFunction);r+=f}}return r}(i[0])},stddev:{minParams:1,maxParams:1,evaluate:i=>function qe(i){if(null===i)return null;const r=he(i);return null===r?null:Math.sqrt(r)}(i[0])},count:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].length},var:{minParams:1,maxParams:1,evaluate:i=>he(i[0])}};function pe(i){if(null===i)return null;let r=0,u=0;for(let f=0;f<i.length;f++){const l=i[f];if(null!==l){if(!me(l))throw new c.eS(c.f.InvalidValueForAggregateFunction);u++,r+=l}}return 0===u?null:r/i.length}function me(i){return"number"==typeof i}function ge(i,r){if(null===i)return null;let u=null,f=null;for(const l of i){let v=l;v=l instanceof U.u||l instanceof J.n?l.toNumber():l instanceof M.ou?l.toMillis():l instanceof y.H?l.toMilliseconds():l,(null===u||"max"===r&&null!==f&&null!==v&&f<=v||"min"===r&&null!==f&&null!==v&&f>=v)&&(u=l,f=v)}return u}function he(i){if(null===i||0===(i=i.filter(f=>null!==f)).length)return null;const r=pe(i);if(null===r)return null;let u=0;for(const f of i){if(!me(f))throw new c.eS(c.f.InvalidValueForAggregateFunction);u+=(r-f)**2}return u/(i.length-1)}class x{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(r){if(null!==r.precision||null!==r.secondary)throw new c.eS(c.f.PrimarySecondaryQualifiers)}static _parseSecondsComponent(r,u){if(u.includes(".")){const f=u.split(".");r.second=parseFloat(f[0]),r.millis=parseInt(f[1],10)}else r.second=parseFloat(u)}static createFromMilliseconds(r){const u=new x;return u.second=r/1e3,u}static createFromValueAndQualifier(r,u,f){let l=null;const v=new x;if(v.op="-"===f?"-":"+","interval-period"===u.type){x._fixDefaults(u);const h=new RegExp("^[0-9]{1,}$");if("year"===u.period||"month"===u.period)throw new c.eS(c.f.YearMonthIntervals);if("second"===u.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(r))throw new c.eS(c.f.IllegalInterval);x._parseSecondsComponent(v,r)}else{if(!h.test(r))throw new c.eS(c.f.IllegalInterval);v[u.period]=parseFloat(r)}}else{if(x._fixDefaults(u.start),x._fixDefaults(u.end),"year"===u.start.period||"month"===u.start.period||"year"===u.end.period||"month"===u.end.period)throw new c.eS(c.f.YearMonthIntervals);switch(u.start.period){case"day":switch(u.end.period){case"hour":if(l=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);v[u.start.period]=parseFloat(r.split(" ")[0]),v[u.end.period]=parseFloat(r.split(" ")[1]);break;case"minute":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{v[u.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1])}break;case"second":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{v[u.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),x._parseSecondsComponent(v,h[2])}break;default:throw new c.eS(c.f.IllegalInterval)}break;case"hour":switch(u.end.period){case"minute":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);v.hour=parseFloat(r.split(":")[0]),v.minute=parseFloat(r.split(":")[1]);break;case"second":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{const h=r.split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),x._parseSecondsComponent(v,h[2])}break;default:throw new c.eS(c.f.IllegalInterval)}break;case"minute":if("second"!==u.end.period)throw new c.eS(c.f.IllegalInterval);if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.eS(c.f.IllegalInterval);{const h=r.split(":");v.minute=parseFloat(h[0]),x._parseSecondsComponent(v,h[1])}break;default:throw new c.eS(c.f.IllegalInterval)}}return v}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var W=V(15398);const Cn=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,An=/^(\d{1,2}):(\d{1,2})$/,xn=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,mt=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,bn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,Mn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,En=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,Fn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function ye(i,r){if(r instanceof M.ld)return r===W.yV.instance?M.ou.fromMillis(i.getTime(),{zone:W.yV.instance}):M.ou.fromJSDate(i,{zone:r});switch(r){case"system":case"local":case null:return M.ou.fromJSDate(i);default:return"unknown"===r?.toLowerCase()?M.ou.fromMillis(i.getTime(),{zone:W.yV.instance}):M.ou.fromJSDate(i,{zone:r})}}function H(i){return"number"==typeof i}function k(i){return"string"==typeof i||i instanceof String}function ie(i){return i instanceof x}function Q(i){return i instanceof Date}function E(i){return i instanceof M.ou}function F(i){return i instanceof U.u}function P(i){return i instanceof J.n}function _(i){return i instanceof y.H}function ze(i){let r=Cn.exec(i);if(null!==r){const[,u,f,l]=r,v=J.n.fromParts(parseInt(u,10),parseInt(f,10),parseInt(l,10),0);if(null!==v)return v;throw new c.eS(c.f.InvalidTime)}if(r=An.exec(i),null!==r){const[,u,f]=r,l=J.n.fromParts(parseInt(u,10),parseInt(f,10),0,0);if(null!==l)return l;throw new c.eS(c.f.InvalidTime)}if(r=xn.exec(i),null!==r){const[,u,f,l,v]=r,h=J.n.fromParts(parseInt(u,10),parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null!==h)return h;throw new c.eS(c.f.InvalidTime)}throw new c.eS(c.f.InvalidTime)}function Te(i,r,u=!1){let f=bn.exec(i);if(null!==f){const[,l,v,h,t,T,C,z]=f,Y=M.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(t,10),minute:parseInt(T,10),second:parseInt(C,10),millisecond:z?parseInt(z.replace(".",""),10):0},{zone:(0,W.L9)(r)});if(!1===Y.isValid)throw new c.eS(c.f.InvalidTimeStamp);return Y}if(f=Mn.exec(i),null!==f){const[,l,v,h,t,T,C,z,Y,G,b]=f,L=y.H.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(t,10),parseInt(T,10),parseInt(C,10),z?parseInt(z.replace(".",""),10):0,"-"===Y,parseInt(G,10),parseInt(b,10));if(!1===L.isValid)throw new c.eS(c.f.InvalidTimeStamp);return L}if(f=En.exec(i),null!==f){const[,l,v,h,t,T,C,z,Y]=f,G=y.H.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(t,10),parseInt(T,10),0,0,"-"===C,parseInt(z,10),parseInt(Y,10));if(!1===G.isValid)throw new c.eS(c.f.InvalidTimeStamp);return G}if(f=Fn.exec(i),null!==f){const[,l,v,h,t,T]=f,C=M.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(t,10),minute:parseInt(T,10),second:0},{zone:(0,W.L9)(r)});if(!1===C.isValid)throw new c.eS(c.f.InvalidTimeStamp);return C}if(f=mt.exec(i),null!==f){const[,l,v,h]=f,t=M.ou.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:0,minute:0,second:0},{zone:(0,W.L9)(r)});if(!1===t.isValid)throw new c.eS(c.f.InvalidTimeStamp);return t}throw new c.eS(c.f.InvalidTimeStamp)}function ht(i,r){const u=mt.exec(i);if(null===u)try{return Te(i,r)}catch{throw new c.eS(c.f.InvalidDate)}const[,f,l,v]=u,h=U.u.fromParts(parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null===h)throw new c.eS(c.f.InvalidDate);return h}var _n=V(72578);const Dn=321408e5,Pn=26784e5,Ln=864e5,Un=36e5,Rn=6e4;function $e(i){return!!E(i)||!!_(i)}function Ze(i){return!!(E(i)||F(i)||_(i)||P(i))}function Ne(i){if(E(i))return i.toMillis();if(F(i))return i.toNumber();if(_(i))return i.toMilliseconds();throw new c.eS(c.f.InvalidDataType)}function j(i,r,u,f){if(null==i||null==r)return null;if(H(i)){if(H(r))return X(i,r,u);if(k(r))return function Vn(i,r,u){const f=parseFloat(r);if(!isNaN(f))return X(i,f,u);const l=i.toString();switch(u){case"<>":return l!==r;case"=":return l===r;case">":return l>r;case"<":return l<r;case">=":return l>=r;case"<=":return l<=r}}(i,r,u);if(Ze(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator)}else if(k(i)){if(H(r))return function Jn(i,r,u){const f=parseFloat(i);if(!isNaN(f))return X(f,r,u);const l=r.toString();switch(u){case"<>":return i!==l;case"=":return i===l;case">":return i>l;case"<":return i<l;case">=":return i>=l;case"<=":return i<=l}}(i,r,u);if(k(r))return function qn(i,r,u){switch(u){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}(i,r,u);if(E(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator);if(P(r))throw new c.eS(c.f.InvalidOperator);if(_(r))throw new c.eS(c.f.InvalidOperator)}else if(E(i)){if($e(r)){if(i instanceof M.ou&&(0,W.A4)(i.zone)){if(r instanceof M.ou&&!1===(0,W.A4)(r.zone)||r instanceof y.H)return ve(i,r,u)}else if(r instanceof M.ou&&(0,W.A4)(r.zone)&&(i instanceof M.ou&&!1===(0,W.A4)(i.zone)||i instanceof y.H))return ve(i,r,u);return X(Ne(i),Ne(r),u)}if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return function zn(i,r,u){const f=r.toDateTimeLuxon(i.zone);return X((i=i.startOf("day")).toMillis(),f.toMillis(),u)}(i,r,u);if(P(r))throw new c.eS(c.f.InvalidOperator);if(H(r))throw new c.eS(c.f.InvalidOperator)}else if(F(i)){if(_(r))return function Hn(i,r,u){const f=i.toDateTimeLuxon(r.toDateTime().zone);return r=r.startOfDay(),X(f.toMillis(),r.toMilliseconds(),u)}(i,r,u);if(E(r))return function Zn(i,r,u){const f=i.toDateTimeLuxon(r.zone);return r=r.startOf("day"),X(f.toMillis(),r.toMillis(),u)}(i,r,u);if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return X(i.toNumber(),r.toNumber(),u);if(P(r))throw new c.eS(c.f.InvalidOperator);if(H(r))throw new c.eS(c.f.InvalidOperator)}else if(P(i)){if(P(r))return X(i.toNumber(),r.toNumber(),u);if(k(r))throw new c.eS(c.f.InvalidOperator);if(H(r))throw new c.eS(c.f.InvalidOperator);if(F(r))throw new c.eS(c.f.InvalidOperator);if($e(r))throw new c.eS(c.f.InvalidOperator)}else if(_(i)){if($e(r))return r instanceof M.ou&&(0,W.A4)(r.zone)?ve(i,r,u):X(Ne(i),Ne(r),u);if(k(r))throw new c.eS(c.f.InvalidOperator);if(F(r))return function $n(i,r,u){const f=r.toDateTimeLuxon(i.toDateTime().zone);return X((i=i.startOfDay()).toMilliseconds(),f.toMillis(),u)}(i,r,u);if(P(r))throw new c.eS(c.f.InvalidOperator);if(H(r))throw new c.eS(c.f.InvalidOperator)}switch(u){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function X(i,r,u){switch(u){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function ve(i,r,u){i instanceof y.H&&(i=i.toDateTime()),r instanceof y.H&&(r=r.toDateTime());const f=vt(i),l=vt(r);switch(u){case"<>":return f!==l;case"=":return f===l;case">":return f>l;case"<":return f<l;case">=":return f>=l;case"<=":return f<=l}}function vt(i){return i.year*Dn+i.month*Pn+i.day*Ln+i.hour*Un+i.minute*Rn+1e3*i.second+i.millisecond}function He(i,r,u){const f=St[i.toLowerCase()];if(null==f)throw new c.eS(c.f.FunctionNotRecognized);if(r.length<f.minParams||r.length>f.maxParams)throw new c.eS(c.f.InvalidParameterCount,{name:i.toUpperCase()});return f.evaluate(r,u)}function Oe(i){return"string"==typeof i||i instanceof String}function ke(i){return!(Q(i)||F(i)||E(i)||P(i)||_(i))}function wt(i){return F(i)||P(i)?i.toString():_(i)?i.toSQLValue():E(i)?0===i.millisecond?i.toFormat("yyyy-LL-dd HH:mm:ss"):i.toSQL({includeOffset:!1}):Q(i)?wt(M.ou.fromJSDate(i)):i.toString()}const St={extract:{minParams:2,maxParams:2,evaluate:([i,r])=>{if(null==r)return null;if(Q(r))switch(i.toUpperCase()){case"SECOND":return r.getSeconds();case"MINUTE":return r.getMinutes();case"HOUR":return r.getHours();case"DAY":return r.getDate();case"MONTH":return r.getMonth()+1;case"YEAR":return r.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(E(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(F(r))switch(i.toUpperCase()){case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}else if(P(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour}else if(_(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":return r.timezoneOffsetHour;case"TIMEZONE_MINUTE":return r.timezoneOffsetMinutes}throw new c.eS(c.f.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:i=>{if(2===i.length){const[r,u]=i;return null==r||null==u?null:r.toString().substring(u-1)}if(3===i.length){const[r,u,f]=i;return null==r||null==u||null==f?null:f<=0?"":r.toString().substring(u-1,u+f-1)}}},position:{minParams:2,maxParams:2,evaluate:([i,r])=>null==i||null==r?null:r.indexOf(i)+1},trim:{minParams:2,maxParams:3,evaluate:i=>{const r=3===i.length,u=r?i[1]:" ",f=r?i[2]:i[1];if(null==u||null==f)return null;const l=`(${(0,_n.Qs)(u)})`;switch(i[0]){case"BOTH":return f.replaceAll(new RegExp(`^${l}*|${l}*$`,"g"),"");case"LEADING":return f.replaceAll(new RegExp(`^${l}*`,"g"),"");case"TRAILING":return f.replaceAll(new RegExp(`${l}*$`,"g"),"")}throw new c.eS(c.f.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.abs(i[0])},ceiling:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.ceil(i[0])},floor:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.floor(i[0])},log:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])},log10:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sin(i[0])},cos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cos(i[0])},tan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tan(i[0])},asin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.asin(i[0])},acos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.acos(i[0])},atan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.atan(i[0])},sign:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0]>0?1:i[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]**i[1]},mod:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]%i[1]},round:{minParams:1,maxParams:2,evaluate:i=>{const r=i[0],u=2===i.length?10**i[1]:1;return null==r?null:Math.round(r*u)/u}},truncate:{minParams:1,maxParams:2,evaluate:i=>null==i[0]?null:1===i.length?parseInt(i[0].toFixed(0),10):parseFloat(i[0].toFixed(i[1]))},char_length:{minParams:1,maxParams:1,evaluate:i=>Oe(i[0])?i[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:i=>{let r="";for(let u=0;u<i.length;u++){if(null==i[u])return null;r+=i[u].toString()}return r}},lower:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:i=>{for(const r of i)if(null!==r)return r;return null}},cosh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cosh(i[0])},sinh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sinh(i[0])},tanh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tanh(i[0])},nullif:{minParams:2,maxParams:2,evaluate:(i,r)=>j(i[0],i[1],"=")?null:i[0]},cast:{minParams:2,maxParams:2,evaluate:(i,r)=>{const u=i[0],f=i[1];if(null===u)return null;switch(f.type){case"integer":{if(!ke(u))throw new c.eS(c.f.CannotCastValue);const l=parseInt(u,10);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);return l}case"smallint":{if(!ke(u))throw new c.eS(c.f.CannotCastValue);const l=parseInt(u,10);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);if(l>32767||l<-32767)throw new c.eS(c.f.CannotCastValue);return l}case"float":case"real":{if(!ke(u))throw new c.eS(c.f.CannotCastValue);const l=parseFloat(u);if(isNaN(l))throw new c.eS(c.f.CannotCastValue);return l}case"time":return function Yn(i){if(Q(i))return J.n.fromDateJS(i);if(E(i))return J.n.fromDateTime(i);if(F(i))throw new c.eS(c.f.CannotCastValue);if(P(i))return i;if(_(i))return J.n.fromSqlTimeStampOffset(i);if(Oe(i))return ze(i);throw new c.eS(c.f.CannotCastValue)}(u);case"date":return function Wn(i){if(Q(i))return U.u.fromDateJS(i);if(E(i))return U.u.fromParts(i.year,i.month,i.day);if(F(i))return i;if(P(i))throw new c.eS(c.f.CannotCastValue);if(_(i)&&null===U.u.fromParts(i.year,i.month,i.day))throw new c.eS(c.f.CannotCastValue);if(Oe(i)){const r=U.u.fromReader(i);if(null!==r&&r.isValid)return r}throw new c.eS(c.f.CannotCastValue)}(u);case"timestamp":return function jn(i,r,u){if(Q(i))return ye(i,r);if(E(i))return i;if(F(i))return i.toDateTimeLuxon("unknown");if(P(i))throw new c.eS(c.f.CannotCastValue);if(_(i))return i;if(Oe(i))return Te(i,"unknown",u);throw new c.eS(c.f.CannotCastValue)}(u,r,!0===f.withtimezone);case"varchar":{const l=wt(u);if(l.length>f.size)throw new c.eS(c.f.CannotCastValue);return l}default:throw new c.eS(c.f.InvalidDataType)}}}};function It(i,r,u,f){if("||"===i)return He("concat",[r,u],f);if(null===r||null===u)return null;if(H(r)){if(H(u))return We(r,u,i);if(ie(u))return function nr(i,r,u){switch(u){case"+":return x.createFromMilliseconds(i+r.valueInMilliseconds());case"-":return x.createFromMilliseconds(i-r.valueInMilliseconds());case"*":return x.createFromMilliseconds(i*r.valueInMilliseconds());case"/":return x.createFromMilliseconds(i/r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function dr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function pr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(_(u))return function fr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(E(u))return function lr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(k(u))return function mr(i,r,u){const f=parseFloat(r);if(isNaN(f))throw new c.eS(c.f.InvalidOperator);return We(i,f,u)}(r,u,i);throw new c.eS(c.f.InvalidOperator)}if(F(r)){if(H(u))return function ur(i,r,u){const f=1e3*r*24*60*60;switch(u){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(ie(u))return function rr(i,r,u){switch(u){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function Tr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function yr(i,r,u){if("-"===u)return i.toDateTimeLuxon("UTC").diff(r.toDateTimeLuxon("UTC")).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(_(u))return function gr(i,r,u){if("-"===u)return i.toDateTimeLuxon(r.toDateTime().zone).diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(E(u))return function Ir(i,r,u){if("-"===u)return i.toDateTimeLuxon(r.zone).diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(k(u))return function Lr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(P(r)){if(H(u))return function sr(i,r,u){const f=1e3*r*24*60*60;switch(u){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(ie(u))return function Kn(i,r,u){switch(u){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function Er(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function br(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(_(u))return function Mr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(E(u))return function xr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(k(u))return function Ur(i,r,u){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(ie(r)){if(H(u))return function tr(i,r,u){switch(u){case"+":return x.createFromMilliseconds(i.valueInMilliseconds()+r);case"-":return x.createFromMilliseconds(i.valueInMilliseconds()-r);case"*":return x.createFromMilliseconds(i.valueInMilliseconds()*r);case"/":return x.createFromMilliseconds(i.valueInMilliseconds()/r)}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(ie(u))return function er(i,r,u){switch(u){case"+":return x.createFromMilliseconds(i.valueInMilliseconds()+r.valueInMilliseconds());case"-":return x.createFromMilliseconds(i.valueInMilliseconds()-r.valueInMilliseconds());case"*":return x.createFromMilliseconds(i.valueInMilliseconds()*r.valueInMilliseconds());case"/":return x.createFromMilliseconds(i.valueInMilliseconds()/r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function Qn(i,r,u){if("+"===u)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(F(u))return function Gn(i,r,u){if("+"===u)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(_(u))return function Xn(i,r,u){if("+"===u)return r.addMilliseconds(i.valueInMilliseconds());throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(E(u))return function Bn(i,r,u){switch(u){case"+":return r.plus({milliseconds:i.valueInMilliseconds()});case"-":return i.valueInMilliseconds()-r.toMillis()}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(k(u))return function wr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(E(r)){if(H(u))return function or(i,r,u){const f=1e3*r*24*60*60;switch(u){case"+":return i.plus({milliseconds:f});case"-":return i.minus({milliseconds:f})}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(ie(u))return function ar(i,r,u){switch(u){case"+":return i.plus({milliseconds:r.valueInMilliseconds()});case"-":return i.minus({milliseconds:r.valueInMilliseconds()})}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function Pr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function _r(i,r,u){if("-"===u)return i.diff(r.toDateTimeLuxon(i.zone)).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(_(u))return function Dr(i,r,u){if("-"===u)return i.diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(E(u))return function Fr(i,r,u){if("-"===u)return i.diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(k(u))return function Rr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(_(r)){if(H(u))return function cr(i,r,u){const f=1e3*r*24*60*60;switch(u){case"+":return i.addMilliseconds(f);case"-":return i.addMilliseconds(-1*f)}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(ie(u))return function ir(i,r,u){switch(u){case"+":return i.addMilliseconds(r.valueInMilliseconds());case"-":return i.addMilliseconds(-1*r.valueInMilliseconds())}throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(P(u))return function Nr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function Or(i,r,u){if("-"===u)return i.toDateTime().diff(r.toDateTimeLuxon(i.toDateTime().zone)).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(_(u))return function Ar(i,r,u){if("-"===u)return i.toDateTime().diff(r.toDateTime()).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(E(u))return function Cr(i,r,u){if("-"===u)return i.toDateTime().diff(r).as("days");throw new c.eS(c.f.InvalidOperator)}(r,u,i);if(k(u))return function Vr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();throw new c.eS(c.f.InvalidOperator)}if(k(r)){if(H(u))return function hr(i,r,u){const f=parseFloat(i);if(isNaN(f))throw new c.eS(c.f.InvalidOperator);return We(f,r,u)}(r,u,i);if(ie(u))return function Sr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(P(u))return function Jr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(F(u))return function qr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(_(u))return function $r(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(E(u))return function zr(i,r,u){throw new c.eS(c.f.InvalidOperator)}();if(k(u))return function vr(i,r,u){if("+"===u)return i+r;throw new c.eS(c.f.InvalidOperator)}(r,u,i);throw new c.eS(c.f.InvalidOperator)}throw new c.eS(c.f.InvalidOperator)}function We(i,r,u){switch(u){case"+":return i+r;case"-":return i-r;case"*":return i*r;case"/":return i/r}throw new c.eS(c.f.InvalidOperator)}V(90104);var gt,Tt={exports:{}};(gt=Tt).exports&&(gt.exports=function(){function r(l,v,h,t){var T=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(T,r.prototype),T.expected=v,T.found=h,T.location=t,T.name="SyntaxError",T}function u(l,v,h){return h=h||" ",l.length>v?l:l+(h+=h.repeat(v-=l.length)).slice(0,v)}return function i(l,v){function h(){this.constructor=l}h.prototype=v.prototype,l.prototype=new h}(r,Error),r.prototype.format=function(l){var v="Error: "+this.message;if(this.location){var h,t=null;for(h=0;h<l.length;h++)if(l[h].source===this.location.source){t=l[h].text.split(/\r\n|\n|\r/g);break}var T=this.location.start,C=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(T):T,z=this.location.source+":"+C.line+":"+C.column;if(t){var Y=this.location.end,G=u("",C.line.toString().length," "),b=t[T.line-1],L=(T.line===Y.line?Y.column:b.length+1)-T.column||1;v+="\n --\x3e "+z+"\n"+G+" |\n"+C.line+" | "+b+"\n"+G+" | "+u("",T.column-1," ")+u("",L,"^")}else v+="\n at "+z}return v},r.buildMessage=function(l,v){var h={literal:function(b){return'"'+T(b.text)+'"'},class:function(b){var L=b.parts.map(function(K){return Array.isArray(K)?C(K[0])+"-"+C(K[1]):C(K)});return"["+(b.inverted?"^":"")+L.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function t(b){return b.charCodeAt(0).toString(16).toUpperCase()}function T(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(L){return"\\x0"+t(L)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(L){return"\\x"+t(L)})}function C(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(L){return"\\x0"+t(L)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(L){return"\\x"+t(L)})}function z(b){return h[b.type](b)}return"Expected "+function Y(b){var L,K,q=b.map(z);if(q.sort(),q.length>0){for(L=1,K=1;L<q.length;L++)q[L-1]!==q[L]&&(q[K]=q[L],K++);q.length=K}switch(q.length){case 1:return q[0];case 2:return q[0]+" or "+q[1];default:return q.slice(0,-1).join(", ")+", or "+q[q.length-1]}}(l)+" but "+function G(b){return b?'"'+T(b)+'"':"end of input"}(v)+" found."},{SyntaxError:r,parse:function f(l,v){var h,t={},T=(v=void 0!==v?v:{}).grammarSource,C={start:kt},z=kt,Y="!",G="=",b=">=",L=">",K="<=",q="<>",Br="<",bt="!=",Ge="+",Ke="-",Mt="||",Qr="*",Gr="/",Kr="@",Et="'",Ft="N'",Ae="''",Xr=".",ea="null",ta="true",na="false",ra="in",aa="is",ia="like",oa="escape",ua="not",sa="and",la="or",ca="between",fa="from",da="for",pa="substring",ma="extract",ha="trim",va="position",wa="timestamp",Sa="date",Ia="time",ga="leading",ya="trailing",Ta="both",Na="cast",Oa="as",Ca="integer",Aa="smallint",xa="float",ba="real",Ma="varchar",Ea="to",Fa="interval",_a="year",Da="timezone_hour",Pa="timezone_minute",La="month",Ua="day",Ra="hour",Va="minute",Ja="second",qa="case",za="end",$a="when",Za="then",Ha="else",ka=",",Wa="(",ja=")",_t="`",Ya=/^[A-Za-z_\x80-\uFFFF]/,Ba=/^[A-Za-z0-9_]/,Dt=/^[A-Za-z0-9_.\x80-\uFFFF]/,Qa=/^["]/,Pt=/^[^']/,Ga=/^[0-9]/,Ka=/^[eE]/,Xa=/^[+\-]/,ei=/^[ \t\n\r]/,Lt=/^[^`]/,ti=I("!",!1),Ut=I("=",!1),ni=I(">=",!1),ri=I(">",!1),ai=I("<=",!1),ii=I("<>",!1),oi=I("<",!1),ui=I("!=",!1),Xe=I("+",!1),et=I("-",!1),si=I("||",!1),li=I("*",!1),ci=I("/",!1),fi=te([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),di=te([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Rt=te([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),pi=te(['"'],!1,!1),mi=I("@",!1),Vt=I("'",!1),hi=I("N'",!1),Jt=I("''",!1),qt=te(["'"],!0,!1),vi=I(".",!1),wi=te([["0","9"]],!1,!1),Si=te(["e","E"],!1,!1),Ii=te(["+","-"],!1,!1),gi=I("NULL",!0),yi=I("TRUE",!0),Ti=I("FALSE",!0),Ni=I("IN",!0),Oi=I("IS",!0),Ci=I("LIKE",!0),Ai=I("ESCAPE",!0),xi=I("NOT",!0),bi=I("AND",!0),Mi=I("OR",!0),Ei=I("BETWEEN",!0),Fi=I("FROM",!0),_i=I("FOR",!0),Di=I("SUBSTRING",!0),Pi=I("EXTRACT",!0),Li=I("TRIM",!0),Ui=I("POSITION",!0),Ri=I("TIMESTAMP",!0),Vi=I("DATE",!0),Ji=I("TIME",!0),qi=I("LEADING",!0),zi=I("TRAILING",!0),$i=I("BOTH",!0),Zi=I("CAST",!0),Hi=I("AS",!0),ki=I("INTEGER",!0),Wi=I("SMALLINT",!0),ji=I("FLOAT",!0),Yi=I("REAL",!0),Bi=I("VARCHAR",!0),Qi=I("TO",!0),Gi=I("INTERVAL",!0),Ki=I("YEAR",!0),Xi=I("TIMEZONE_HOUR",!0),eo=I("TIMEZONE_MINUTE",!0),to=I("MONTH",!0),no=I("DAY",!0),ro=I("HOUR",!0),ao=I("MINUTE",!0),io=I("SECOND",!0),oo=I("CASE",!0),uo=I("END",!0),so=I("WHEN",!0),lo=I("THEN",!0),co=I("ELSE",!0),fo=I(",",!1),po=I("(",!1),mo=I(")",!1),ho=te([" ","\t","\n","\r"],!1,!1),zt=I("`",!1),$t=te(["`"],!0,!1),vo=function(e){return e},wo=function(e,a){var o={type:"expression-list"},s=function ec(e,a,o){return function Xl(e,a){for(var o=[e],s=0;s<a.length;s++)o.push(a[s][3]);return o}(e,a)}(e,a);return o.value=s,o},So=function(e,a){return Ie(e,a)},Io=function(e,a){return Ie(e,a)},go=function(e){return function Kl(e,a){return{type:"unary-expression",operator:e,expr:a}}("NOT",e)},yo=function(e,a){return""==a||null==a||null==a?e:"arithmetic"==a.type?Ie(e,a.tail):On(a.op,e,a.right,a.escape)},To=function(e){return{type:"arithmetic",tail:e}},No=function(e,a){return{op:e+"NOT",right:a}},Oo=function(e,a){return{op:e,right:a}},Co=function(e,a,o){return{op:"NOT"+e,right:{type:"expression-list",value:[a,o]}}},Ao=function(e,a,o){return{op:e,right:{type:"expression-list",value:[a,o]}}},xo=function(e){return e[0]+" "+e[2]},bo=function(e){return e[0]+" "+e[2]},Mo=function(e,a,o){return{op:e,right:a,escape:o.value}},Eo=function(e,a){return{op:e,right:a,escape:""}},Fo=function(e,a){return{op:e,right:a}},_o=function(e){return{op:e,right:{type:"expression-list",value:[]}}},Do=function(e,a){return{op:e,right:a}},Po=function(e,a){return Ie(e,a)},Lo=function(e,a){return Ie(e,a)},Uo=function(e){return e.paren=!0,e},Ro=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}},Vo=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}},Jo=function(e){return e},qo=function(e,a){return e+a.join("")},zo=function(e,a){return e+a.join("")},$o=function(e){return e},Zo=function(e){return e.join("")},Ho=function(){return'"'},ko=function(e){return{type:"parameter",value:e[1]}},Wo=function(e,a){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},a]}}},jo=function(e,a,o){return{type:"function",name:"substring",args:{type:"expression-list",value:o?[e,a,o[2]]:[e,a]}}},Yo=function(e,a){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,a]}}},Bo=function(){return{type:"data-type",value:{type:"integer"}}},Qo=function(){return{type:"data-type",value:{type:"smallint"}}},Go=function(){return{type:"data-type",value:{type:"float"}}},Ko=function(){return{type:"data-type",value:{type:"real"}}},Xo=function(){return{type:"data-type",value:{type:"date"}}},eu=function(){return{type:"data-type",value:{type:"timestamp"}}},tu=function(){return{type:"data-type",value:{type:"time"}}},nu=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}},ru=function(e,a,o){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},a,o]}}},au=function(e,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},a]}}},iu=function(e,a){return{type:"function",name:"position",args:{type:"expression-list",value:[e,a]}}},ou=function(e,a){return{type:"function",name:e,args:a||{type:"expression-list",value:[]}}},uu=function(e){return"string"===e.type&&function tc(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&nt("Timestamp literal is invalid")}(e.value),{type:"timestamp",value:e.value}},su=function(e){return"string"===e.type&&function nc(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&nt("Time literal is invalid")}(e.value),{type:"time",value:e.value}},lu=function(e,a,o){return{type:"interval",value:a,qualifier:o,op:e}},cu=function(e,a){return{type:"interval",value:e,qualifier:a,op:""}},fu=function(e,a){return{type:"interval-qualifier",start:e,end:a}},du=function(e,a){return{type:"interval-period",period:e.value,precision:a,secondary:null}},pu=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},mu=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},hu=function(e,a){return{type:"interval-period",period:"second",precision:e,secondary:a}},vu=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},wu=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Su=function(e,a){return{type:"interval-period",period:e.value,precision:a,secondary:null}},Iu=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},gu=function(e,a){return{type:"interval-period",period:"second",precision:e,secondary:a}},yu=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},Tu=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Nu=function(){return{type:"string",value:"day"}},Ou=function(){return{type:"string",value:"hour"}},Cu=function(){return{type:"string",value:"minute"}},Au=function(){return{type:"string",value:"month"}},xu=function(){return{type:"string",value:"year"}},bu=function(e){return parseFloat(e)},Mu=function(e){return parseFloat(e)},Eu=function(e){return"string"===e.type&&function rc(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&nt("Date literal is invalid")}(e.value),{type:"date",value:e.value}},Fu=function(){return{type:"null",value:null}},_u=function(){return{type:"boolean",value:!0}},Du=function(){return{type:"boolean",value:!1}},Zt=function(){return"'"},Pu=function(e){return{type:"string",value:e.join("")}},Lu=function(e,a){return{type:"case-expression",format:"simple",operand:e,clauses:a,else:null}},Uu=function(e,a,o){return{type:"case-expression",format:"simple",operand:e,clauses:a,else:o.value}},Ru=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}},Vu=function(e,a){return{type:"case-expression",format:"searched",clauses:e,else:a.value}},Ju=function(e,a){return{type:"when-clause",operand:e,value:a}},qu=function(e,a){return{type:"when-clause",operand:e,value:a}},zu=function(e){return{type:"else-clause",value:e}},$u=function(e){return{type:"number",value:e}},Zu=function(e,a,o){return parseFloat(e+a+o)},Hu=function(e,a){return parseFloat(e+a)},ku=function(e,a){return parseFloat(e+a)},Wu=function(e){return parseFloat(e)},ju=function(e,a){return e[0]+a},Yu=function(e){return"."+(e??"")},Bu=function(e,a){return e+a},Qu=function(e){return e.join("")},Gu=function(e,a){return"e"+(null===a?"":a)},Ku=function(){return"IN"},Xu=function(){return"IS"},es=function(){return"LIKE"},ts=function(){return"ESCAPE"},ns=function(){return"NOT"},rs=function(){return"AND"},as=function(){return"OR"},is=function(){return"BETWEEN"},os=function(){return"FROM"},us=function(){return"FOR"},ss=function(){return"SUBSTRING"},ls=function(){return"EXTRACT"},cs=function(){return"TRIM"},fs=function(){return"POSITION"},ds=function(){return"TIMESTAMP"},ps=function(){return"DATE"},ms=function(){return"TIME"},hs=function(){return"LEADING"},vs=function(){return"TRAILING"},ws=function(){return"BOTH"},Ss=function(){return"CAST"},Is=function(){return"AS"},gs=function(){return"INTEGER"},ys=function(){return"SMALLINT"},Ts=function(){return"FLOAT"},Ns=function(){return"REAL"},Os=function(){return"VARCHAR"},Cs=function(){return"TO"},As=function(){return"INTERVAL"},xs=function(){return"YEAR"},bs=function(){return"TIMEZONE_HOUR"},Ms=function(){return"TIMEZONE_MINUTE"},Es=function(){return"MONTH"},Fs=function(){return"DAY"},_s=function(){return"HOUR"},Ds=function(){return"MINUTE"},Ps=function(){return"SECOND"},Ls=function(){return"CASE"},Us=function(){return"END"},Rs=function(){return"WHEN"},Vs=function(){return"THEN"},Js=function(){return"ELSE"},qs=function(e){return e},zs=function(e){return e.join("")},n=0,m=0,xe=[{line:1,column:1}],ee=0,tt=[],d=0;if("startRule"in v){if(!(v.startRule in C))throw new Error("Can't start parsing from rule \""+v.startRule+'".');z=C[v.startRule]}function nt(e,a){throw function Zs(e,a){return new r(e,null,null,a)}(e,a=void 0!==a?a:rt(m,n))}function I(e,a){return{type:"literal",text:e,ignoreCase:a}}function te(e,a,o){return{type:"class",parts:e,inverted:a,ignoreCase:o}}function Ht(e){var a,o=xe[e];if(o)return o;for(a=e-1;!xe[a];)a--;for(o={line:(o=xe[a]).line,column:o.column};a<e;)10===l.charCodeAt(a)?(o.line++,o.column=1):o.column++,a++;return xe[e]=o,o}function rt(e,a,o){var s=Ht(e),S=Ht(a);return{source:T,start:{offset:e,line:s.line,column:s.column},end:{offset:a,line:S.line,column:S.column}}}function w(e){n<ee||(n>ee&&(ee=n,tt=[]),tt.push(e))}function kt(){var e,a;return e=n,p(),(a=R())!==t?(p(),m=e,e=vo(a)):(n=e,e=t),e}function Wt(){var e,a,o,s,S,N,A,D;if(e=n,(a=R())!==t){for(o=[],s=n,S=p(),(N=Ve())!==t?(A=p(),(D=R())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);s!==t;)o.push(s),s=n,S=p(),(N=Ve())!==t?(A=p(),(D=R())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);m=e,e=wo(a,o)}else n=e,e=t;return e}function R(){var e,a,o,s,S,N,A,D;if(e=n,(a=at())!==t){for(o=[],s=n,S=p(),(N=ln())!==t?(A=p(),(D=at())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);s!==t;)o.push(s),s=n,S=p(),(N=ln())!==t?(A=p(),(D=at())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);m=e,e=So(a,o)}else n=e,e=t;return e}function at(){var e,a,o,s,S,N,A,D;if(e=n,(a=be())!==t){for(o=[],s=n,S=p(),(N=Le())!==t?(A=p(),(D=be())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);s!==t;)o.push(s),s=n,S=p(),(N=Le())!==t?(A=p(),(D=be())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);m=e,e=Io(a,o)}else n=e,e=t;return e}function be(){var e,a,o,s,S;return e=n,(a=Se())===t&&(a=n,33===l.charCodeAt(n)?(o=Y,n++):(o=t,0===d&&w(ti)),o!==t?(s=n,d++,61===l.charCodeAt(n)?(S=G,n++):(S=t,0===d&&w(Ut)),d--,S===t?s=void 0:(n=s,s=t),s!==t?a=o=[o,s]:(n=a,a=t)):(n=a,a=t)),a!==t?(o=p(),(s=be())!==t?(m=e,e=go(s)):(n=e,e=t)):(n=e,e=t),e===t&&(e=function ks(){var e,a,o;return e=n,(a=re())!==t?(p(),(o=function Ws(){var e;return(e=function js(){var e,a,o,s,S,N,A;if(e=n,a=[],o=n,s=p(),(S=jt())!==t?(N=p(),(A=re())!==t?o=s=[s,S,N,A]:(n=o,o=t)):(n=o,o=t),o!==t)for(;o!==t;)a.push(o),o=n,s=p(),(S=jt())!==t?(N=p(),(A=re())!==t?o=s=[s,S,N,A]:(n=o,o=t)):(n=o,o=t);else a=t;return a!==t&&(m=e,a=To(a)),a}())===t&&(e=function Gs(){var e,a,o,s;return e=n,(a=it())!==t?(p(),(o=$())!==t?(p(),(s=Wt())!==t?(p(),Z()!==t?(m=e,e=Fo(a,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=it())!==t?(p(),(o=$())!==t?(p(),(s=Z())!==t?(m=e,e=_o(a)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=it())!==t?(p(),(o=lt())!==t?(m=e,e=Do(a,o)):(n=e,e=t)):(n=e,e=t))),e}())===t&&(e=function Bs(){var e,a,o,s,S,N;return e=n,(a=Se())!==t?(p(),(o=cn())!==t?(p(),(s=re())!==t?(p(),(S=Le())!==t?(p(),(N=re())!==t?(m=e,e=Co(o,s,N)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=cn())!==t?(p(),(o=re())!==t?(p(),(s=Le())!==t?(p(),(S=re())!==t?(m=e,e=Ao(a,o,S)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function Ys(){var e,a,o,s;return e=n,(a=un())!==t?(p(),(o=Se())!==t?(p(),(s=re())!==t?(m=e,e=No(a,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=un())!==t?(p(),(o=re())!==t?(m=e,e=Oo(a,o)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function Qs(){var e,a,o,s;return e=n,(a=Yt())!==t?(p(),(o=se())!==t?(p(),function _l(){var e,a,o,s;return e=n,l.substr(n,6).toLowerCase()===oa?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(Ai)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ts()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(s=ct())!==t?(m=e,e=Mo(a,o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=Yt())!==t?(p(),(o=se())!==t?(m=e,e=Eo(a,o)):(n=e,e=t)):(n=e,e=t)),e}()),e}())===t&&(o=null),m=e,e=yo(a,o)):(n=e,e=t),e}()),e}function jt(){var e;return l.substr(n,2)===b?(e=b,n+=2):(e=t,0===d&&w(ni)),e===t&&(62===l.charCodeAt(n)?(e=L,n++):(e=t,0===d&&w(ri)),e===t&&(l.substr(n,2)===K?(e=K,n+=2):(e=t,0===d&&w(ai)),e===t&&(l.substr(n,2)===q?(e=q,n+=2):(e=t,0===d&&w(ii)),e===t&&(60===l.charCodeAt(n)?(e=Br,n++):(e=t,0===d&&w(oi)),e===t&&(61===l.charCodeAt(n)?(e=G,n++):(e=t,0===d&&w(Ut)),e===t&&(l.substr(n,2)===bt?(e=bt,n+=2):(e=t,0===d&&w(ui)))))))),e}function Yt(){var e,a,o,s,S;return e=n,a=n,(o=Se())!==t?(s=p(),(S=sn())!==t?a=o=[o,s,S]:(n=a,a=t)):(n=a,a=t),a!==t&&(m=e,a=xo(a)),(e=a)===t&&(e=sn()),e}function it(){var e,a,o,s,S;return e=n,a=n,(o=Se())!==t?(s=p(),(S=ft())!==t?a=o=[o,s,S]:(n=a,a=t)):(n=a,a=t),a!==t&&(m=e,a=bo(a)),(e=a)===t&&(e=ft()),e}function re(){var e,a,o,s,S,N,A,D;if(e=n,(a=ot())!==t){for(o=[],s=n,S=p(),(N=Bt())!==t?(A=p(),(D=ot())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);s!==t;)o.push(s),s=n,S=p(),(N=Bt())!==t?(A=p(),(D=ot())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);m=e,e=Po(a,o)}else n=e,e=t;return e}function Bt(){var e;return 43===l.charCodeAt(n)?(e=Ge,n++):(e=t,0===d&&w(Xe)),e===t&&(45===l.charCodeAt(n)?(e=Ke,n++):(e=t,0===d&&w(et)),e===t&&(l.substr(n,2)===Mt?(e=Mt,n+=2):(e=t,0===d&&w(si)))),e}function ot(){var e,a,o,s,S,N,A,D;if(e=n,(a=ut())!==t){for(o=[],s=n,S=p(),(N=Qt())!==t?(A=p(),(D=ut())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);s!==t;)o.push(s),s=n,S=p(),(N=Qt())!==t?(A=p(),(D=ut())!==t?s=S=[S,N,A,D]:(n=s,s=t)):(n=s,s=t);m=e,e=Lo(a,o)}else n=e,e=t;return e}function Qt(){var e;return 42===l.charCodeAt(n)?(e=Qr,n++):(e=t,0===d&&w(li)),e===t&&(47===l.charCodeAt(n)?(e=Gr,n++):(e=t,0===d&&w(ci))),e}function ut(){var e,a;return(e=function pl(){var e;return(e=ct())===t&&(e=function Al(){var e,a,o,s;return e=n,(a=function xl(){var e,a,o,s;return e=n,(a=Pe())!==t&&(o=rn())!==t&&(s=an())!==t?(m=e,e=Zu(a,o,s)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(o=rn())!==t?(m=e,e=Hu(a,o)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(o=an())!==t?(m=e,e=ku(a,o)):(n=e,e=t),e===t&&(e=n,(a=Pe())!==t&&(m=e,a=Wu(a)),e=a))),e}())!==t?(o=n,d++,s=st(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=$u(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Tl(){var e,a;return e=n,(a=function El(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===ta?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(yi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=_u()),(e=a)===t&&(e=n,(a=function Fl(){var e,a,o,s;return e=n,l.substr(n,5).toLowerCase()===na?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(Ti)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Du()),e=a),e}())===t&&(e=function yl(){var e,a;return e=n,(a=function Ml(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===ea?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(gi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?e=a=[a,o]:(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Fu()),a}())===t&&(e=function gl(){var e,a;return e=n,pn()!==t?(p(),(a=se())!==t?(m=e,e=Eu(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ml(){var e,a;return e=n,dn()!==t?(p(),(a=se())!==t?(m=e,e=uu(a)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function vl(){var e,a,o,s;return e=n,hn()!==t?(p(),45===l.charCodeAt(n)?(a=Ke,n++):(a=t,0===d&&w(et)),a===t&&(43===l.charCodeAt(n)?(a=Ge,n++):(a=t,0===d&&w(Xe))),a!==t?(p(),(o=se())!==t?(p(),(s=tn())!==t?(m=e,e=lu(a,o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,hn()!==t?(p(),(a=se())!==t?(p(),(o=tn())!==t?(m=e,e=cu(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function hl(){var e,a;return e=n,mn()!==t?(p(),(a=se())!==t?(m=e,e=su(a)):(n=e,e=t)):(n=e,e=t),e}()),e}())===t&&(e=function il(){var e,a,o;return e=n,function Ll(){var e,a,o,s;return e=n,l.substr(n,7).toLowerCase()===ma?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Pi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ls()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=function dl(){var e;return(e=vn())===t&&(e=wn())===t&&(e=Sn())===t&&(e=In())===t&&(e=gn())===t&&(e=ce())===t&&(e=function Yl(){var e,a,o,s;return e=n,l.substr(n,13).toLowerCase()===Da?(a=l.substr(n,13),n+=13):(a=t,0===d&&w(Xi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=bs()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Bl(){var e,a,o,s;return e=n,l.substr(n,15).toLowerCase()===Pa?(a=l.substr(n,15),n+=15):(a=t,0===d&&w(eo)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ms()):(n=e,e=t)):(n=e,e=t),e}()),e}())!==t?(p(),dt()!==t?(p(),(o=R())!==t?(p(),Z()!==t?(m=e,e=Wo(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ol(){var e,a,o,s,S,N,A;return e=n,function Pl(){var e,a,o,s;return e=n,l.substr(n,9).toLowerCase()===pa?(a=l.substr(n,9),n+=9):(a=t,0===d&&w(Di)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ss()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),dt()!==t?(p(),(o=R())!==t?(p(),s=n,(S=function Dl(){var e,a,o,s;return e=n,l.substr(n,3).toLowerCase()===da?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(_i)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=us()):(n=e,e=t)):(n=e,e=t),e}())!==t?(N=p(),(A=R())!==t?s=S=[S,N,A,p()]:(n=s,s=t)):(n=s,s=t),s===t&&(s=null),(S=Z())!==t?(m=e,e=jo(a,o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ll(){var e,a,o,s;return e=n,fn()!==t?(p(),$()!==t?(p(),(a=en())===t&&(a=null),p(),(o=R())!==t?(p(),dt()!==t?(p(),(s=R())!==t?(p(),Z()!==t?(m=e,e=ru(a,o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,fn()!==t?(p(),$()!==t?(p(),(a=en())===t&&(a=null),p(),(o=R())!==t?(p(),Z()!==t?(m=e,e=au(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}())===t&&(e=function cl(){var e,a,o;return e=n,function Ul(){var e,a,o,s;return e=n,l.substr(n,8).toLowerCase()===va?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Ui)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=fs()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),ft()!==t?(p(),(o=R())!==t?(p(),Z()!==t?(m=e,e=iu(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function ul(){var e,a,o;return e=n,function ql(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Na?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Zi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ss()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),$()!==t?(p(),(a=R())!==t?(p(),function zl(){var e,a,o,s;return e=n,l.substr(n,2).toLowerCase()===Oa?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Hi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Is()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(o=function sl(){var e,a,o;return e=n,(a=function $l(){var e,a,o,s;return e=n,l.substr(n,7).toLowerCase()===Ca?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(ki)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=gs()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Bo()),(e=a)===t&&(e=n,(a=function Zl(){var e,a,o,s;return e=n,l.substr(n,8).toLowerCase()===Aa?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Wi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ys()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Qo()),(e=a)===t&&(e=n,(a=function Hl(){var e,a,o,s;return e=n,l.substr(n,5).toLowerCase()===xa?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(ji)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ts()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Go()),(e=a)===t&&(e=n,(a=function kl(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===ba?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Yi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ns()):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Ko()),(e=a)===t&&(e=n,(a=pn())!==t&&(m=e,a=Xo()),(e=a)===t&&(e=n,(a=dn())!==t&&(m=e,a=eu()),(e=a)===t&&(e=n,(a=mn())!==t&&(m=e,a=tu()),(e=a)===t&&(e=n,(a=function Wl(){var e,a,o,s;return e=n,l.substr(n,7).toLowerCase()===Ma?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Bi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Os()):(n=e,e=t)):(n=e,e=t),e}())!==t?(p(),$()!==t?(p(),(o=le())!==t?(p(),Z()!==t?(m=e,e=nu(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)))))))),e}())!==t?(p(),Z()!==t?(m=e,e=Yo(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function fl(){var e,a,o;return e=n,(a=function Gl(){var e,a,o,s;if(e=n,(a=Gt())!==t&&(m=e,a=qs(a)),(e=a)===t)if(e=n,96===l.charCodeAt(n)?(a=_t,n++):(a=t,0===d&&w(zt)),a!==t){if(o=[],Lt.test(l.charAt(n))?(s=l.charAt(n),n++):(s=t,0===d&&w($t)),s!==t)for(;s!==t;)o.push(s),Lt.test(l.charAt(n))?(s=l.charAt(n),n++):(s=t,0===d&&w($t));else o=t;o!==t?(96===l.charCodeAt(n)?(s=_t,n++):(s=t,0===d&&w(zt)),s!==t?(m=e,e=zs(o)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;return e}())!==t?(p(),$()!==t?(p(),(o=Wt())===t&&(o=null),p(),Z()!==t?(m=e,e=ou(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Nl(){var e;return(e=function Ol(){var e,a,o,s,S;if(e=n,Ue()!==t)if(p(),(a=R())!==t){for(p(),o=[],s=De();s!==t;)o.push(s),s=De();s=p(),(S=Re())!==t?(m=e,e=Lu(a,o)):(n=e,e=t)}else n=e,e=t;else n=e,e=t;if(e===t)if(e=n,Ue()!==t)if(p(),(a=R())!==t){for(p(),o=[],s=De();s!==t;)o.push(s),s=De();s=p(),(S=nn())!==t?(p(),Re()!==t?(m=e,e=Uu(a,o,S)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;else n=e,e=t;return e}())===t&&(e=function Cl(){var e,a,o,s;if(e=n,Ue()!==t){for(p(),a=[],o=_e();o!==t;)a.push(o),o=_e();o=p(),(s=Re())!==t?(m=e,e=Ru(a)):(n=e,e=t)}else n=e,e=t;if(e===t)if(e=n,Ue()!==t){for(p(),a=[],o=_e();o!==t;)a.push(o),o=_e();o=p(),(s=nn())!==t?(p(),Re()!==t?(m=e,e=Vu(a,s)):(n=e,e=t)):(n=e,e=t)}else n=e,e=t;return e}()),e}())===t&&(e=function Ks(){var e,a;return e=n,(a=function Xs(){var e,a;return e=n,(a=function el(){var e,a,o,s;if(e=n,(a=st())!==t){for(o=[],s=Kt();s!==t;)o.push(s),s=Kt();m=e,e=qo(a,o)}else n=e,e=t;return e}())!==t&&(m=e,a=Jo(a)),a}())!==t&&(m=e,a=Ro(a)),(e=a)===t&&(e=n,(a=function tl(){var e,a;return e=n,Me()!==t?(a=function nl(){var e,a,o;for(e=n,a=[],o=Xt();o!==t;)a.push(o),o=Xt();return m=e,Zo(a)}(),Me()!==t?(m=e,e=$o(a)):(n=e,e=t)):(n=e,e=t),e}())!==t&&(m=e,a=Vo(a)),e=a),e}())===t&&(e=lt())===t&&(e=n,$()!==t?(p(),(a=R())!==t?(p(),Z()!==t?(m=e,e=Uo(a)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)),e}function Gt(){var e,a,o,s;if(e=n,(a=st())!==t){for(o=[],s=g();s!==t;)o.push(s),s=g();m=e,e=zo(a,o)}else n=e,e=t;return e}function st(){var e;return Ya.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(fi)),e}function g(){var e;return Ba.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(di)),e}function Kt(){var e;return Dt.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(Rt)),e}function Xt(){var e;return(e=function al(){var e;return Dt.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(Rt)),e}())===t&&(e=function rl(){var e;return e=n,Me()!==t&&Me()!==t?(m=e,e=Ho()):(n=e,e=t),e}()),e}function Me(){var e;return Qa.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(pi)),e}function lt(){var e,a,o,s;return e=n,a=n,64===l.charCodeAt(n)?(o=Kr,n++):(o=t,0===d&&w(mi)),o!==t&&(s=Gt())!==t?a=o=[o,s]:(n=a,a=t),a!==t&&(m=e,a=ko(a)),a}function en(){var e;return(e=function Rl(){var e,a,o,s;return e=n,l.substr(n,7).toLowerCase()===ga?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(qi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=hs()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Vl(){var e,a,o,s;return e=n,l.substr(n,8).toLowerCase()===ya?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(zi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=vs()):(n=e,e=t)):(n=e,e=t),e}())===t&&(e=function Jl(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Ta?(a=l.substr(n,4),n+=4):(a=t,0===d&&w($i)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ws()):(n=e,e=t)):(n=e,e=t),e}()),e}function tn(){var e,a,o;return e=n,(a=function wl(){var e,a,o;return e=n,(a=we())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Z()!==t?(m=e,e=du(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=we())!==t&&(m=e,a=pu(a)),e=a),e}())!==t?(p(),function jl(){var e,a,o,s;return e=n,l.substr(n,2).toLowerCase()===Ea?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Qi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Cs()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(o=function Sl(){var e,a,o,s;return e=n,(a=we())!==t&&(m=e,a=mu(a)),(e=a)===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Ve()!==t?(p(),(s=Ee())!==t?(p(),Z()!==t?(m=e,e=hu(o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Z()!==t?(m=e,e=vu(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t&&(m=e,a=wu()),e=a))),e}())!==t?(m=e,e=fu(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=function Il(){var e,a,o,s;return e=n,(a=we())!==t?(p(),$()!==t?(p(),(o=Ee())!==t?(p(),Z()!==t?(m=e,e=Su(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=we())!==t&&(m=e,a=Iu(a)),(e=a)===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Fe())!==t?(p(),Ve()!==t?(p(),(s=Ee())!==t?(p(),Z()!==t?(m=e,e=gu(o,s)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t?(p(),$()!==t?(p(),(o=Ee())!==t?(p(),Z()!==t?(m=e,e=yu(o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e===t&&(e=n,(a=ce())!==t&&(m=e,a=Tu()),e=a)))),e}()),e}function we(){var e,a;return e=n,(a=Sn())!==t&&(m=e,a=Nu()),(e=a)===t&&(e=n,(a=In())!==t&&(m=e,a=Ou()),(e=a)===t&&(e=n,(a=gn())!==t&&(m=e,a=Cu()),(e=a)===t&&(e=n,(a=wn())!==t&&(m=e,a=Au()),(e=a)===t&&(e=n,(a=vn())!==t&&(m=e,a=xu()),e=a)))),e}function Ee(){var e,a;return e=n,(a=le())!==t&&(m=e,a=bu(a)),a}function Fe(){var e,a;return e=n,(a=le())!==t&&(m=e,a=Mu(a)),a}function se(){var e;return(e=ct())===t&&(e=lt()),e}function ct(){var e,a,o,s,S;if(e=n,39===l.charCodeAt(n)?(a=Et,n++):(a=t,0===d&&w(Vt)),a===t&&(l.substr(n,2)===Ft?(a=Ft,n+=2):(a=t,0===d&&w(hi))),a!==t){for(o=[],s=n,l.substr(n,2)===Ae?(S=Ae,n+=2):(S=t,0===d&&w(Jt)),S!==t&&(m=s,S=Zt()),(s=S)===t&&(Pt.test(l.charAt(n))?(s=l.charAt(n),n++):(s=t,0===d&&w(qt)));s!==t;)o.push(s),s=n,l.substr(n,2)===Ae?(S=Ae,n+=2):(S=t,0===d&&w(Jt)),S!==t&&(m=s,S=Zt()),(s=S)===t&&(Pt.test(l.charAt(n))?(s=l.charAt(n),n++):(s=t,0===d&&w(qt)));39===l.charCodeAt(n)?(s=Et,n++):(s=t,0===d&&w(Vt)),s!==t?(m=e,e=Pu(o)):(n=e,e=t)}else n=e,e=t;return e}function _e(){var e,a,o;return e=n,yn()!==t?(p(),(a=R())!==t?(p(),Tn()!==t?(p(),(o=R())!==t?(m=e,e=Ju(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}function De(){var e,a,o;return e=n,yn()!==t?(p(),(a=R())!==t?(p(),Tn()!==t?(p(),(o=R())!==t?(m=e,e=qu(a,o)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t)):(n=e,e=t),e}function nn(){var e,a;return e=n,function Ql(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Ha?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(co)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Js()):(n=e,e=t)):(n=e,e=t),e}()!==t?(p(),(a=R())!==t?(m=e,e=zu(a)):(n=e,e=t)):(n=e,e=t),e}function Pe(){var e,a,o;return(e=le())===t&&(e=n,45===l.charCodeAt(n)?(a=Ke,n++):(a=t,0===d&&w(et)),a===t&&(43===l.charCodeAt(n)?(a=Ge,n++):(a=t,0===d&&w(Xe))),a!==t&&(o=le())!==t?(m=e,e=ju(a,o)):(n=e,e=t)),e}function rn(){var e,a,o;return e=n,46===l.charCodeAt(n)?(a=Xr,n++):(a=t,0===d&&w(vi)),a!==t?((o=le())===t&&(o=null),m=e,e=Yu(o)):(n=e,e=t),e}function an(){var e,a,o;return e=n,(a=function bl(){var e,a,o;return e=n,Ka.test(l.charAt(n))?(a=l.charAt(n),n++):(a=t,0===d&&w(Si)),a!==t?(Xa.test(l.charAt(n))?(o=l.charAt(n),n++):(o=t,0===d&&w(Ii)),o===t&&(o=null),m=e,e=Gu(a,o)):(n=e,e=t),e}())!==t&&(o=le())!==t?(m=e,e=Bu(a,o)):(n=e,e=t),e}function le(){var e,a,o;if(e=n,a=[],(o=on())!==t)for(;o!==t;)a.push(o),o=on();else a=t;return a!==t&&(m=e,a=Qu(a)),a}function on(){var e;return Ga.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(wi)),e}function ft(){var e,a,o,s;return e=n,l.substr(n,2).toLowerCase()===ra?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Ni)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ku()):(n=e,e=t)):(n=e,e=t),e}function un(){var e,a,o,s;return e=n,l.substr(n,2).toLowerCase()===aa?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Oi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Xu()):(n=e,e=t)):(n=e,e=t),e}function sn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===ia?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ci)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=es()):(n=e,e=t)):(n=e,e=t),e}function Se(){var e,a,o,s;return e=n,l.substr(n,3).toLowerCase()===ua?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(xi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ns()):(n=e,e=t)):(n=e,e=t),e}function Le(){var e,a,o,s;return e=n,l.substr(n,3).toLowerCase()===sa?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(bi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=rs()):(n=e,e=t)):(n=e,e=t),e}function ln(){var e,a,o,s;return e=n,l.substr(n,2).toLowerCase()===la?(a=l.substr(n,2),n+=2):(a=t,0===d&&w(Mi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=as()):(n=e,e=t)):(n=e,e=t),e}function cn(){var e,a,o,s;return e=n,l.substr(n,7).toLowerCase()===ca?(a=l.substr(n,7),n+=7):(a=t,0===d&&w(Ei)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=is()):(n=e,e=t)):(n=e,e=t),e}function dt(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===fa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Fi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=os()):(n=e,e=t)):(n=e,e=t),e}function fn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===ha?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Li)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=cs()):(n=e,e=t)):(n=e,e=t),e}function dn(){var e,a,o,s;return e=n,l.substr(n,9).toLowerCase()===wa?(a=l.substr(n,9),n+=9):(a=t,0===d&&w(Ri)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ds()):(n=e,e=t)):(n=e,e=t),e}function pn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Sa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Vi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ps()):(n=e,e=t)):(n=e,e=t),e}function mn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Ia?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ji)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=ms()):(n=e,e=t)):(n=e,e=t),e}function hn(){var e,a,o,s;return e=n,l.substr(n,8).toLowerCase()===Fa?(a=l.substr(n,8),n+=8):(a=t,0===d&&w(Gi)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=As()):(n=e,e=t)):(n=e,e=t),e}function vn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===_a?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(Ki)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=xs()):(n=e,e=t)):(n=e,e=t),e}function wn(){var e,a,o,s;return e=n,l.substr(n,5).toLowerCase()===La?(a=l.substr(n,5),n+=5):(a=t,0===d&&w(to)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Es()):(n=e,e=t)):(n=e,e=t),e}function Sn(){var e,a,o,s;return e=n,l.substr(n,3).toLowerCase()===Ua?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(no)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Fs()):(n=e,e=t)):(n=e,e=t),e}function In(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Ra?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(ro)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=_s()):(n=e,e=t)):(n=e,e=t),e}function gn(){var e,a,o,s;return e=n,l.substr(n,6).toLowerCase()===Va?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(ao)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ds()):(n=e,e=t)):(n=e,e=t),e}function ce(){var e,a,o,s;return e=n,l.substr(n,6).toLowerCase()===Ja?(a=l.substr(n,6),n+=6):(a=t,0===d&&w(io)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ps()):(n=e,e=t)):(n=e,e=t),e}function Ue(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===qa?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(oo)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Ls()):(n=e,e=t)):(n=e,e=t),e}function Re(){var e,a,o,s;return e=n,l.substr(n,3).toLowerCase()===za?(a=l.substr(n,3),n+=3):(a=t,0===d&&w(uo)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Us()):(n=e,e=t)):(n=e,e=t),e}function yn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===$a?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(so)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Rs()):(n=e,e=t)):(n=e,e=t),e}function Tn(){var e,a,o,s;return e=n,l.substr(n,4).toLowerCase()===Za?(a=l.substr(n,4),n+=4):(a=t,0===d&&w(lo)),a!==t?(o=n,d++,s=g(),d--,s===t?o=void 0:(n=o,o=t),o!==t?(m=e,e=Vs()):(n=e,e=t)):(n=e,e=t),e}function Ve(){var e;return 44===l.charCodeAt(n)?(e=ka,n++):(e=t,0===d&&w(fo)),e}function $(){var e;return 40===l.charCodeAt(n)?(e=Wa,n++):(e=t,0===d&&w(po)),e}function Z(){var e;return 41===l.charCodeAt(n)?(e=ja,n++):(e=t,0===d&&w(mo)),e}function p(){var e,a;for(e=[],a=Nn();a!==t;)e.push(a),a=Nn();return e}function Nn(){var e;return ei.test(l.charAt(n))?(e=l.charAt(n),n++):(e=t,0===d&&w(ho)),e}function On(e,a,o,s){var S={type:"binary-expression",operator:e,left:a,right:o};return void 0!==s&&(S.escape=s),S}function Ie(e,a){for(var o=e,s=0;s<a.length;s++)o=On(a[s][1],o,a[s][3]);return o}if((h=z())!==t&&n===l.length)return h;throw h!==t&&n<l.length&&w({type:"end"}),function Hs(e,a,o){return new r(r.buildMessage(e,a),e,a,o)}(tt,ee<l.length?l.charAt(ee):null,rt(ee,ee<l.length?ee+1:ee))}}}());var Zr=Tt.exports;class Hr{static parse(r){return Zr.parse(r)}}const kr=new Set(["current_timestamp","current_date","current_time"]);class Wr{static makeBool(r){return Nt(r)}static featureValue(r,u,f,l){return xt(r,u,f,l)}static equalsNull(r){return null===r}static applyLike(r,u,f){return Qe(r,u,f)}static ensureArray(r){return Ye(r)}static applyIn(r,u,f){return Be(r,u)}static currentDate(r){return U.u.fromNow(r)}static makeSqlInterval(r,u,f){return x.createFromValueAndQualifier(r,u,f)}static convertInterval(r){return r instanceof x?r.valueInMilliseconds():r}static currentTimestamp(r){return ye(new Date,r)}static compare(r,u,f,l){return j(u,f,r)}static calculate(r,u,f,l){return It(r,u,f,l)}static evaluateTime(r){return ze(r)}static evaluateTimestamp(r,u,f){return Te(r,u,f)}static evaluateDate(r,u){return ht(r,u)}static evaluateFunction(r,u,f){return He(r,u,f)}static lookup(r,u){const f=u[r];return void 0===f?null:f}static between(r,u,f){return null==r||null==u[0]||null==u[1]?null:j(r,u[0],">=")&&j(r,u[1],"<=")}static notbetween(r,u,f){return null==r||null==u[0]||null==u[1]?null:j(r,u[0],"<")||j(r,u[1],">")}static ternaryNot(r){return Ce(r)}static ternaryAnd(r,u){return Ot(r,u)}static ternaryOr(r,u){return Ct(r,u)}}class je{constructor(r,u,f="UTC"){this.fieldsIndex=u,this.timeZone=f,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=Hr.parse(r);const{isStandardized:l,isAggregate:v,referencedFieldNames:h}=this._extractExpressionInfo(u);this._referencedFieldNames=h,this.isStandardized=l,this.isAggregate=v}static convertValueToStorageFormat(r,u=null){if(null===u)return Q(r)?r.getTime():E(r)?r.toMillis():_(r)?r.toStorageFormat():P(r)?r.toStorageString():F(r)?r.toStorageFormat():r;switch(u){case"date":return Q(r)?r.getTime():E(r)?r.toMillis():_(r)?r.toMilliseconds():F(r)?r.toNumber():r;case"date-only":return Q(r)?U.u.fromDateJS(r).toString():_(r)?U.u.fromSqlTimeStampOffset(r).toString():E(r)?U.u.fromDateTime(r).toString():r;case"time-only":return Q(r)?J.n.fromDateJS(r).toStorageString():E(r)?J.n.fromDateTime(r).toStorageString():_(r)?J.n.fromSqlTimeStampOffset(r).toStorageString():P(r)?r.toStorageString():r;case"timestamp-offset":if(Q(r))return y.H.fromJSDate(r).toStorageFormat();if(E(r))return y.H.fromDateTime(r).toStorageFormat();if(_(r))return r.toStorageFormat()}return r}static create(r,u,f="UTC"){return new je(r,u,f)}get fieldNames(){return this._referencedFieldNames}testSet(r,u=de){return!!this._evaluateNode(this.parseTree,null,u,r)}calculateValue(r,u=de){const f=this._evaluateNode(this.parseTree,r,u,null);return f instanceof x?f.valueInMilliseconds()/864e5:f}calculateValueCompiled(r,u=de){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(r,this.parameters,u,this.fieldsIndex,this.timeZone):(0,B.Z)("esri-csp-restrictions")?this.calculateValue(r,u):(this._compileMe(),this.parseTree._compiledVersion(r,this.parameters,u,this.fieldsIndex,this.timeZone))}testFeature(r,u=de){return!!this._evaluateNode(this.parseTree,r,u,null)}testFeatureCompiled(r,u=de){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(r,this.parameters,u,this.fieldsIndex,this.timeZone):(0,B.Z)("esri-csp-restrictions")?this.testFeature(r,u):(this._compileMe(),!!this.parseTree._compiledVersion(r,this.parameters,u,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,r=>{"current-time"===r.type?this._hasDateFunctions=!0:"function"===r.type&&(this._hasDateFunctions=this._hasDateFunctions||kr.has(r.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const r=new Set;return this._visitAll(this.parseTree,u=>{"function"===u.type&&r.add(u.name.toLowerCase())}),Array.from(r)}getExpressions(){const r=new Map;return this._visitAll(this.parseTree,u=>{if("function"===u.type){const f=u.name.toLowerCase(),l=u.args.value[0];if("column-reference"===l.type){const v=l.column,h=`${f}-${v}`;r.has(h)||r.set(h,{aggregateType:f,field:v})}}}),[...r.values()]}getVariables(){const r=new Set;return this._visitAll(this.parseTree,u=>{"parameter"===u.type&&r.add(u.value.toLowerCase())}),Array.from(r)}_compileMe(){const r="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",r).bind(Wr)}_extractExpressionInfo(r){const u=[],f=new Set;let l=!0,v=!1;return this._visitAll(this.parseTree,h=>{switch(h.type){case"column-reference":{const t=r?.get(h.column);let T,C;t?T=C=t.name??"":(C=h.column,T=C.toLowerCase()),f.has(T)||(f.add(T),u.push(C)),h.column=C;break}case"function":{const{name:t,args:T}=h,C=T.value.length;l&&(l=function kn(i,r){const u=St[i.toLowerCase()];return null!=u&&r>=u.minParams&&r<=u.maxParams}(t,C)),!1===v&&(v=ae(t,C));break}}}),{referencedFieldNames:Array.from(u),isStandardized:l,isAggregate:v}}_visitAll(r,u){if(null!=r)switch(u(r),r.type){case"when-clause":this._visitAll(r.operand,u),this._visitAll(r.value,u);break;case"case-expression":for(const f of r.clauses)this._visitAll(f,u);"simple"===r.format&&this._visitAll(r.operand,u),null!==r.else&&this._visitAll(r.else,u);break;case"expression-list":for(const f of r.value)this._visitAll(f,u);break;case"unary-expression":this._visitAll(r.expr,u);break;case"binary-expression":this._visitAll(r.left,u),this._visitAll(r.right,u);break;case"function":this._visitAll(r.args,u)}}evaluateNodeToJavaScript(r){switch(r.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(r.value)+", "+JSON.stringify(r.qualifier)+","+JSON.stringify(r.op)+")";case"case-expression":{let u="";if("simple"===r.format){const f=this.evaluateNodeToJavaScript(r.operand);u="( ";for(let l=0;l<r.clauses.length;l++)u+=" (this.compare('=',"+f+","+this.evaluateNodeToJavaScript(r.clauses[l].operand)+") ? ("+this.evaluateNodeToJavaScript(r.clauses[l].value)+") : ";u+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",u+=" )"}else{u="( ";for(let f=0;f<r.clauses.length;f++)u+=" this.makeBool("+this.evaluateNodeToJavaScript(r.clauses[f].operand)+")===true ? ("+this.evaluateNodeToJavaScript(r.clauses[f].value)+") : ";u+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",u+=" )"}return u}case"parameter":return"this.lookup("+JSON.stringify(r.value.toLowerCase())+",lookups)";case"expression-list":{let u="[";for(const f of r.value)"["!==u&&(u+=","),u+=this.evaluateNodeToJavaScript(f);return u+="]",u}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(r.expr)+")";case"binary-expression":switch(r.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"IS":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")";case"ISNOT":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)"}throw new c.eS(c.f.UnsupportedOperator,{operator:r.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(r.value);case"time":return"this.evaluateTime("+JSON.stringify(r.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(r.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(r.value)+", 'unknown')";case"current-time":return"date"===r.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(r.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(r.name)+","+this.evaluateNodeToJavaScript(r.args)+", timeZone)"}throw new c.eS(c.f.UnsupportedSyntax,{node:r.type})}_evaluateNode(r,u,f,l){let v;switch(r.type){case"interval":{const h=this._evaluateNode(r.value,u,f,l);return x.createFromValueAndQualifier(h,r.qualifier,r.op)}case"case-expression":if("simple"===r.format){const h=this._evaluateNode(r.operand,u,f,l);for(let t=0;t<r.clauses.length;t++)if(j(h,this._evaluateNode(r.clauses[t].operand,u,f,l),"="))return this._evaluateNode(r.clauses[t].value,u,f,l);if(null!==r.else)return this._evaluateNode(r.else,u,f,l)}else{for(let h=0;h<r.clauses.length;h++)if(Nt(this._evaluateNode(r.clauses[h].operand,u,f,l)))return this._evaluateNode(r.clauses[h].value,u,f,l);if(null!==r.else)return this._evaluateNode(r.else,u,f,l)}return null;case"parameter":return v=this.parameters[r.value.toLowerCase()],Q(v)?M.ou.fromJSDate(v):v instanceof oe.iG?v.toDateTime():v;case"expression-list":{const h=[];for(const t of r.value)h.push(this._evaluateNode(t,u,f,l));return h}case"unary-expression":return Ce(this._evaluateNode(r.expr,u,f,l));case"binary-expression":switch(r.operator){case"AND":return Ot(this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l));case"OR":return Ct(this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l));case"IS":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return null===this._evaluateNode(r.left,u,f,l);case"ISNOT":if("null"!==r.right.type)throw new c.eS(c.f.UnsupportedIsRhs);return null!==this._evaluateNode(r.left,u,f,l);case"IN":{const h=Ye(this._evaluateNode(r.right,u,f,l));return Be(this._evaluateNode(r.left,u,f,l),h)}case"NOT IN":{const h=Ye(this._evaluateNode(r.right,u,f,l));return Ce(Be(this._evaluateNode(r.left,u,f,l),h))}case"BETWEEN":{const h=this._evaluateNode(r.left,u,f,l),t=this._evaluateNode(r.right,u,f,l);return null==h||null==t[0]||null==t[1]?null:j(h,t[0],">=")&&j(h,t[1],"<=")}case"NOTBETWEEN":{const h=this._evaluateNode(r.left,u,f,l),t=this._evaluateNode(r.right,u,f,l);return null==h||null==t[0]||null==t[1]?null:j(h,t[0],"<")||j(h,t[1],">")}case"LIKE":return Qe(this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l),r.escape);case"NOT LIKE":return Ce(Qe(this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l),r.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return j(this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l),r.operator);case"-":case"+":case"*":case"/":case"||":return It(r.operator,this._evaluateNode(r.left,u,f,l),this._evaluateNode(r.right,u,f,l),this.timeZone)}case"null":case"boolean":case"string":case"number":return r.value;case"date":return r.parsedValue??=ht(r.value,"unknown"),r.parsedValue;case"timestamp":return r.parsedValue??=Te(r.value,"unknown"),r.parsedValue;case"time":return ze(r.value);case"current-time":return"date"===r.mode?U.u.fromNow(this.timeZone):ye(new Date,this.timeZone);case"column-reference":return xt(u,r.column,this.fieldsIndex,f);case"data-type":return r.value;case"function":{if(this.isAggregate&&ae(r.name,r.args.value.length)){const t=[];for(const T of r.args?.value||[]){const C=[];for(const z of l||[])C.push(this._evaluateNode(T,z,f,null));t.push(C)}return function O(i,r){const u=ne[i.toLowerCase()];if(null==u)throw new c.eS(c.f.FunctionNotRecognized);if(r.length<u.minParams||r.length>u.maxParams)throw new c.eS(c.f.InvalidParameterCount,{name:i.toUpperCase()});return u.evaluate(r)}(r.name,t)}const h=this._evaluateNode(r.args,u,f,l);return He(r.name,h,this.timeZone)}}throw new c.eS(c.f.UnsupportedSyntax,{node:r.type})}}function Nt(i){return!0===i}function Ye(i){return Array.isArray(i)?i:[i]}function Ce(i){return null!==i?!0!==i:null}function Ot(i,r){return null!=i&&null!=r?!0===i&&!0===r:!1!==i&&!1!==r&&null}function Ct(i,r){return null!=i&&null!=r?!0===i||!0===r:!0===i||!0===r||null}function Be(i,r,u){if(null==i)return null;let f=!1;for(const l of r)if(null==l)f=null;else{if(i===l){f=!0;break}if(Ze(i)&&Ze(l)&&(f=j(i,l,"="),f))break}return f}const At="-[]/{}()*+?.\\^$|";var ue,i;function Qe(i,r,u){return null==i?null:function jr(i,r){const u=r;let f="",l=ue.Normal;for(let v=0;v<i.length;v++){const h=i.charAt(v);switch(l){case ue.Normal:h===u?l=ue.Escaped:At.includes(h)?f+="\\"+h:f+="%"===h?".*":"_"===h?".":h;break;case ue.Escaped:At.includes(h)?f+="\\"+h:f+=h,l=ue.Normal}}return new RegExp("^"+f+"$","m")}(r,u).test(i)}function xt(i,r,u,f){const l=f.getAttribute(i,r),v=u?.get(r);return null==l||"esriFieldTypeDate"!==v?.type&&"date"!==v?.type?null==l||"esriFieldTypeDateOnly"!==v?.type&&"date-only"!==v?.type?null==l||"esriFieldTypeTimeOnly"!==v?.type&&"time-only"!==v?.type?null==l||"esriFieldTypeTimestampOffset"!==v?.type&&"timestamp-offset"!==v?.type?l:new y.H(l):J.n.fromReader(l):U.u.fromReader(l):ye(new Date(l),u?.getLuxonTimeZone(v.name)??M.Qf.utcInstance)}(i=ue||(ue={}))[i.Normal=0]="Normal",i[i.Escaped=1]="Escaped";const de={getAttribute:(i,r)=>(function Yr(i){return i&&"object"==typeof i.attributes}(i)?i.attributes:i)[r]}}}]);