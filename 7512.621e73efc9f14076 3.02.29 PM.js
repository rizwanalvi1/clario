"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[7512,318],{29674:(U,g,t)=>{t.d(g,{V:()=>D});var i=t(50484),E=t(80543),O=(t(14007),t(4703),t(65311),t(10141));const D=P=>{let p=class extends P{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function T(P){return"portalItem"in P}(this)?this.portalItem?.apiKey:null}set apiKey(d){null!=d?this._override("apiKey",d):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,i._)([(0,E.Cb)({type:String})],p.prototype,"apiKey",null),p=(0,i._)([(0,O.j)("esri.layers.mixins.APIKeyMixin")],p),p}},4257:(U,g,t)=>{t.d(g,{Y:()=>D});var i=t(50484),E=t(4703),s=t(80543),O=(t(14007),t(65311),t(10141)),T=t(89713);const D=P=>{let p=class extends P{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const d=(0,T.Qc)(this.url);if(null!=d&&d.title)return d.title}return this._get("title")||""}set title(d){this._set("title",d)}set url(d){this._set("url",(0,T.Nm)(d,E.Z.getLogger(this)))}};return(0,i._)([(0,s.Cb)()],p.prototype,"title",null),(0,i._)([(0,s.Cb)({type:String})],p.prototype,"url",null),p=(0,i._)([(0,O.j)("esri.layers.mixins.ArcGISService")],p),p}},27426:(U,g,t)=>{t.d(g,{N:()=>T});var i=t(50484),E=t(80543),O=(t(14007),t(4703),t(65311),t(10141));const T=D=>{let P=class extends D{constructor(){super(...arguments),this.customParameters=null}};return(0,i._)([(0,E.Cb)({type:Object,json:{write:{overridePolicy:p=>({enabled:!!(p&&Object.keys(p).length>0)})}}})],P.prototype,"customParameters",void 0),P=(0,i._)([(0,O.j)("esri.layers.mixins.CustomParametersMixin")],P),P}},70509:(U,g,t)=>{t.d(g,{I:()=>M});var i=t(15861),E=t(50484),s=t(11931),C=t(26152),v=t(66476),O=t(37636),T=t(57964),D=t(4703),P=t(51172),p=t(79412),d=t(6785),m=t(80543),S=(t(14007),t(65311),t(62185)),u=t(10141),y=t(7547),f=t(85971),R=t(61018),e=t(27835),a=t(57437),n=t(50318);const M=K=>{let I=class extends K{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,P.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(_){_!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",_))}readPortalItem(_,l,r){if(l.itemId)return new e.default({id:l.itemId,portal:r?.portal})}writePortalItem(_,l){_?.id&&(l.itemId=_.id)}loadFromPortal(_,l){var r=this;return(0,i.Z)(function*(){if(r.portalItem?.id)try{const{load:o}=yield Promise.all([t.e(2772),t.e(8592),t.e(6964)]).then(t.bind(t,36964));return(0,p.k_)(l),yield o({instance:r,supportedTypes:_.supportedTypes,validateItem:_.validateItem,supportsData:_.supportsData,layerModuleTypeMap:_.layerModuleTypeMap},l)}catch(o){throw(0,p.D_)(o)||D.Z.getLogger(r).warn(`Failed to load layer (${r.title}, ${r.id}) portal item (${r.portalItem.id})\n  ${o}`),o}})()}finishLoadEditablePortalLayer(_){var l=this;return(0,i.Z)(function*(){l._set("userHasEditingPrivileges",yield l._fetchUserHasEditingPrivileges(_).catch(r=>((0,p.r9)(r),!0)))})()}setUserPrivileges(_,l){var r=this;return(0,i.Z)(function*(){if(!s.default.userPrivilegesApplied)return r.finishLoadEditablePortalLayer(l);if(r.url)try{const{features:{edit:o,fullEdit:h},content:{updateItem:c}}=yield r._fetchUserPrivileges(_,l);r._set("userHasEditingPrivileges",o),r._set("userHasFullEditingPrivileges",h),r._set("userHasUpdateItemPrivileges",c)}catch(o){(0,p.r9)(o)}})()}_fetchUserPrivileges(_,l){var r=this;return(0,i.Z)(function*(){let o=r.portalItem;if(!_||!o||!o.loaded||o.sourceUrl)return r._fetchFallbackUserPrivileges(l);const h=_===o.id;if(h&&o.portal.user)return(0,n.Ss)(o);let c,F;if(h)c=o.portal.url;else try{c=yield(0,f.oP)(r.url,l)}catch(B){(0,p.r9)(B)}if(!c||!(0,d.Zo)(c,o.portal.url))return r._fetchFallbackUserPrivileges(l);try{const B=null!=l?l.signal:null;F=yield C.id?.getCredential(`${c}/sharing`,{prompt:!1,signal:B})}catch(B){(0,p.r9)(B)}if(!F)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(h?yield o.reload():(o=new e.default({id:_,portal:{url:c}}),yield o.load(l)),o.portal.user)return(0,n.Ss)(o)}catch(B){(0,p.r9)(B)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(_){var l=this;return(0,i.Z)(function*(){let r=!0;try{r=yield l._fetchUserHasEditingPrivileges(_)}catch(o){(0,p.r9)(o)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(_){var l=this;return(0,i.Z)(function*(){const r=l.url?C.id?.findCredential(l.url):null;if(!r)return!0;const o=A.credential===r?A.user:yield l._fetchEditingUser(_);return A.credential=r,A.user=o,null==o?.privileges||o.privileges.includes("features:user:edit")})()}_fetchEditingUser(_){var l=this;return(0,i.Z)(function*(){const r=l.portalItem?.portal?.user;if(r)return r;const o=C.id?.findServerInfo(l.url??"");if(!o?.owningSystemUrl)return null;const h=`${o.owningSystemUrl}/sharing/rest`,c=R.Z.getDefault();if(c&&c.loaded&&(0,d.Fv)(c.restUrl)===(0,d.Fv)(h))return c.user;const F=`${h}/community/self`,x=null!=_?_.signal:null,W=yield(0,O.q6)((0,v.Z)(F,{authMode:"no-prompt",query:{f:"json"},signal:x}));return W.ok?a.Z.fromJSON(W.value.data):null})()}read(_,l){l&&(l.layer=this),super.read(_,l)}write(_,l){const r=l?.portal,o=this.portalItem?.id&&(this.portalItem.portal||R.Z.getDefault());return r&&o&&!(0,d.tm)(o.restUrl,r.restUrl)?(l.messages&&l.messages.push(new T.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(_,{...l,layer:this})}};return(0,E._)([(0,m.Cb)({type:e.default})],I.prototype,"portalItem",null),(0,E._)([(0,S.r)("web-document","portalItem",["itemId"])],I.prototype,"readPortalItem",null),(0,E._)([(0,y.c)("web-document","portalItem",{itemId:{type:String}})],I.prototype,"writePortalItem",null),(0,E._)([(0,m.Cb)({clonable:!1})],I.prototype,"resourceReferences",void 0),(0,E._)([(0,m.Cb)({type:Boolean,readOnly:!0})],I.prototype,"userHasEditingPrivileges",void 0),(0,E._)([(0,m.Cb)({type:Boolean,readOnly:!0})],I.prototype,"userHasFullEditingPrivileges",void 0),(0,E._)([(0,m.Cb)({type:Boolean,readOnly:!0})],I.prototype,"userHasUpdateItemPrivileges",void 0),I=(0,E._)([(0,u.j)("esri.layers.mixins.PortalLayer")],I),I},A={credential:null,user:null}},25836:(U,g,t)=>{t.d(g,{Q:()=>l});var i=t(15861),E=t(50484),C=(t(14007),t(4703)),v=t(79412),O=t(80543),T=t(73018),P=(t(65311),t(10141)),p=t(76215),d=t(83944),S=(t(37636),t(57964),t(12926),t(43571));const u=new d.Z,y=new WeakMap;function a(r,o){return Number.isFinite(r)&&Number.isFinite(o)?o<=0?r:a(o,r%o):0}let n=0,M=0;function A(){const r=Date.now();let o=!1;for(const h of u){const c=h.deref();c?c.refreshInterval&&r-(y.get(c)??0)+5>=6e4*c.refreshInterval&&(y.set(c,r),c.refresh(r)):o=!0}if(o)for(let h=u.length-1;h>=0;h--)u.at(h).deref()||u.removeAt(h)}(0,S.EH)(()=>{const r=Date.now();let o=0;for(const h of u){const c=h.deref();c&&(o=a(Math.round(6e4*c.refreshInterval),o),c.refreshInterval?y.get(c)||y.set(c,r):y.delete(c))}if(o!==M){if(M=o,clearInterval(n),0===M)return void(n=0);n=setInterval(A,M)}});const l=r=>{let o=class extends r{constructor(...h){super(...h),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,v.Ds)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function f(r){(function e(r){return null!=r&&"object"==typeof r&&"refreshInterval"in r&&"refresh"in r})(r)&&u.push(new WeakRef(r))}(this)},()=>{})}destroy(){!function R(r){const o=u.find(h=>h.deref()===r);o&&u.remove(o)}(this)}castRefreshInterval(h){return h>=.1?h:h<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(h=Date.now()){(0,v.R8)(this._debounceHasDataChanged()).then(c=>{c&&this._set("refreshTimestamp",h),this.emit("refresh",{dataChanged:c})},c=>{C.Z.getLogger(this).error(c),this.emit("refresh",{dataChanged:!1,error:c})})}hasDataChanged(){return(0,i.Z)(function*(){return!0})()}get test(){}};return(0,E._)([(0,O.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:p.C}}}}})],o.prototype,"refreshInterval",void 0),(0,E._)([(0,T.p)("refreshInterval")],o.prototype,"castRefreshInterval",null),(0,E._)([(0,O.Cb)({readOnly:!0})],o.prototype,"refreshTimestamp",void 0),(0,E._)([(0,O.Cb)({readOnly:!0})],o.prototype,"refreshParameters",null),o=(0,E._)([(0,P.j)("esri.layers.mixins.RefreshableLayer")],o),o}},30457:(U,g,t)=>{t.d(g,{Z:()=>m});var i=t(50484),E=t(25387),s=t(84303),C=t(89317),v=t(80543),P=(t(14007),t(4703),t(65311),t(10141));const p=new s.X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let d=class extends((0,E.J)(C.wq)){constructor(L){super(L),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,i._)([(0,v.Cb)({json:{write:!0}})],d.prototype,"name",void 0),(0,i._)([(0,v.Cb)({json:{write:!0}})],d.prototype,"description",void 0),(0,i._)([(0,v.Cb)({json:{read:p.read,write:p.write}})],d.prototype,"drawingTool",void 0),(0,i._)([(0,v.Cb)({json:{write:!0}})],d.prototype,"prototype",void 0),(0,i._)([(0,v.Cb)({json:{write:!0}})],d.prototype,"thumbnail",void 0),d=(0,i._)([(0,P.j)("esri.layers.support.FeatureTemplate")],d);const m=d},39557:(U,g,t)=>{t.d(g,{Z:()=>d});var P,i=t(50484),E=t(83944),s=t(89317),C=t(80543),D=(t(14007),t(4703),t(65311),t(10141));let p=P=class extends s.wq{constructor(m){super(m),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new E.Z}clone(){return new P({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,i._)([(0,C.Cb)({type:String,json:{write:!0}})],p.prototype,"floorField",void 0),(0,i._)([(0,C.Cb)({json:{read:!1,write:!1}})],p.prototype,"viewAllMode",void 0),(0,i._)([(0,C.Cb)({json:{read:!1,write:!1}})],p.prototype,"viewAllLevelIds",void 0),p=P=(0,i._)([(0,D.j)("esri.layers.support.LayerFloorInfo")],p);const d=p},58748:(U,g,t)=>{t.d(g,{Z:()=>L});var i=t(50484),E=t(25387),s=t(84303),C=t(89317),v=t(80543),P=(t(14007),t(4703),t(65311),t(10141));const p=new s.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),d=new s.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let m=class extends((0,E.J)(C.wq)){constructor(j){super(j),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,i._)([(0,v.Cb)({json:{read:p.read,write:p.write}})],m.prototype,"cardinality",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"composite",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"id",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"keyField",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"keyFieldInRelationshipTable",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"relatedTableId",void 0),(0,i._)([(0,v.Cb)({json:{read:!0,write:!0}})],m.prototype,"relationshipTableId",void 0),(0,i._)([(0,v.Cb)({json:{read:d.read,write:d.write}})],m.prototype,"role",void 0),m=(0,i._)([(0,P.j)("esri.layers.support.Relationship")],m);const L=m},37556:(U,g,t)=>{t.d(g,{h:()=>P,j:()=>R});var i=t(14007),E=t(89713);function s(e,a,n){return!!v(e,a,n)}function C(e,a,n){return v(e,a,n)}function v(e,a,n){return e&&e.hasOwnProperty(a)?e[a]:n}const O={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function T(e){const a=e?.supportedSpatialAggregationStatistics?.map(n=>n.toLowerCase());return{envelope:!!a?.includes("envelopeaggregate"),centroid:!!a?.includes("centroidaggregate"),convexHull:!!a?.includes("convexhullaggregate")}}function D(e,a){return!!e?.supportedOperationsWithCacheHint?.map(M=>M.toLowerCase())?.includes(a.toLowerCase())}function P(e,a){return{analytics:p(e),attachment:d(e),data:m(e),metadata:L(e),operations:j(e.capabilities,e,a),query:S(e,a),queryRelated:u(e),queryTopFeatures:y(e),editing:f(e)}}function p(e){return{supportsCacheHint:D(e.advancedQueryCapabilities,"queryAnalytics")}}function d(e){const a=e.attachmentProperties,n={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:D(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:s(e,"supportsAttachmentsResizing",!1)};return a&&Array.isArray(a)&&a.forEach(M=>{const A=O[M.name];A&&(n[A]=!!M.isEnabled)}),n}function m(e){return{isVersioned:s(e,"isDataVersioned",!1),supportsAttachment:s(e,"hasAttachments",!1),supportsM:s(e,"hasM",!1),supportsZ:s(e,"hasZ",!1)}}function L(e){return{supportsAdvancedFieldProperties:s(e,"supportsFieldDescriptionProperty",!1)}}function j(e,a,n){const M=e?e.toLowerCase().split(",").map(c=>c.trim()):[],A=n?(0,E.Qc)(n):null,K=M.includes(null!=A&&"MapServer"===A.serverType?"data":"query"),I=M.includes("editing")&&!a.datesInUnknownTimezone;let _=I&&M.includes("create"),l=I&&M.includes("delete"),r=I&&M.includes("update");const o=M.includes("changetracking"),h=a.advancedQueryCapabilities;return I&&!(_||l||r)&&(_=l=r=!0),{supportsCalculate:s(a,"supportsCalculate",!1),supportsTruncate:s(a,"supportsTruncate",!1),supportsValidateSql:s(a,"supportsValidateSql",!1),supportsAdd:_,supportsDelete:l,supportsEditing:I,supportsChangeTracking:o,supportsQuery:K,supportsQueryAnalytics:s(h,"supportsQueryAnalytic",!1),supportsQueryAttachments:s(h,"supportsQueryAttachments",!1),supportsQueryTopFeatures:s(h,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:s(a,"supportsAttachmentsResizing",!1),supportsSync:M.includes("sync"),supportsUpdate:r,supportsExceedsLimitStatistics:s(a,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:s(a,"supportsAsyncConvert3D",!1)}}function S(e,a){const n=e.advancedQueryCapabilities,M=e.ownershipBasedAccessControlForFeatures,A=e.archivingInfo,K=e.currentVersion,I=a?.includes("MapServer"),_=!I||K>=(0,i.Z)("mapserver-pbf-version-support"),l=(0,E.M8)(a),r=new Set((e.supportedQueryFormats??"").split(",").map(o=>o.toLowerCase().trim()));return{maxRecordCount:C(e,"maxRecordCount",void 0),maxRecordCountFactor:C(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:C(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:T(n),supportsCacheHint:s(n,"supportsQueryWithCacheHint",!1)||D(n,"query"),supportsCentroid:s(n,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:l,supportsDefaultSpatialReference:s(n,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:s(n,"supportsDisjointSpatialRel",!1),supportsDistance:s(n,"supportsQueryWithDistance",!1),supportsDistinct:s(n,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:s(n,"supportsReturningQueryExtent",!1),supportsFormatPBF:_&&r.has("pbf"),supportsFullTextSearch:s(n,"supportsFullTextSearch",!1),supportsGeometryProperties:s(n,"supportsReturningGeometryProperties",!1),supportsHavingClause:s(n,"supportsHavingClause",!1),supportsHistoricMoment:s(A,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:s(n,"supportsMaxRecordCountFactor",!1),supportsOrderBy:s(n,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:s(n,"supportsPagination",!1),supportsPercentileStatistics:s(n,"supportsPercentileStatistics",!1),supportsQuantization:s(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:s(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:s(M,"allowAnonymousToQuery",!0),supportsQueryByOthers:s(M,"allowOthersToQuery",!0),supportsQueryGeometry:s(e,"supportsReturningQueryGeometry",!1),supportsResultType:s(n,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:s(n,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:s(n,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:s(e,"useStandardizedQueries",!1),supportsStatistics:s(n,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:s(n,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:C(e,"tileMaxRecordCount",void 0)}}function u(e){const a=e.advancedQueryCapabilities,n=s(a,"supportsAdvancedQueryRelated",!1);return{supportsPagination:s(a,"supportsQueryRelatedPagination",!1),supportsCount:n,supportsOrderBy:n,supportsCacheHint:D(a,"queryRelated")}}function y(e){return{supportsCacheHint:D(e.advancedQueryCapabilities,"queryTopFilter")}}function f(e){const a=e.ownershipBasedAccessControlForFeatures,n=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:s(e,"allowGeometryUpdates",!0),supportsGlobalId:s(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:s(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:s(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:s(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:s(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:s(a,"allowAnonymousToDelete",!0),supportsDeleteByOthers:s(a,"allowOthersToDelete",!0),supportsUpdateByAnonymous:s(a,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:s(a,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:s(n,"supportsAsyncApplyEdits",!1),zDefault:C(e,"zDefault",void 0)}}function R(e){return{operations:{supportsAppend:s(e,"supportsAppend",!1),supportsExportClip:s(e,"supportsExportClip",!1),supportsExportFrameset:s(e,"supportsExportFrameset",!1),supportsMensuration:s(e,"supportsMensuration",!1),supportsUpdate:s(e,"supportsUpdate",!1)},query:{supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1}}}},50318:(U,g,t)=>{t.d(g,{$o:()=>m,Fj:()=>P,IW:()=>d,Ss:()=>S,_$:()=>D,ck:()=>p,hz:()=>j,qj:()=>T});var i=t(15861),E=t(83821),s=t(43814),C=t(48230);function O(){return(O=(0,i.Z)(function*(u){const y=u.spatialReference;if(y.isWGS84)return u.clone();if(y.isWebMercator)return(0,C.Sx)(u);const f=s.Z.WGS84;return yield(0,E.initializeProjection)(y,f),(0,E.project)(u,f)})).apply(this,arguments)}function T(u,y){if(!D(u,y)){const f=u.typeKeywords;f?f.push(y):u.typeKeywords=[y]}}function D(u,y){return!!u.typeKeywords?.includes(y)}function P(u){return D(u,j.HOSTED_SERVICE)}function p(u,y){const f=u.typeKeywords;if(f){const R=f.indexOf(y);R>-1&&f.splice(R,1)}}function d(u,y,f){f?T(u,y):p(u,y)}function m(u){return L.apply(this,arguments)}function L(){return L=(0,i.Z)(function*(u){const y=u.clone().normalize();let f;if(y.length>1)for(const R of y)f?R.width>f.width&&(f=R):f=R;else f=y[0];return function v(u){return O.apply(this,arguments)}(f)}),L.apply(this,arguments)}const j={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function S(u){const{portal:y,isOrgItem:f,itemControl:R}=u,e=y.user?.privileges;let a=!e||e.includes("features:user:edit"),n=!!f&&!!e?.includes("features:user:fullEdit");const M="update"===R||"admin"===R;return M?n=a=!0:n&&(a=!0),{features:{edit:a,fullEdit:n},content:{updateItem:M}}}}}]);