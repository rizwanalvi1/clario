"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[6945],{70751:(T,h,e)=>{function m(o){return o=o||globalThis.location.hostname,_.some(l=>null!=o?.match(l))}function d(o,l){return o&&(l=l||globalThis.location.hostname)?null!=l.match(f)||null!=l.match(b)?o.replace("static.arcgis.com","staticdev.arcgis.com"):null!=l.match(y)||null!=l.match(i)?o.replace("static.arcgis.com","staticqa.arcgis.com"):o:o}e.d(h,{XO:()=>m,pJ:()=>d});const f=/^devext\.arcgis\.com$/,y=/^qaext\.arcgis\.com$/,b=/^[\w-]*\.mapsdevext\.arcgis\.com$/,i=/^[\w-]*\.mapsqa\.arcgis\.com$/,_=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,f,y,/^jsapps\.esri\.com$/,b,i]},13967:(T,h,e)=>{e.d(h,{K3:()=>d,Rx:()=>l});var m=e(14007);const d=()=>!!(0,m.Z)("enable-feature:force-wosr"),l=()=>!!(0,m.Z)("enable-feature:SceneLayer-editing");((S="i3s-patching")=>{switch(m.Z.add("enable-i3s-patching",!1,!0,!0),m.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),m.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),S){case"feature-layer-view":m.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":m.Z.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},26981:(T,h,e)=>{e.d(h,{CJ:()=>o,G:()=>s,Rz:()=>D,kD:()=>C,mW:()=>S,xA:()=>_,z3:()=>l}),e(14007);var d=e(89481),f=e(66637),y=e(35451),b=e(52248),i=e(19579);const _=y.Z.fromJSON(i.I4),o=f.Z.fromJSON(i.ET),l=d.Z.fromJSON(i.lF),D=b.Z.fromJSON(i.qP),s=y.Z.fromJSON(i.eG),S=f.Z.fromJSON(i.wW),C=d.Z.fromJSON(i.lj)},19579:(T,h,e)=>{e.d(h,{ET:()=>y,I4:()=>f,SQ:()=>m,X1:()=>d,eG:()=>_,lF:()=>b,lj:()=>l,qP:()=>i,wW:()=>o});const m=[252,146,31,255],d=[153,153,153,255],f={type:"esriSMS",style:"esriSMSCircle",size:6,color:m,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},y={type:"esriSLS",style:"esriSLSSolid",width:.75,color:m},b={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},i={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},_={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},o={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},15532:(T,h,e)=>{e.d(h,{cW:()=>_,im:()=>Z,vX:()=>o});var m=e(71950),d=e(57964),f=e(85971),y=e(15954),b=e(7610),i=e(80121);function _(s,S,C,t){const a=D(s,{},{context:t,isLabelSymbol:!1});null!=a&&(S[C]=a)}function o(s,S,C,t){const a=D(s,{},{context:t,isLabelSymbol:!0});null!=a&&(S[C]=a)}function l(s){return s instanceof y.Z||s instanceof i.Z}function D(s,S,C){if(null==s)return null;const{context:t,isLabelSymbol:a}=C,E=t?.origin,M=t?.messages;if("web-scene"===E&&!l(s)){const P=(0,b.q)(s,{retainCIM:!0,hasLabelingContext:a});return null!=P.symbol?P.symbol.write(S,t):(M?.push(new d.Z("symbol:unsupported",`Symbols of type '${s.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:s,context:t,error:P.error})),null)}return("web-map"===E||"portal-item"===E&&!(0,f.A2)(t?.layer))&&l(s)?(M?.push(new d.Z("symbol:unsupported",`Symbols of type '${s.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:s,context:t})),null):s.write(S,t)}function Z(s,S){return(0,m.S9)(s,null,S)}},18007:(T,h,e)=>{e.d(h,{EJ:()=>M,KV:()=>a,n2:()=>t,v9:()=>E,wm:()=>j});var m=e(15861),d=e(66476),f=e(57964),y=e(79412),b=e(6785),i=e(61018),_=e(78149),o=e(13967);let l={};function Z(){return(Z=(0,m.Z)(function*(n,c){try{return{data:(yield M(n,c)).data,baseUrl:(0,b.Yd)(n),styleUrl:n}}catch(u){return(0,y.r9)(u),null}})).apply(this,arguments)}function t(n,c,u){return null!=n?.styleUrl?function D(n,c){return Z.apply(this,arguments)}(n.styleUrl,u):null!=n?.styleName?function s(n,c,u){const p=null!=c.portal?c.portal:i.Z.getDefault();let U;const g=`${p.url} - ${p.user?.username} - ${n}`;return l[g]||(l[g]=function C(n,c,u){return c.load(u).then(()=>{const p=new _.Z({disableExtraQuery:!0,query:`owner:${P} AND type:${I} AND typekeywords:"${n}"`});return c.queryItems(p,u)}).then(({results:p})=>{let U=null;const g=n.toLowerCase();if(p&&Array.isArray(p))for(const O of p)if(O.typeKeywords?.some(v=>v.toLowerCase()===g)&&O.type===I&&O.owner===P){U=O;break}if(!U)throw new f.Z("symbolstyleutils:style-not-found",`The style '${n}' could not be found`,{styleName:n});return U.load(u)})}(n,p,u).then(O=>(U=O,O.fetchData())).then(O=>({data:O,baseUrl:U.itemUrl??"",styleName:n}))),l[g]}(n.styleName,c,u):Promise.reject(new f.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function a(n){return null===n||"CIMSymbolReference"===n.type?n:{type:"CIMSymbolReference",symbol:n}}function E(n,c,u=["gltf"]){if("cimRef"===c)return encodeURI(n.cimRef);if(n.formatInfos&&!(0,o.K3)())for(const p of u){const U=n.formatInfos.find(g=>g.type===p);if(U)return U.href}return encodeURI(n.webRef)}function M(n,c){const u={responseType:"json",query:{f:"json"},...c};return(0,d.Z)((0,b.Fv)(n),u)}const P="esri_en",I="Style",j="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},7610:(T,h,e)=>{e.d(h,{q:()=>K});var m=e(71950),d=e(57964),f=e(66599),y=e(83944),i=(e(14007),e(55768)),_=e(13714),o=e(92227),l=e(75771),D=e(31110),Z=e(87137),s=e(74224),S=e(26981),C=e(19579),t=e(91729);D.Z.fromSimpleMarkerSymbol(S.xA),o.Z.fromSimpleLineSymbol(S.CJ),Z.Z.fromSimpleFillSymbol(S.z3),new l.Z({symbolLayers:new y.Z([new _.Z({material:{color:C.SQ},edges:new s.Z({size:(0,i.Wz)(1),color:new f.Z(C.X1)})})])});const I=new o.Z({symbolLayers:new y.Z([new t.Z({material:{color:new f.Z([0,0,0])},size:(0,i.Wz)(1)})])}),j=new Z.Z({symbolLayers:new y.Z([new _.Z({outline:{color:new f.Z([0,0,0]),size:(0,i.Wz)(1)}})])});var c=e(80121),u=e(66637),p=e(35451),U=e(41391),g=e(89481),O=e(52248),R=e(82108);const v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function K(r,W=v){if(!r)return{symbol:null};const{retainId:B=v.retainId,ignoreDrivers:N=v.ignoreDrivers,hasLabelingContext:x=v.hasLabelingContext,retainCIM:$=v.retainCIM,cimFallbackEnabled:w=v.cimFallbackEnabled}=W;let L=null;if((0,m.dU)(r)||r instanceof c.Z)L=r.clone();else if("cim"===r.type){const A=r.data?.symbol?.type;switch(A){case"CIMPointSymbol":L=$?r.clone():D.Z.fromCIMSymbol(r);break;case"CIMLineSymbol":w&&(L=I.clone(),W?.logWarning?.("Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":w&&(L=j.clone(),W?.logWarning?.("Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!L)return{error:new d.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${A||"unknown"}' is unsupported in 3D`,{symbol:r})}}else if(r instanceof u.Z)L=o.Z.fromSimpleLineSymbol(r);else if(r instanceof p.Z)L=D.Z.fromSimpleMarkerSymbol(r);else if(r instanceof U.Z)L=D.Z.fromPictureMarkerSymbol(r);else if(r instanceof g.Z)L=W.geometryType&&"mesh"===W.geometryType?l.Z.fromSimpleFillSymbol(r):Z.Z.fromSimpleFillSymbol(r);else{if(!(r instanceof O.Z))return{error:new d.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${r.type||r.declaredClass}' is unsupported in 3D`,{symbol:r})};L=x?R.Z.fromTextSymbol(r):D.Z.fromTextSymbol(r)}return B&&L&&"cim"!==L.type&&(L.id=r.id),N&&(0,m.dU)(L)&&L.symbolLayers.forEach(A=>A.ignoreDrivers=!0),{symbol:L}}},76945:(T,h,e)=>{e.r(h),e.d(h,{fetchSymbolFromStyle:()=>S,getStyleItemFromStyle:()=>s,resolveWebStyleSymbol:()=>Z});var m=e(71950),d=e(70751),f=e(57964),y=e(6785),b=e(61018),i=e(19677),_=e(15532),o=e(97888),l=e(18007),D=e(16497);function Z(t,a,E,M){const P=t.name;return null==P?Promise.reject(new f.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):t.styleName&&"Esri2DPointSymbolsStyle"===t.styleName?function C(t,a,E){const M=l.wm.replaceAll(/\{SymbolName\}/gi,t),P=null!=a.portal?a.portal:b.Z.getDefault();return(0,l.EJ)(M,E).then(I=>{const j=(0,l.KV)(I.data);return(0,_.im)(j,{portal:P,url:(0,y.mN)((0,y.Yd)(M)),origin:"portal-item"})})}(P,a,M):(0,l.n2)(t,a,M).then(I=>S(I,P,a,E,l.v9,M))}function s(t,a){return a.items.find(E=>E.name===t)}function S(t,a,E,M,P,I){const j=null!=E?.portal?E.portal:b.Z.getDefault(),n={portal:j,url:(0,y.mN)(t.baseUrl),origin:"portal-item"},c=s(a,t.data);if(!c)return Promise.reject(new f.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${a}' could not be found`,{symbolName:a}));let u=(0,i.f)(P(c,M),n),p=c.thumbnail?.href??null;const U=c.thumbnail?.imageData;(0,d.XO)()&&(u=(0,d.pJ)(u)??"",p=(0,d.pJ)(p));const g={portal:j,url:(0,y.mN)((0,y.Yd)(u)),origin:"portal-item"};return(0,l.EJ)(u,I).then(O=>{const R="cimRef"===M?(0,l.KV)(O.data):O.data,v=(0,_.im)(R,g);if(v&&(0,m.dU)(v)){if(p){const K=(0,i.f)(p,n);v.thumbnail=new D.p({url:K})}else U&&(v.thumbnail=new D.p({url:`data:image/png;base64,${U}`}));t.styleUrl?v.styleOrigin=new o.Z({portal:E.portal,styleUrl:t.styleUrl,name:a}):t.styleName&&(v.styleOrigin=new o.Z({portal:E.portal,styleName:t.styleName,name:a}))}return v})}}}]);