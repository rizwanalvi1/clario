"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[638,7157],{70794:(ie,K,e)=>{e.d(K,{EX:()=>L,Y3:()=>Q,_Y:()=>G,jQ:()=>z,sJ:()=>F,xr:()=>h});var o=e(66599);function z(s){return"r"in s&&"g"in s&&"b"in s}function p(s){return"h"in s&&"s"in s&&"v"in s}function T(s){return"l"in s&&"a"in s&&"b"in s}function b(s){return"l"in s&&"c"in s&&"h"in s}e(5710),e(23515);const y=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],E=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function I(s,g){const O=[];let R,B;if(s[0].length!==g.length)throw new Error("dimensions do not match");const H=s.length,V=s[0].length;let te=0;for(R=0;R<H;R++){for(te=0,B=0;B<V;B++)te+=s[R][B]*g[B];O.push(te)}return O}function P(s){const g=[s.r/255,s.g/255,s.b/255].map(R=>R<=.04045?R/12.92:((R+.055)/1.055)**2.4),O=I(y,g);return{x:100*O[0],y:100*O[1],z:100*O[2]}}function W(s){const g=I(E,[s.x/100,s.y/100,s.z/100]).map(O=>Math.min(1,Math.max(O<=.0031308?12.92*O:1.055*O**.4166666666666667-.055,0)));return{r:Math.round(255*g[0]),g:Math.round(255*g[1]),b:Math.round(255*g[2])}}function J(s){const g=[s.x/95.047,s.y/100,s.z/108.883].map(O=>O>.008856451679035631?O**.3333333333333333:7.787037037037035*O+.13793103448275862);return{l:116*g[1]-16,a:500*(g[0]-g[1]),b:200*(g[1]-g[2])}}function Z(s){const g=s.l,O=[(g+16)/116+s.a/500,(g+16)/116,(g+16)/116-s.b/200].map(R=>R>6/29?R**3:3*(6/29)**2*(R-4/29));return{x:95.047*O[0],y:100*O[1],z:108.883*O[2]}}function h(s){return z(s)?s:b(s)?function oe(s){return W(Z(function ee(s){const O=s.c,R=s.h;return{l:s.l,a:O*Math.cos(R),b:O*Math.sin(R)}}(s)))}(s):T(s)?function $(s){return W(Z(s))}(s):function x(s){return"x"in s&&"y"in s&&"z"in s}(s)?W(s):p(s)?function X(s){const g=(s.h+360)%360/60,R=s.v/100*255,B=R*(s.s/100),H=B*(1-Math.abs(g%2-1));let V;switch(Math.floor(g)){case 0:V={r:B,g:H,b:0};break;case 1:V={r:H,g:B,b:0};break;case 2:V={r:0,g:B,b:H};break;case 3:V={r:0,g:H,b:B};break;case 4:V={r:H,g:0,b:B};break;case 5:case 6:V={r:B,g:0,b:H};break;default:V={r:0,g:0,b:0}}return V.r=Math.round(V.r+R-B),V.g=Math.round(V.g+R-B),V.b=Math.round(V.b+R-B),V}(s):s}function G(s){return p(s)?s:function C(s){const g=s.r,O=s.g,R=s.b,B=Math.max(g,O,R),H=B-Math.min(g,O,R);let V=B,te=0===H?0:B===g?(O-R)/H%6:B===O?(R-g)/H+2:(g-O)/H+4,i=0===H?0:H/V;return te<0&&(te+=6),te*=60,i*=100,V*=100/255,{h:te,s:i,v:V}}(h(s))}function Q(s){return T(s)?s:function Y(s){return J(P(s))}(h(s))}function F(s){return b(s)?s:function re(s){return function q(s){const g=s.l,O=s.a,R=s.b,B=Math.sqrt(O*O+R*R);let H=Math.atan2(R,O);return H=H>0?H:H+2*Math.PI,{l:g,c:B,h:H}}(J(P(s)))}(h(s))}function L(s,g){const{r:O,g:R,b:B}=g?.ignoreAlpha?s:function D(s){let{r:g,g:O,b:R,a:B}=s;return B<1&&(g=Math.round(B*g+255*(1-B)),O=Math.round(B*O+255*(1-B)),R=Math.round(B*R+255*(1-B))),new o.Z({r:g,g:O,b:R})}(s);return.2126*O+.7152*R+.0722*B}var w,s;(s=w||(w={}))[s.Low=160]="Low",s[s.High=225]="High"},36699:(ie,K,e)=>{e.d(K,{Z:()=>N});var oe,o=e(15861),l=e(50484),j=e(71950),z=e(84303),p=e(34222),T=e(4703),b=e(80543),x=e(73018),y=e(21070),E=e(62185),I=e(10141),P=e(7547),W=e(1535),J=e(85295),Z=e(38748),q=e(60996),ee=e(87617),Y=e(47702),$=e(37764),re=e(4978);const X="percent-of-total",h="field",G=new z.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:X,esriNormalizeByField:h}),Q=(0,W.se)(ee.Z);let F=oe=class extends((0,q.W)(Z.Z)){constructor(D){super(D),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(D,L,w){if(!Array.isArray(D))return;let M=L.minValue;return D.map(a=>{const d=new ee.Z;return d.read(a,w),null==d.minValue&&(d.minValue=M),null==d.maxValue&&(d.maxValue=d.minValue),M=d.maxValue,d})}writeClassBreakInfos(D,L,w,M){const a=D.map(d=>d.write({},M));this._areClassBreaksConsecutive()&&a.forEach(d=>delete d.classMinValue),L[w]=a}castField(D){return null==D?D:"function"==typeof D?(T.Z.getLogger(this).error(".field: field must be a string value"),null):(0,W.Zs)(D)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let D=this._get("normalizationType");const L=!!this.normalizationField,w=null!=this.normalizationTotal;return L||w?(D=L&&h||w&&X||null,L&&w&&T.Z.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):D!==h&&D!==X||(D=null),D}set normalizationType(D){this._set("normalizationType",D)}addClassBreakInfo(D,L,w){let M=null;M="number"==typeof D?new ee.Z({minValue:D,maxValue:L,symbol:(0,j.se)(w)}):Q((0,p.d9)(D)),this.classBreakInfos.push(M),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(D,L){const w=this.classBreakInfos.length;for(let M=0;M<w;M++){const a=[this.classBreakInfos[M].minValue,this.classBreakInfos[M].maxValue];if(a[0]===D&&a[1]===L){this.classBreakInfos.splice(M,1);break}}}getBreakIndex(D,L){return this.valueExpression&&null==L?.arcade&&T.Z.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(D,L):this._getBreakIndexForField(D)}getClassBreakInfo(D,L){var w=this;return(0,o.Z)(function*(){let M=L;w.valueExpression&&null==L?.arcade&&(M={...M,arcade:yield(0,re.LC)()});const a=w.getBreakIndex(D,M);return-1!==a?w.classBreakInfos[a]:null})()}getSymbol(D,L){if(this.valueExpression&&null==L?.arcade)return void T.Z.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const w=this.getBreakIndex(D,L);return w>-1?this.classBreakInfos[w].symbol:this.defaultSymbol}getSymbolAsync(D,L){var w=this;return(0,o.Z)(function*(){let M=L;if(w.valueExpression&&null==L?.arcade){const d=yield(0,re.LC)(),{arcadeUtils:f}=d;f.hasGeometryOperations(w.valueExpression)&&(yield f.enableGeometryOperations()),M={...M,arcade:d}}const a=w.getBreakIndex(D,M);return a>-1?w.classBreakInfos[a].symbol:w.defaultSymbol})()}getSymbols(){const D=[];return this.classBreakInfos.forEach(L=>{L.symbol&&D.push(L.symbol)}),this.defaultSymbol&&D.push(this.defaultSymbol),D}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((D,L)=>D+L.getAttributeHash(),"")}getMeshHash(){const D=JSON.stringify(this.backgroundFillSymbol),L=JSON.stringify(this.defaultSymbol),w=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${D}.${L}.${this.classBreakInfos.reduce((M,a)=>M+a.getMeshHash(),"")}.${w}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new oe({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,p.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,p.d9)(this.visualVariables),legendOptions:(0,p.d9)(this.legendOptions),authoringInfo:(0,p.d9)(this.authoringInfo)})}collectRequiredFields(D,L){var w=this;return(0,o.Z)(function*(){const M=[w.collectVVRequiredFields(D,L),w.collectSymbolFields(D,L)];yield Promise.all(M)})()}collectSymbolFields(D,L){var w=this;return(0,o.Z)(function*(){const M=[...w.getSymbols().map(a=>a.collectRequiredFields(D,L)),(0,J.io)(D,L,w.valueExpression)];(0,J.AB)(D,L,w.field),(0,J.AB)(D,L,w.normalizationField),yield Promise.all(M)})()}_getBreakIndexForExpression(D,L){const{viewingMode:w,scale:M,spatialReference:a,arcade:d,timeZone:f}=L??{},{valueExpression:c}=this;let m=this._compiledValueExpression.valueExpression===c?this._compiledValueExpression.compiledFunction:null;const v=d.arcadeUtils;if(!m){const U=v.createSyntaxTree(c);m=v.createFunction(U),this._compiledValueExpression.compiledFunction=m}this._compiledValueExpression.valueExpression=c;const u=v.executeFunction(m,v.createExecContext(D,v.getViewInfo({viewingMode:w,scale:M,spatialReference:a}),f));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(D){const w=D.attributes,M=this.normalizationType;let a=parseFloat(w[this.field]);if(M){const d=this.normalizationTotal,f=parseFloat(this.normalizationField?w[this.normalizationField]:void 0);if("log"===M)a=Math.log(a)*Math.LOG10E;else if(M!==X||null==d||isNaN(d)){if(M===h&&!isNaN(f)){if(isNaN(a)||isNaN(f))return-1;a/=f}}else a=a/d*100}return this._getBreakIndexfromInfos(a)}_getBreakIndexfromInfos(D){const L=this.isMaxInclusive;if(null!=D&&"number"==typeof D&&!isNaN(D))for(let w=0;w<this.classBreakInfos.length;w++){const M=[this.classBreakInfos[w].minValue,this.classBreakInfos[w].maxValue];if(M[0]<=D&&(L?D<=M[1]:D<M[1]))return w}return-1}_areClassBreaksConsecutive(){const D=this.classBreakInfos,L=D.length;for(let w=1;w<L;w++)if(D[w-1].maxValue!==D[w].minValue)return!1;return!0}};(0,l._)([(0,b.Cb)(Y.KK)],F.prototype,"backgroundFillSymbol",void 0),(0,l._)([(0,b.Cb)({type:[ee.Z]})],F.prototype,"classBreakInfos",void 0),(0,l._)([(0,E.r)("classBreakInfos")],F.prototype,"readClassBreakInfos",null),(0,l._)([(0,P.c)("classBreakInfos")],F.prototype,"writeClassBreakInfos",null),(0,l._)([(0,b.Cb)({type:String,json:{write:!0}})],F.prototype,"defaultLabel",void 0),(0,l._)([(0,b.Cb)(Y.Gn)],F.prototype,"defaultSymbol",void 0),(0,l._)([(0,b.Cb)({type:String,json:{write:!0}})],F.prototype,"field",void 0),(0,l._)([(0,x.p)("field")],F.prototype,"castField",null),(0,l._)([(0,b.Cb)({type:Boolean})],F.prototype,"isMaxInclusive",void 0),(0,l._)([(0,b.Cb)({type:$.I,json:{write:!0}})],F.prototype,"legendOptions",void 0),(0,l._)([(0,b.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],F.prototype,"minValue",null),(0,l._)([(0,b.Cb)({type:String,json:{write:!0}})],F.prototype,"normalizationField",void 0),(0,l._)([(0,b.Cb)({type:Number,cast:D=>(0,W.q9)(D),json:{write:!0}})],F.prototype,"normalizationTotal",void 0),(0,l._)([(0,b.Cb)({type:G.apiValues,value:null,json:{type:G.jsonValues,read:G.read,write:G.write}})],F.prototype,"normalizationType",null),(0,l._)([(0,y.J)({classBreaks:"class-breaks"})],F.prototype,"type",void 0),(0,l._)([(0,b.Cb)({type:String,json:{write:!0}})],F.prototype,"valueExpression",void 0),(0,l._)([(0,b.Cb)({type:String,json:{write:!0}})],F.prototype,"valueExpressionTitle",void 0),F=oe=(0,l._)([(0,I.j)("esri.renderers.ClassBreaksRenderer")],F);const N=F},38748:(ie,K,e)=>{e.d(K,{Z:()=>W});var o=e(15861),l=e(50484),j=e(84303),z=e(89317),p=e(80543),y=(e(14007),e(4703),e(65311),e(10141)),E=e(38829);const I=new j.X({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let P=class extends z.wq{constructor(J){super(J),this.authoringInfo=null,this.type=null}getRequiredFields(J){var Z=this;return(0,o.Z)(function*(){if(!Z.collectRequiredFields)return[];const q=new Set;return yield Z.collectRequiredFields(q,J),Array.from(q).sort()})()}getSymbol(J,Z){}getSymbolAsync(J,Z){return(0,o.Z)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,l._)([(0,p.Cb)({type:E.Z,json:{write:!0}})],P.prototype,"authoringInfo",void 0),(0,l._)([(0,p.Cb)({type:I.apiValues,readOnly:!0,json:{type:I.jsonValues,read:!1,write:{writer:I.write,ignoreOrigin:!0}}})],P.prototype,"type",void 0),P=(0,l._)([(0,y.j)("esri.renderers.Renderer")],P);const W=P},42212:(ie,K,e)=>{e.d(K,{Z:()=>te});var o=e(15861),l=e(50484),j=e(71950),z=e(57964),p=e(34222),T=e(4703),b=e(71763),x=e(77675),y=e(80543),E=e(73018),I=e(21070),P=e(62185),W=e(10141),J=e(7547),Z=e(657),q=e(1535),ee=e(85295),Y=e(61018),$=e(38748),re=e(60996),oe=e(47702),C=e(37764),X=e(25387),h=e(89317);e(14007),e(65311);let F=class extends((0,X.J)(h.wq)){constructor(i){super(i),this.value=null,this.value2=null,this.value3=null}};(0,l._)([(0,y.Cb)(oe.GY)],F.prototype,"value",void 0),(0,l._)([(0,y.Cb)(oe.GY)],F.prototype,"value2",void 0),(0,l._)([(0,y.Cb)(oe.GY)],F.prototype,"value3",void 0),F=(0,l._)([(0,W.j)("esri.renderers.support.UniqueValue")],F);const N=F;var D=e(57678);let L=class extends((0,X.J)(h.wq)){constructor(i){super(i),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(i){if(null==i)return null;const _=typeof(i=Array.isArray(i)?i:[i])[0];return"string"===_||"number"===_?i.map(S=>new N({value:S})):"object"===_?i[0]instanceof N?i:i.map(S=>new N(S)):null}};(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],L.prototype,"description",void 0),(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],L.prototype,"label",void 0),(0,l._)([(0,y.Cb)(oe.Gn)],L.prototype,"symbol",void 0),(0,l._)([(0,y.Cb)({type:[N],json:{type:[[String]],read:{reader:i=>i?i.map(_=>new N({value:_[0],value2:_[1],value3:_[2]})):null},write:{writer:(i,_)=>{const S=[];for(const A of i){const k=[A.value,A.value2,A.value3].filter(D.pC).map(se=>se.toString());S.push(k)}_.values=S}}}})],L.prototype,"values",void 0),(0,l._)([(0,E.p)("values")],L.prototype,"castValues",null),L=(0,l._)([(0,W.j)("esri.renderers.support.UniqueValueClass")],L);const w=L;let M=class extends((0,X.J)(h.wq)){constructor(i){super(i),this.heading=null,this.classes=null}};(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],M.prototype,"heading",void 0),(0,l._)([(0,y.Cb)({type:[w],json:{write:!0}})],M.prototype,"classes",void 0),M=(0,l._)([(0,W.j)("esri.renderers.support.UniqueValueGroup")],M);const a=M;var u,d=e(24147),f=e(4978),c=e(19677),m=e(18007),v=e(80121);const U="esri.renderers.UniqueValueRenderer",s=()=>T.Z.getLogger(U),g="uvInfos-watcher",O="uvGroups-watcher",B=(0,q.se)(d.Z);let V=u=class extends((0,re.W)($.Z)){constructor(i){super(i),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(_,S){if(!_&&!S)return;if(!_||!S)return{type:"complete",oldValue:_,newValue:S};let A=!1;const k={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let se=0;se<S.length;se++){const le=_.find(ne=>ne.value===S[se].value);le?(0,Z.Hg)(le,S[se])?(k.changed.push({type:"complete",oldValue:le,newValue:S[se]}),A=!0):k.unchanged.push({oldValue:le,newValue:S[se]}):(k.added.push(S[se]),A=!0)}for(let se=0;se<_.length;se++)S.find(le=>le.value===_[se].value)||(k.removed.push(_[se]),A=!0);return A?k:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(i){this._set("field",i),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(i){return null==i||"function"==typeof i?i:(0,q.Zs)(i)}writeField(i,_,S,A){"string"==typeof i?_[S]=i:A?.messages?A.messages.push(new z.Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):s().error(".field: cannot write field to JSON since it's not a string value")}set field2(i){this._set("field2",i),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(i){this._set("field3",i),this._updateUniqueValues()}set valueExpression(i){this._set("valueExpression",i),this._updateUniqueValues()}set defaultSymbol(i){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",i)}set fieldDelimiter(i){this._set("fieldDelimiter",i),this._updateUniqueValues()}readPortal(i,_,S){return S.portal||Y.Z.getDefault()}readStyleOrigin(i,_,S){if(_.styleName)return Object.freeze({styleName:_.styleName});if(_.styleUrl){const A=(0,c.f)(_.styleUrl,S);return Object.freeze({styleUrl:A})}}writeStyleOrigin(i,_,S,A){i.styleName?_.styleName=i.styleName:i.styleUrl&&(_.styleUrl=(0,c.t)(i.styleUrl,A))}set uniqueValueGroups(i){this.styleOrigin?s().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",i),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(i){this.styleOrigin?s().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",i),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(i,_){if(this.styleOrigin)return void s().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let S;S="object"==typeof i?B(i):new d.Z({value:i,symbol:(0,j.se)(_)}),this.uniqueValueInfos?.push(S),this._valueInfoMap[S.value]=S,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(i){if(this.styleOrigin)return void s().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const _=this.uniqueValueInfos;if(_)for(let S=0;S<_.length;S++)if(String(_[S].value)===String(i)){delete this._valueInfoMap[i],_.splice(S,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(i,_){var S=this;return(0,o.Z)(function*(){let A=_;return S.valueExpression&&null==_?.arcade&&(A={...A,arcade:yield(0,f.LC)()}),S._getUniqueValueInfo(i,A)})()}getSymbol(i,_){return this.valueExpression&&null==_?.arcade?void s().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(i,_)?.symbol||this.defaultSymbol}getSymbolAsync(i,_){var S=this;return(0,o.Z)(function*(){let A=_;if(S.valueExpression&&null==A?.arcade){const se=yield(0,f.LC)(),{arcadeUtils:le}=se;le.hasGeometryOperations(S.valueExpression)&&(yield le.enableGeometryOperations()),A={...A,arcade:se}}return S._getUniqueValueInfo(i,A)?.symbol||S.defaultSymbol})()}getSymbols(){const i=[];for(const _ of this.uniqueValueInfos??[])_.symbol&&i.push(_.symbol);return this.defaultSymbol&&i.push(this.defaultSymbol),i}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((i,_)=>i+_.getAttributeHash(),"")}getMeshHash(){const i=JSON.stringify(this.backgroundFillSymbol),_=JSON.stringify(this.defaultSymbol),S=this.uniqueValueInfos?.reduce((A,k)=>A+k.getMeshHash(),"");return`${i}.${_}.${S}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const i=new u({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,p.d9)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,p.d9)(this.visualVariables),legendOptions:(0,p.d9)(this.legendOptions),authoringInfo:(0,p.d9)(this.authoringInfo),backgroundFillSymbol:(0,p.d9)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(i._isDefaultSymbolDerived=!0),i._set("portal",this.portal);const _=(0,p.d9)(this.uniqueValueInfos),S=(0,p.d9)(this.uniqueValueGroups);return this.styleOrigin&&(i._set("styleOrigin",Object.freeze((0,p.d9)(this.styleOrigin))),Object.freeze(_),Object.freeze(S)),i._set("uniqueValueInfos",_),i._updateValueInfoMap(),i._set("uniqueValueGroups",S),i._isInfosSource=this._isInfosSource,i._watchUniqueValueInfosAndGroups(),i}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(i,_){var S=this;return(0,o.Z)(function*(){const A=[S.collectVVRequiredFields(i,_),S.collectSymbolFields(i,_)];yield Promise.all(A)})()}collectSymbolFields(i,_){var S=this;return(0,o.Z)(function*(){const A=[...S.getSymbols().map(k=>k.collectRequiredFields(i,_)),(0,ee.io)(i,_,S.valueExpression)];(0,ee.AB)(i,_,S.field),(0,ee.AB)(i,_,S.field2),(0,ee.AB)(i,_,S.field3),yield Promise.all(A)})()}populateFromStyle(){return(0,m.n2)(this.styleOrigin,{portal:this.portal}).then(i=>{const _=[];return this._valueInfoMap={},i?.data&&Array.isArray(i.data.items)&&i.data.items.forEach(S=>{const A=new v.Z({styleUrl:i.styleUrl,styleName:i.styleName,portal:this.portal,name:S.name});this.defaultSymbol||S.name!==i.data.defaultItem||(this.defaultSymbol=A,this._isDefaultSymbolDerived=!0);const k=new d.Z({value:S.name,symbol:A});_.push(k),this._valueInfoMap[S.name]=k}),this._set("uniqueValueInfos",Object.freeze(_)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:i}=this;if(i)for(const _ of i)this._valueInfoMap[_.value+""]=_}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(g);const{uniqueValueInfos:i}=this;if(i){const _=[];for(const S of i)_.push((0,x.YP)(()=>({symbol:S.symbol,value:S.value,label:S.label,description:S.description}),(A,k)=>{A!==k&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(_,g)}}_watchUniqueValueGroups(){this.removeHandles(O);const{uniqueValueGroups:i}=this;if(i){const _=[];for(const S of i){_.push((0,x.YP)(()=>({classes:S.classes}),(A,k)=>{A!==k&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const A of S.classes??[])_.push((0,x.YP)(()=>({symbol:A.symbol,values:A.values,label:A.label,description:A.description}),(k,se)=>{k!==se&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(_,O)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const i=[],{field:_,field2:S,field3:A,fieldDelimiter:k,uniqueValueGroups:se,valueExpression:le}=this;if(!_&&!le)return this._set("uniqueValueInfos",i),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const ne=!(!_||!S);for(const ae of se)for(const pe of ae.classes??[]){const{symbol:ce,label:de,values:he,description:_e}=pe;for(const ye of he??[]){const{value:me,value2:ue,value3:fe}=ye,ve=[me];S&&ve.push(ue),A&&ve.push(fe);const be=ne?ve.join(k||""):ve[0]??void 0;i.push(new d.Z({symbol:ce,label:de,value:be,description:_e}))}}this._set("uniqueValueInfos",i),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(i=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:_,field2:S,valueExpression:A,fieldDelimiter:k,uniqueValueInfos:se}=this;if(!_&&!A||!se.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const le=!(!_||!S),ne=se.map(pe=>{const{symbol:ce,label:de,value:he,description:_e}=pe,[ye,me,ue]=le?he?.toString()?.split(k||"")||[]:[he];return new w({symbol:ce,label:de,description:_e,values:[new N({value:ye,value2:me,value3:ue})]})}),ae=[new a({classes:ne})];i&&Object.freeze(ae),this._set("uniqueValueGroups",ae),this._watchUniqueValueGroups()}_getUniqueValueInfo(i,_){return this.valueExpression?this._getUnqiueValueInfoForExpression(i,_):this._getUnqiueValueInfoForFields(i)}_getUnqiueValueInfoForExpression(i,_){const{viewingMode:S,scale:A,spatialReference:k,arcade:se,timeZone:le}=_??{};let ne=this._cache.compiledFunc;const ae=se.arcadeUtils;if(!ne){const ce=ae.createSyntaxTree(this.valueExpression);ne=ae.createFunction(ce),this._cache.compiledFunc=ne}const pe=ae.executeFunction(ne,ae.createExecContext(i,ae.getViewInfo({viewingMode:S,scale:A,spatialReference:k}),le));return this._valueInfoMap[pe+""]}_getUnqiueValueInfoForFields(i){const _=this.field,S=i.attributes;let A;if(this.field2){const k=this.field2,se=this.field3,le=[];_&&le.push(S[_]),k&&le.push(S[k]),se&&le.push(S[se]),A=le.join(this.fieldDelimiter||"")}else _&&(A=S[_]);return this._valueInfoMap[A+""]}static fromPortalStyle(i,_){const S=new u(_?.properties);S._set("styleOrigin",Object.freeze({styleName:i})),S._set("portal",_?.portal||Y.Z.getDefault());const A=S.populateFromStyle();return A.catch(k=>{s().error(`#fromPortalStyle('${i}'[, ...])`,"Failed to create unique value renderer from style name",k)}),A}static fromStyleUrl(i,_){const S=new u(_?.properties);S._set("styleOrigin",Object.freeze({styleUrl:i}));const A=S.populateFromStyle();return A.catch(k=>{s().error(`#fromStyleUrl('${i}'[, ...])`,"Failed to create unique value renderer from style URL",k)}),A}};(0,l._)([(0,y.Cb)({readOnly:!0})],V.prototype,"_cache",null),(0,l._)([(0,I.J)({uniqueValue:"unique-value"})],V.prototype,"type",void 0),(0,l._)([(0,y.Cb)(oe.KK)],V.prototype,"backgroundFillSymbol",void 0),(0,l._)([(0,y.Cb)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],V.prototype,"field",null),(0,l._)([(0,E.p)("field")],V.prototype,"castField",null),(0,l._)([(0,J.c)("field")],V.prototype,"writeField",null),(0,l._)([(0,y.Cb)({type:String,value:null,json:{write:!0}})],V.prototype,"field2",null),(0,l._)([(0,y.Cb)({type:String,value:null,json:{write:!0}})],V.prototype,"field3",null),(0,l._)([(0,y.Cb)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],V.prototype,"orderByClassesEnabled",void 0),(0,l._)([(0,y.Cb)({type:String,value:null,json:{write:!0}})],V.prototype,"valueExpression",null),(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0),(0,l._)([(0,y.Cb)({type:C.I,json:{write:!0}})],V.prototype,"legendOptions",void 0),(0,l._)([(0,y.Cb)({type:String,json:{write:!0}})],V.prototype,"defaultLabel",void 0),(0,l._)([(0,y.Cb)((0,b.RH)({...oe.Gn},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],V.prototype,"defaultSymbol",null),(0,l._)([(0,y.Cb)({type:String,value:null,json:{write:!0}})],V.prototype,"fieldDelimiter",null),(0,l._)([(0,y.Cb)({type:Y.Z,readOnly:!0})],V.prototype,"portal",void 0),(0,l._)([(0,P.r)("portal",["styleName"])],V.prototype,"readPortal",null),(0,l._)([(0,y.Cb)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],V.prototype,"styleOrigin",void 0),(0,l._)([(0,P.r)("styleOrigin",["styleName","styleUrl"])],V.prototype,"readStyleOrigin",null),(0,l._)([(0,J.c)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],V.prototype,"writeStyleOrigin",null),(0,l._)([(0,y.Cb)({type:[a],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(i,_,S)=>(_.uniqueValueGroups||function H(i){const{field1:_,field2:S,field3:A,fieldDelimiter:k,uniqueValueInfos:se,valueExpression:le}=i,ne=!(!_||!S);return[{classes:(se??[]).map(ae=>{const{symbol:pe,label:ce,value:de,description:he}=ae,[_e,ye,me]=ne?de?.toString()?.split(k||"")||[]:[de],ue=[];return(_||le)&&ue.push(_e),S&&ue.push(ye),A&&ue.push(me),{symbol:pe,label:ce,values:[ue],description:he}})}]}(_)).map(A=>a.fromJSON(A,S))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],V.prototype,"uniqueValueGroups",null),(0,l._)([(0,y.Cb)({type:[d.Z],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],V.prototype,"uniqueValueInfos",null),V=u=(0,l._)([(0,W.j)(U)],V);const te=V},60996:(ie,K,e)=>{e.d(K,{W:()=>f});var o=e(15861),l=e(50484),j=e(80543),p=(e(14007),e(4703)),b=(e(65311),e(62185)),x=e(10141),y=e(7547),E=e(85295);const P=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var Y,W=e(85253),J=e(64234),Z=e(89317),q=e(1535),ee=e(39437);let $=Y=class extends Z.wq{constructor(m){super(m),this.label=null,this.opacity=null,this.value=null}readOpacity(m,v){return(0,ee.b)(v.transparency)}writeOpacity(m,v,u){v[u]=(0,ee.a)(m)}clone(){return new Y({label:this.label,opacity:this.opacity,value:this.value})}};(0,l._)([(0,j.Cb)({type:String,json:{write:!0}})],$.prototype,"label",void 0),(0,l._)([(0,j.Cb)({type:Number,json:{type:q.z8,write:{target:"transparency"}}})],$.prototype,"opacity",void 0),(0,l._)([(0,b.r)("opacity",["transparency"])],$.prototype,"readOpacity",null),(0,l._)([(0,y.c)("opacity")],$.prototype,"writeOpacity",null),(0,l._)([(0,j.Cb)({type:Number,json:{write:!0}})],$.prototype,"value",void 0),$=Y=(0,l._)([(0,x.j)("esri.renderers.visualVariables.support.OpacityStop")],$);const re=$;var oe;let C=oe=class extends J.Z{constructor(m){super(m),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(m){m&&Array.isArray(m)&&(m=m.filter(v=>!!v)).sort((v,u)=>v.value-u.value),this._set("stops",m)}clone(){return new oe({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(m=>m.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(m=>m.value||0)}};(0,l._)([(0,j.Cb)({readOnly:!0})],C.prototype,"cache",null),(0,l._)([(0,j.Cb)({type:["opacity"],json:{type:["transparencyInfo"]}})],C.prototype,"type",void 0),(0,l._)([(0,j.Cb)({type:String,json:{write:!0}})],C.prototype,"normalizationField",void 0),(0,l._)([(0,j.Cb)({type:[re],json:{write:!0}})],C.prototype,"stops",null),C=oe=(0,l._)([(0,x.j)("esri.renderers.visualVariables.OpacityVariable")],C);const X=C;var h=e(15242),G=e(58232),Q=e(73514),F=e(84303),N=e(23206);const D={color:W.Z,size:G.Z,opacity:X,rotation:h.Z},L=new F.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),w=/^\[([^\]]+)\]$/i;let M=class extends Q.Z{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(m){if(this._resetVariables(),m=m&&m.filter(v=>!!v),m?.length){for(const v of m)switch(v.type){case"color":this.colorVariables.push(v);break;case"opacity":this.opacityVariables.push(v);break;case"rotation":this.rotationVariables.push(v);break;case"size":this.sizeVariables.push(v)}this.sizeVariables.length&&this.sizeVariables.some(v=>!!v.target)&&m.sort((v,u)=>{let U=null;return U=v.target===u.target?0:v.target?1:-1,U});for(let v=0;v<m.length;v++)m[v].index=v;this._set("visualVariables",m)}else this._set("visualVariables",m)}readVariables(m,v,u){const{rotationExpression:U,rotationType:s}=v,g=U?.match(w),O=g?.[1];if(O&&(m||(m=[]),m.push({type:"rotationInfo",rotationType:s,field:O})),m)return m.map(R=>{const B=L.read(R.type),H=D[B];H||(p.Z.getLogger(this).warn(`Unknown variable type: ${B}`),u?.messages&&u.messages.push(new N.Z("visual-variable:unsupported",`visualVariable of type '${B}' is not supported`,{definition:R,context:u})));const V=new H;return V.read(R,u),V})}writeVariables(m,v){const u=[];for(const U of m){const s=U.toJSON(v);s&&u.push(s)}return u}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,l._)([(0,j.Cb)()],M.prototype,"visualVariables",null),M=(0,l._)([(0,x.j)("esri.renderers.visualVariables.VisualVariableFactory")],M);const a=M,d={base:J.Z,key:"type",typeMap:{opacity:X,color:W.Z,rotation:h.Z,size:G.Z}},f=m=>{let v=class extends m{constructor(){super(...arguments),this._vvFactory=new a}set visualVariables(u){this._vvFactory.visualVariables=u,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(u,U,s){return this._vvFactory.readVariables(u,U,s)}writeVisualVariables(u,U,s,g){U[s]=this._vvFactory.writeVariables(u,g)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const u of this.visualVariables)if(u.arcadeRequired)return!0;return!1}hasVisualVariables(u,U){return u?this.getVisualVariablesForType(u,U).length>0:this.getVisualVariablesForType("size",U).length>0||this.getVisualVariablesForType("color",U).length>0||this.getVisualVariablesForType("opacity",U).length>0||this.getVisualVariablesForType("rotation",U).length>0}getVisualVariablesForType(u,U){const s=this.visualVariables;return s?s.filter(g=>g.type===u&&("string"==typeof U?g.target===U:!1!==U||!g.target)):[]}collectVVRequiredFields(u,U){var s=this;return(0,o.Z)(function*(){let g=[];s.visualVariables&&(g=g.concat(s.visualVariables));for(const O of g)O&&(O.field&&(0,E.AB)(u,U,O.field),O.normalizationField&&(0,E.AB)(u,U,O.normalizationField),O.valueExpression&&(c(O.valueExpression,u,U)||(yield(0,E.io)(u,U,O.valueExpression))))})()}};return(0,l._)([(0,j.Cb)({types:[d],value:null,json:{write:!0}})],v.prototype,"visualVariables",null),(0,l._)([(0,b.r)("visualVariables",["visualVariables","rotationType","rotationExpression"])],v.prototype,"readVisualVariables",null),(0,l._)([(0,y.c)("visualVariables")],v.prototype,"writeVisualVariables",null),v=(0,l._)([(0,x.j)("esri.renderers.mixins.VisualVariablesMixin")],v),v};function c(m,v,u){const U=function I(m){return m.match(P)?.[1]?.replace(/\\'/g,"'")??null}(m);return null!=U&&((0,E.AB)(v,u,U),!0)}},38829:(ie,K,e)=>{e.d(K,{Z:()=>U});var P,o=e(50484),l=e(84303),j=e(89317),z=e(34222),p=e(80543),T=e(1535),b=e(62185),x=e(10141);e(14007),e(4703),e(65311);let W=P=class extends j.wq{constructor(s){super(s),this.minValue=0,this.maxValue=0}clone(){return new P({minValue:this.minValue,maxValue:this.maxValue})}};var J;(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],W.prototype,"minValue",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],W.prototype,"maxValue",void 0),W=P=(0,o._)([(0,x.j)("esri.renderers.support.AuthoringInfoClassBreakInfo")],W);let Z=J=class extends j.wq{constructor(s){super(s),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new J({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,z.d9)(this.classBreakInfos)})}};(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],Z.prototype,"field",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],Z.prototype,"normalizationField",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,o._)([(0,p.Cb)({type:[W],json:{write:!0}})],Z.prototype,"classBreakInfos",void 0),Z=J=(0,o._)([(0,x.j)("esri.renderers.support.AuthoringInfoFieldInfo")],Z);var ee,q=e(73018);let Y=ee=class extends j.wq{constructor(s){super(s),this.label=null,this.size=null,this.value=null}clone(){return new ee({label:this.label,value:this.value,size:this.size})}};(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],Y.prototype,"size",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],Y.prototype,"value",void 0),Y=ee=(0,o._)([(0,x.j)("esri.renderers.support.AuthoringInfoSizeStop")],Y);const $=Y;var re;const oe=new l.X({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),C=new l.X({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),X={key:s=>"number"==typeof s?"number":"string",typeMap:{number:Number,string:String},base:null},h=["high-to-low","above-and-below","centered-on","extremes"],G=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],Q=["seconds","minutes","hours","days","months","years"];let N=re=class extends j.wq{constructor(s){super(s),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(s){return"string"==typeof s||"number"==typeof s?s:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(s){this._set("normalizationField",s)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(s){this._set("referenceSizeScale",s)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(s){this._set("referenceSizeSymbolStyle",s)}castStartTime(s){return"string"==typeof s||"number"==typeof s?s:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(s){this._set("sizeStops",s)}get style(){return"color"===this.type?this._get("style"):null}set style(s){this._set("style",s)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(s){this._set("theme",s)}clone(){return new re({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:(0,z.d9)(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,o._)([(0,p.Cb)({types:X,json:{write:!0}})],N.prototype,"endTime",void 0),(0,o._)([(0,q.p)("endTime")],N.prototype,"castEndTime",null),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],N.prototype,"field",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],N.prototype,"maxSliderValue",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0}})],N.prototype,"minSliderValue",void 0),(0,o._)([(0,p.Cb)({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],N.prototype,"normalizationField",null),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],N.prototype,"referenceSizeScale",null),(0,o._)([(0,p.Cb)({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],N.prototype,"referenceSizeSymbolStyle",null),(0,o._)([(0,p.Cb)({types:X,json:{write:!0}})],N.prototype,"startTime",void 0),(0,o._)([(0,q.p)("startTime")],N.prototype,"castStartTime",null),(0,o._)([(0,p.Cb)({type:[$],json:{origins:{"web-scene":{write:!1}},write:!0}})],N.prototype,"sizeStops",null),(0,o._)([(0,p.Cb)({type:oe.apiValues,value:null,json:{type:oe.jsonValues,read:oe.read,write:oe.write}})],N.prototype,"style",null),(0,o._)([(0,p.Cb)({type:G,value:null,json:{type:G,origins:{"web-scene":{type:h,write:{writer:(s,g)=>{h.includes(s)&&(g.theme=s)}}}},write:!0}})],N.prototype,"theme",null),(0,o._)([(0,p.Cb)({type:C.apiValues,json:{type:C.jsonValues,read:C.read,write:C.write}})],N.prototype,"type",void 0),(0,o._)([(0,p.Cb)({type:Q,json:{type:Q,write:!0}})],N.prototype,"units",void 0),N=re=(0,o._)([(0,x.j)("esri.renderers.support.AuthoringInfoVisualVariable")],N);const D=N;var w,L=e(46143);const M=new l.X({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),a=new l.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),d=new l.X({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),f=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let u=w=class extends j.wq{constructor(s){super(s),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const s=this._get("classificationMethod"),g=this.type;return g&&"relationship"!==g?"class-breaks-size"===g||"class-breaks-color"===g?s||"manual":null:s}set classificationMethod(s){this._set("classificationMethod",s)}readColorRamp(s){return s?(0,L.i)(s):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(s){this._set("fields",s)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(s){this._set("field1",s)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(s){this._set("field2",s)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(s){this._set("flowTheme",s)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(s){this._set("focus",s)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(s){this._set("numClasses",s)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(s){this._set("statistics",s)}get standardDeviationInterval(){const s=this.type;return s&&"relationship"!==s&&"class-breaks-size"!==s&&"class-breaks-color"!==s||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(s){this._set("standardDeviationInterval",s)}get type(){return this._get("type")}set type(s){let g=s;"classed-size"===s?g="class-breaks-size":"classed-color"===s&&(g="class-breaks-color"),this._set("type",g)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(s){this._set("univariateSymbolStyle",s)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(s){this._set("univariateTheme",s)}clone(){return new w({classificationMethod:this.classificationMethod,colorRamp:(0,z.d9)(this.colorRamp),fadeRatio:(0,z.d9)(this.fadeRatio),fields:this.fields?.slice(0),field1:(0,z.d9)(this.field1),field2:(0,z.d9)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(s=>s.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,o._)([(0,p.Cb)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write,origins:{"web-document":{default:"manual",type:M.jsonValues,read:M.read,write:M.write}}}})],u.prototype,"classificationMethod",null),(0,o._)([(0,p.Cb)({types:L.V,json:{write:!0}})],u.prototype,"colorRamp",void 0),(0,o._)([(0,b.r)("colorRamp")],u.prototype,"readColorRamp",null),(0,o._)([(0,p.Cb)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],u.prototype,"fadeRatio",void 0),(0,o._)([(0,p.Cb)({type:[String],value:null,json:{write:!0}})],u.prototype,"fields",null),(0,o._)([(0,p.Cb)({type:Z,value:null,json:{write:!0}})],u.prototype,"field1",null),(0,o._)([(0,p.Cb)({type:Z,value:null,json:{write:!0}})],u.prototype,"field2",null),(0,o._)([(0,p.Cb)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"flowTheme",null),(0,o._)([(0,p.Cb)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],u.prototype,"focus",null),(0,o._)([(0,p.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],u.prototype,"isAutoGenerated",void 0),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{type:T.z8,write:!0}})],u.prototype,"numClasses",null),(0,o._)([(0,p.Cb)({type:f,json:{type:f,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],u.prototype,"lengthUnit",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],u.prototype,"maxSliderValue",void 0),(0,o._)([(0,p.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],u.prototype,"minSliderValue",void 0),(0,o._)([(0,p.Cb)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],u.prototype,"statistics",null),(0,o._)([(0,p.Cb)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],u.prototype,"standardDeviationInterval",null),(0,o._)([(0,p.Cb)({type:a.apiValues,value:null,json:{type:a.jsonValues,read:a.read,write:a.write,origins:{"web-scene":{type:d.jsonValues,write:{writer:d.write,overridePolicy:s=>({enabled:"flow"!==s})}}}}})],u.prototype,"type",null),(0,o._)([(0,p.Cb)({type:[D],json:{write:!0}})],u.prototype,"visualVariables",void 0),(0,o._)([(0,p.Cb)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"univariateSymbolStyle",null),(0,o._)([(0,p.Cb)({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],u.prototype,"univariateTheme",null),u=w=(0,o._)([(0,x.j)("esri.renderers.support.AuthoringInfo")],u);const U=u},87617:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(89317),j=e(80543),b=(e(14007),e(4703),e(65311),e(10141)),x=e(47702);let E=y=class extends l.wq{constructor(P){super(P),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new y({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const P=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${P}`}};(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],E.prototype,"label",void 0),(0,o._)([(0,j.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],E.prototype,"minValue",void 0),(0,o._)([(0,j.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],E.prototype,"maxValue",void 0),(0,o._)([(0,j.Cb)(x.EW)],E.prototype,"symbol",void 0),E=y=(0,o._)([(0,b.j)("esri.renderers.support.ClassBreakInfo")],E);const I=E},37764:(ie,K,e)=>{e.d(K,{I:()=>y});var x,o=e(50484),l=e(89317),j=e(80543),b=(e(14007),e(4703),e(65311),e(10141));let y=x=class extends l.wq{constructor(){super(...arguments),this.title=null}clone(){return new x({title:this.title})}};(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],y.prototype,"title",void 0),y=x=(0,o._)([(0,b.j)("esri.renderers.support.LegendOptions")],y)},24147:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(89317),j=e(80543),b=(e(14007),e(4703),e(65311),e(10141)),x=e(47702);let E=y=class extends l.wq{constructor(P){super(P),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new y({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const P=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${P}`}};(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],E.prototype,"label",void 0),(0,o._)([(0,j.Cb)(x.EW)],E.prototype,"symbol",void 0),(0,o._)([(0,j.Cb)(x.GY)],E.prototype,"value",void 0),E=y=(0,o._)([(0,b.j)("esri.renderers.support.UniqueValueInfo")],E);const I=E},47702:(ie,K,e)=>{e.d(K,{EW:()=>x,GY:()=>E,Gn:()=>b,KK:()=>y});var o=e(71950),l=e(71763),j=e(50106),z=e(15532),p=e(85601),T=e(87137);const b={types:o.QT,json:{write:{writer:z.cW},origins:{"web-scene":{types:o.f_,write:{writer:z.cW},read:{reader:(0,j.d)({types:o.f_})}}}}},x=(0,l.RH)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},b),y={types:{base:p.Z,key:"type",typeMap:{"simple-fill":o.LB.typeMap["simple-fill"],"picture-fill":o.LB.typeMap["picture-fill"],"polygon-3d":o.LB.typeMap["polygon-3d"]}},json:{write:{writer:z.cW},origins:{"web-scene":{type:T.Z,write:{writer:z.cW}}}}},E={cast:I=>null==I||"string"==typeof I||"number"==typeof I?I:`${I}`,json:{type:String,write:{writer:(I,P)=>{P.value=I?.toString()}}}}},85253:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(80543),T=(e(14007),e(4703),e(65311),e(10141)),b=e(64234),x=e(11892);let E=y=class extends b.Z{constructor(P){super(P),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(P){P&&Array.isArray(P)&&(P=P.filter(W=>!!W)).sort((W,J)=>W.value-J.value),this._set("stops",P)}clone(){return new y({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(P=>P.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(P=>P.value||0)}};(0,o._)([(0,l.Cb)({readOnly:!0})],E.prototype,"cache",null),(0,o._)([(0,l.Cb)({type:["color"],json:{type:["colorInfo"]}})],E.prototype,"type",void 0),(0,o._)([(0,l.Cb)({type:String,json:{write:!0}})],E.prototype,"normalizationField",void 0),(0,o._)([(0,l.Cb)({type:[x.Z],json:{write:!0}})],E.prototype,"stops",null),E=y=(0,o._)([(0,T.j)("esri.renderers.visualVariables.ColorVariable")],E);const I=E},15242:(ie,K,e)=>{e.d(K,{Z:()=>P});var E,o=e(50484),l=e(57964),j=e(80543),b=(e(14007),e(4703),e(65311),e(10141)),x=e(7547),y=e(64234);let I=E=class extends y.Z{constructor(W){super(W),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(W,J,Z,q){q?.messages&&q.messages.push(new l.Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:q}))}clone(){return new E({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,o._)([(0,j.Cb)({readOnly:!0})],I.prototype,"cache",null),(0,o._)([(0,j.Cb)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],I.prototype,"axis",void 0),(0,o._)([(0,j.Cb)({type:["rotation"],json:{type:["rotationInfo"]}})],I.prototype,"type",void 0),(0,o._)([(0,j.Cb)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],I.prototype,"rotationType",void 0),(0,o._)([(0,j.Cb)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,x.c)("web-scene","valueExpressionTitle")],I.prototype,"writeValueExpressionTitleWebScene",null),I=E=(0,o._)([(0,b.j)("esri.renderers.visualVariables.RotationVariable")],I);const P=I},58232:(ie,K,e)=>{e.d(K,{Z:()=>X});var ee,o=e(50484),l=e(57964),j=e(84303),z=e(4703),p=e(80543),T=e(73018),b=e(62185),x=e(10141),y=e(7547),E=e(64234),I=e(55768),W=e(44991),J=e(5942),Z=e(50532),q=e(37157);const Y=new j.X({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),$=new j.X({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function re(h){if(null!=h)return"string"==typeof h||"number"==typeof h?function P(h){return(0,I.t_)(h)}(h):"size"===h.type?(0,Z.iY)(h)?h:(delete(h={...h}).type,new C(h)):void 0}function oe(h,G,Q){if("object"!=typeof h)return h;const F=new C;return F.read(h,Q),F}let C=ee=class extends E.Z{constructor(h){super(h),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&q.viewScaleRE.test(this.valueExpression)}}set index(h){(0,Z.iY)(this.maxSize)&&(this.maxSize.index=`visualVariables[${h}].maxSize`),(0,Z.iY)(this.minSize)&&(this.minSize.index=`visualVariables[${h}].minSize`),this._set("index",h)}get inputValueType(){return(0,Z.PS)(this)}set maxDataValue(h){h&&this.stops&&(z.Z.getLogger(this).warn("cannot set maxDataValue when stops is not null."),h=null),this._set("maxDataValue",h)}set maxSize(h){h&&this.stops&&(z.Z.getLogger(this).warn("cannot set maxSize when stops is not null."),h=null),this._set("maxSize",h)}castMaxSize(h){return re(h)}readMaxSize(h,G,Q){return oe(h,0,Q)}set minDataValue(h){h&&this.stops&&(z.Z.getLogger(this).warn("cannot set minDataValue when stops is not null."),h=null),this._set("minDataValue",h)}set minSize(h){h&&this.stops&&(z.Z.getLogger(this).warn("cannot set minSize when stops is not null."),h=null),this._set("minSize",h)}castMinSize(h){return re(h)}readMinSize(h,G,Q){return oe(h,0,Q)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(h){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?h&&Array.isArray(h)&&(h=h.filter(G=>!!G)).sort((G,Q)=>G.value-Q.value):h&&(z.Z.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),h=null),this._set("stops",h)}get transformationType(){return(0,Z.QW)(this,this.inputValueType)}readValueExpression(h,G){return h||G.expression&&"$view.scale"}writeValueExpressionWebScene(h,G,Q,F){if("$view.scale"===h){if(F?.messages){const N=this.index;F.messages.push(new l.Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof N?N:`visualVariables[${N}]`)+".valueExpression",context:F}))}}else G[Q]=h}readValueUnit(h){return h?$.read(h):null}clone(){return new ee({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,Z.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,Z.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(h=>h.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===Z.hL.ClampedLinear){const{minSize:h,maxSize:G}=this;return this.minSize=G,this.maxSize=h,this}if(this.transformationType===Z.hL.Stops){const h=this.stops;if(!h)return this;const G=h.map(F=>F.size).reverse(),Q=h.length;for(let F=0;F<Q;F++)h[F].size=G[F];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(h=>h.value||0)}};(0,o._)([(0,p.Cb)({readOnly:!0})],C.prototype,"cache",null),(0,o._)([(0,p.Cb)({type:Y.apiValues,json:{type:Y.jsonValues,origins:{"web-map":{read:!1}},read:Y.read,write:Y.write}})],C.prototype,"axis",void 0),(0,o._)([(0,p.Cb)()],C.prototype,"index",null),(0,o._)([(0,p.Cb)({type:String,readOnly:!0})],C.prototype,"inputValueType",null),(0,o._)([(0,p.Cb)({type:J.Z,json:{write:!0}})],C.prototype,"legendOptions",void 0),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],C.prototype,"maxDataValue",null),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],C.prototype,"maxSize",null),(0,o._)([(0,T.p)("maxSize")],C.prototype,"castMaxSize",null),(0,o._)([(0,b.r)("maxSize")],C.prototype,"readMaxSize",null),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],C.prototype,"minDataValue",null),(0,o._)([(0,p.Cb)({type:Number,value:null,json:{write:!0}})],C.prototype,"minSize",null),(0,o._)([(0,T.p)("minSize")],C.prototype,"castMinSize",null),(0,o._)([(0,b.r)("minSize")],C.prototype,"readMinSize",null),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],C.prototype,"normalizationField",void 0),(0,o._)([(0,p.Cb)({readOnly:!0})],C.prototype,"arcadeRequired",null),(0,o._)([(0,p.Cb)({type:String})],C.prototype,"scaleBy",void 0),(0,o._)([(0,p.Cb)({type:[W.Z],value:null,json:{write:!0}})],C.prototype,"stops",null),(0,o._)([(0,p.Cb)({type:["outline"],json:{write:!0}})],C.prototype,"target",void 0),(0,o._)([(0,p.Cb)({type:String,readOnly:!0})],C.prototype,"transformationType",null),(0,o._)([(0,p.Cb)({type:["size"],json:{type:["sizeInfo"]}})],C.prototype,"type",void 0),(0,o._)([(0,p.Cb)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],C.prototype,"useSymbolValue",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],C.prototype,"valueExpression",void 0),(0,o._)([(0,b.r)("valueExpression",["valueExpression","expression"])],C.prototype,"readValueExpression",null),(0,o._)([(0,y.c)("web-scene","valueExpression")],C.prototype,"writeValueExpressionWebScene",null),(0,o._)([(0,p.Cb)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],C.prototype,"valueRepresentation",void 0),(0,o._)([(0,p.Cb)({type:$.apiValues,json:{write:$.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],C.prototype,"valueUnit",void 0),(0,o._)([(0,b.r)("valueUnit")],C.prototype,"readValueUnit",null),C=ee=(0,o._)([(0,x.j)("esri.renderers.visualVariables.SizeVariable")],C);const X=C},64234:(ie,K,e)=>{e.d(K,{Z:()=>P});var o=e(50484),l=e(84303),j=e(89317),z=e(4703),p=e(80543),T=e(73018),b=e(10141),x=e(1535),y=e(13737);const E=new l.X({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let I=class extends j.wq{constructor(W){super(W),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(W){return null==W?W:"function"==typeof W?(z.Z.getLogger(this).error(".field: field must be a string value"),null):(0,x.Zs)(W)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,o._)([(0,p.Cb)()],I.prototype,"index",void 0),(0,o._)([(0,p.Cb)({type:E.apiValues,readOnly:!0,json:{read:E.read,write:E.write}})],I.prototype,"type",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],I.prototype,"field",void 0),(0,o._)([(0,T.p)("field")],I.prototype,"castField",null),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],I.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,p.Cb)({readOnly:!0})],I.prototype,"arcadeRequired",null),(0,o._)([(0,p.Cb)({type:y.Z,json:{write:!0}})],I.prototype,"legendOptions",void 0),I=(0,o._)([(0,b.j)("esri.renderers.visualVariables.VisualVariable")],I);const P=I},11892:(ie,K,e)=>{e.d(K,{Z:()=>P});var E,o=e(50484),l=e(66599),j=e(89317),z=e(80543),p=e(1535),x=(e(65311),e(14007),e(10141)),y=e(7547);let I=E=class extends j.wq{constructor(W){super(W),this.color=null,this.label=null,this.value=null}writeValue(W,J,Z){J[Z]=W??0}clone(){return new E({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,o._)([(0,z.Cb)({type:l.Z,json:{type:[p.z8],write:!0}})],I.prototype,"color",void 0),(0,o._)([(0,z.Cb)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,o._)([(0,z.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],I.prototype,"value",void 0),(0,o._)([(0,y.c)("value")],I.prototype,"writeValue",null),I=E=(0,o._)([(0,x.j)("esri.renderers.visualVariables.support.ColorStop")],I);const P=I},44991:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(89317),j=e(55768),z=e(80543),x=(e(14007),e(4703),e(65311),e(10141));let E=y=class extends l.wq{constructor(P){super(P),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new y({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};(0,o._)([(0,z.Cb)({type:String,json:{write:!0}})],E.prototype,"label",void 0),(0,o._)([(0,z.Cb)({type:Number,cast:j.t_,json:{write:!0}})],E.prototype,"size",void 0),(0,o._)([(0,z.Cb)({type:Number,json:{write:!0}})],E.prototype,"value",void 0),(0,o._)([(0,z.Cb)({type:Boolean,json:{write:!1}})],E.prototype,"useMinValue",void 0),(0,o._)([(0,z.Cb)({type:Boolean,json:{write:!1}})],E.prototype,"useMaxValue",void 0),E=y=(0,o._)([(0,x.j)("esri.renderers.visualVariables.support.SizeStop")],E);const I=E},5942:(ie,K,e)=>{e.d(K,{Z:()=>E});var x,o=e(50484),l=e(80543),T=(e(14007),e(4703),e(65311),e(10141)),b=e(13737);let y=x=class extends b.Z{constructor(){super(...arguments),this.customValues=null}clone(){return new x({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};(0,o._)([(0,l.Cb)({type:[Number],json:{write:!0}})],y.prototype,"customValues",void 0),y=x=(0,o._)([(0,T.j)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],y);const E=y},13737:(ie,K,e)=>{e.d(K,{Z:()=>E});var x,o=e(50484),l=e(80543),T=(e(14007),e(4703),e(65311),e(10141)),b=e(37764);let y=x=class extends b.I{constructor(){super(...arguments),this.showLegend=null}clone(){return new x({title:this.title,showLegend:this.showLegend})}};(0,o._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"showLegend",void 0),y=x=(0,o._)([(0,T.j)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],y);const E=y},50532:(ie,K,e)=>{var o,l,b;function j(b){return b&&"esri.renderers.visualVariables.SizeVariable"===b.declaredClass}function z(b){return null!=b&&!isNaN(b)&&isFinite(b)}function p(b){return b.valueExpression?o.Expression:b.field&&"string"==typeof b.field?o.Field:o.Unknown}function T(b,x){return(x||p(b))===o.Unknown?l.Constant:b.stops?l.Stops:null!=b.minSize&&null!=b.maxSize&&null!=b.minDataValue&&null!=b.maxDataValue?l.ClampedLinear:"unknown"===(b.valueUnit||"unknown")?null!=b.minSize&&null!=b.minDataValue?b.minSize&&b.minDataValue?l.Proportional:l.Additive:l.Identity:l.RealWorldSize}e.d(K,{PS:()=>p,QW:()=>T,RY:()=>o,hL:()=>l,iY:()=>j,qh:()=>z}),(b=o||(o={})).Unknown="unknown",b.Expression="expression",b.Field="field",function(b){b.Unknown="unknown",b.Stops="stops",b.ClampedLinear="clamped-linear",b.Proportional="proportional",b.Additive="additive",b.Constant="constant",b.Identity="identity",b.RealWorldSize="real-world-size"}(l||(l={}))},37157:(ie,K,e)=>{e.r(K),e.d(K,{getAllSizes:()=>M,getColor:()=>W,getOpacity:()=>J,getRotationAngle:()=>Z,getSize:()=>Y,getSizeForValue:()=>N,getSizeFromNumberOrVariable:()=>$,getSizeRangeAtScale:()=>D,getVisualVariableValues:()=>L,viewScaleRE:()=>P});var o=e(66599),l=e(35458),j=e(480),z=e(4703),p=e(44526),T=e(50532);const b=()=>z.Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),x=a=>b().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${a}`),y=()=>b().error("Use of arcade expressions requires an arcade context"),E=new l.Z,I=Math.PI,P=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function W(a,d,f){const c="visualVariables"in a&&a.visualVariables?a.visualVariables.find(V=>"color"===V.type):a;if(!c)return;if("esri.renderers.visualVariables.ColorVariable"!==c.declaredClass)return void x("ColorVariable");const m="number"==typeof d,v=m?null:d,u=v?.attributes;let U=m?d:null;const s=c.field,{ipData:g,hasExpression:O}=c.cache;let R=c.cache.compiledFunc;if(!s&&!O){const V=c.stops;return V&&V[0]&&V[0].color}if("number"!=typeof U)if(O){if(null==f?.arcade)return void y();const te=f.arcade.arcadeUtils,i=te.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:f.spatialReference}),_=te.createExecContext(v,i,f.timeZone);if(!R){const S=te.createSyntaxTree(c.valueExpression);R=te.createFunction(S),c.cache.compiledFunc=R}U=te.executeFunction(R,_)}else u&&(U=u[s]);const B=c.normalizationField,H=null!=u&&null!=B?parseFloat(u[B]):void 0;if(null!=U&&(!B||m||!isNaN(H)&&0!==H)){isNaN(H)||m||(U/=H);const V=w(U,g);if(V){const te=V[0],i=V[1],_=te===i?c.stops[te].color:o.Z.blendColors(c.stops[te].color,c.stops[i].color,V[2],f?.color);return new o.Z(_)}}}function J(a,d,f){const c="visualVariables"in a&&a.visualVariables?a.visualVariables.find(V=>"opacity"===V.type):a;if(!c)return;if("esri.renderers.visualVariables.OpacityVariable"!==c.declaredClass)return void x("OpacityVariable");const m="number"==typeof d,v=m?null:d,u=v?.attributes;let U=m?d:null;const s=c.field,{ipData:g,hasExpression:O}=c.cache;let R=c.cache.compiledFunc;if(!s&&!O){const V=c.stops;return V&&V[0]&&V[0].opacity}if("number"!=typeof U)if(O){if(null==f?.arcade)return void y();const te=f.arcade.arcadeUtils,i=te.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:f.spatialReference}),_=te.createExecContext(v,i,f.timeZone);if(!R){const S=te.createSyntaxTree(c.valueExpression);R=te.createFunction(S),c.cache.compiledFunc=R}U=te.executeFunction(R,_)}else u&&(U=u[s]);const B=c.normalizationField,H=null!=u&&null!=B?parseFloat(u[B]):void 0;if(null!=U&&(!B||m||!isNaN(H)&&0!==H)){isNaN(H)||m||(U/=H);const V=w(U,g);if(V){const te=V[0],i=V[1];if(te===i)return c.stops[te].opacity;{const _=c.stops[te].opacity;return _+(c.stops[i].opacity-_)*V[2]}}}}function Z(a,d,f){const c="visualVariables"in a&&a.visualVariables?a.visualVariables.find(H=>"rotation"===H.type):a;if(!c)return;if("esri.renderers.visualVariables.RotationVariable"!==c.declaredClass)return void x("RotationVariable");const m=c.axis||"heading",v="heading"===m&&"arithmetic"===c.rotationType?90:0,u="heading"===m&&"arithmetic"===c.rotationType?-1:1,U="number"==typeof d?null:d,s=U?.attributes,g=c.field,{hasExpression:O}=c.cache;let R=c.cache.compiledFunc,B=0;if(!g&&!O)return B;if(O){if(null==f?.arcade)return void y();const V=f.arcade.arcadeUtils,te=V.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:f.spatialReference}),i=V.createExecContext(U,te,f.timeZone);if(!R){const _=V.createSyntaxTree(c.valueExpression);R=V.createFunction(_),c.cache.compiledFunc=R}B=V.executeFunction(R,i)}else s&&(B=s[g]||0);return B="number"!=typeof B||isNaN(B)?null:v+u*B,B}function Y(a,d,f){const c="visualVariables"in a&&a.visualVariables?a.visualVariables.find(v=>"size"===v.type):a;if(!c)return;if("esri.renderers.visualVariables.SizeVariable"!==c.declaredClass)return void x("SizeVariable");const m=N(function q(a,d,f){const c="number"==typeof d,m=c?null:d,v=m?.attributes;let u=c?d:null;const{isScaleDriven:U}=a.cache;let s=a.cache.compiledFunc;if(U){const O=f?.scale,R=f?.view;u=null==O||"3d"===R?function ee(a){let d=null,f=null;const c=a.stops;return c?(d=c[0].value,f=c[c.length-1].value):(d=a.minDataValue||0,f=a.maxDataValue||0),(d+f)/2}(a):O}else if(!c)switch(a.inputValueType){case T.RY.Expression:{if(null==f?.arcade)return void y();const R=f.arcade.arcadeUtils,B=R.getViewInfo({viewingMode:f.viewingMode,scale:f.scale,spatialReference:f.spatialReference}),H=R.createExecContext(m,B,f.timeZone);if(!s){const V=R.createSyntaxTree(a.valueExpression);s=R.createFunction(V),a.cache.compiledFunc=s}u=R.executeFunction(s,H);break}case T.RY.Field:v&&(u=v[a.field]);break;case T.RY.Unknown:u=null}if(!(0,T.qh)(u))return null;if(c||!a.normalizationField)return u;const g=v?parseFloat(v[a.normalizationField]):null;return(0,T.qh)(g)&&0!==g?u/g:null}(c,d,f),c,d,f,c.cache.ipData);return null==m||isNaN(m)?0:m}function $(a,d,f){return null==a?null:(0,T.iY)(a)?Y(a,d,f):(0,T.qh)(a)?a:null}function re(a,d,f){return(0,T.qh)(f)&&a>f?f:(0,T.qh)(d)&&a<d?d:a}function N(a,d,f,c,m){switch(d.transformationType){case T.hL.Additive:return function oe(a,d,f,c){return a+(($(d.minSize,f,c)||d.minDataValue)??0)}(a,d,f,c);case T.hL.Constant:return function C(a,d,f){const c=a.stops;let m=c?.length&&c[0].size;return null==m&&(m=a.minSize),$(m,d,f)}(d,f,c);case T.hL.ClampedLinear:return function X(a,d,f,c){const m=(a-d.minDataValue)/(d.maxDataValue-d.minDataValue),v=$(d.minSize,f,c),u=$(d.maxSize,f,c),U=c?.shape;if(a<=d.minDataValue)return v;if(a>=d.maxDataValue)return u;if(null==v||null==u)return null;if("area"===d.scaleBy&&U){const s="circle"===U,g=s?I*(v/2)**2:v*v,O=g+m*((s?I*(u/2)**2:u*u)-g);return s?2*Math.sqrt(O/I):Math.sqrt(O)}return v+m*(u-v)}(a,d,f,c);case T.hL.Proportional:return function h(a,d,f,c){const m=c?.shape,v=a/d.minDataValue,u=$(d.minSize,f,c),U=$(d.maxSize,f,c);let s=null;return s="circle"===m?2*Math.sqrt(v*(u/2)**2):"square"===m||"diamond"===m||"image"===m?Math.sqrt(v*u**2):v*u,re(s,u,U)}(a,d,f,c);case T.hL.Stops:return function G(a,d,f,c,m){const[v,u,U]=w(a,m);if(v===u)return $(d.stops?.[v].size,f,c);{const s=$(d.stops?.[v].size,f,c);return s+($(d.stops?.[u].size,f,c)-s)*U}}(a,d,f,c,m);case T.hL.RealWorldSize:return function Q(a,d,f,c){const m=(c?.resolution??1)*p.a[d.valueUnit],v=$(d.minSize,f,c),u=$(d.maxSize,f,c),{valueRepresentation:U}=d;let s=null;return s="area"===U?2*Math.sqrt(a/I)/m:"radius"===U||"distance"===U?2*a/m:a/m,re(s,v,u)}(a,d,f,c);case T.hL.Identity:return a;case T.hL.Unknown:return null}}function D(a,d,f){const{isScaleDriven:c}=a.cache;if(!(c&&"3d"===f||d))return null;const m={scale:d,view:f};let v=$(a.minSize,E,m),u=$(a.maxSize,E,m);if(null!=v||null!=u){if(v>u){const U=u;u=v,v=U}return{minSize:v,maxSize:u}}}function L(a,d,f){if(!a.visualVariables)return;const c=[],m=[],v=[],u=[],U=[];for(const s of a.visualVariables)switch(s.type){case"color":m.push(s);break;case"opacity":v.push(s);break;case"rotation":U.push(s);break;case"size":u.push(s)}return m.forEach(s=>{const g=W(s,d,f);c.push({variable:s,value:g})}),v.forEach(s=>{const g=J(s,d,f);c.push({variable:s,value:g})}),U.forEach(s=>{const g=Z(s,d,f);c.push({variable:s,value:g})}),u.forEach(s=>{const g=Y(s,d,f);c.push({variable:s,value:g})}),c.filter(s=>null!=s.value)}function w(a,d){if(!d)return;let f=0,c=d.length-1;return d.some((m,v)=>a<m?(c=v,!0):(f=v,!1)),[f,c,(a-d[f])/(d[c]-d[f])]}function M(a,d,f){const c=["proportional","proportional","proportional"];for(const m of a){const v=m.useSymbolValue?"symbol-value":Y(m,d,f);switch(m.axis){case"width":c[0]=v;break;case"depth":c[1]=v;break;case"height":c[2]=v;break;case"width-and-depth":c[0]=v,c[1]=v;break;case"all":case void 0:case null:c[0]=v,c[1]=v,c[2]=v;break;default:(0,j.Bg)(m.axis)}}return c}},93618:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(66599),j=e(34222),z=e(80543),p=e(1535),T=e(21070),b=e(10141),x=e(85241);let E=y=class extends x.Z{constructor(P){super(P),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new y({fromColor:(0,j.d9)(this.fromColor),toColor:(0,j.d9)(this.toColor),algorithm:this.algorithm})}};(0,o._)([(0,T.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],E.prototype,"algorithm",void 0),(0,o._)([(0,z.Cb)({type:l.Z,json:{type:[p.z8],write:!0}})],E.prototype,"fromColor",void 0),(0,o._)([(0,z.Cb)({type:l.Z,json:{type:[p.z8],write:!0}})],E.prototype,"toColor",void 0),(0,o._)([(0,z.Cb)({type:["algorithmic"]})],E.prototype,"type",void 0),E=y=(0,o._)([(0,b.j)("esri.rest.support.AlgorithmicColorRamp")],E);const I=E},85241:(ie,K,e)=>{e.d(K,{Z:()=>y});var o=e(50484),l=e(89317),j=e(80543),b=(e(14007),e(4703),e(65311),e(10141));let x=class extends l.wq{constructor(E){super(E),this.type=null}};(0,o._)([(0,j.Cb)({readOnly:!0,json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=(0,o._)([(0,b.j)("esri.rest.support.ColorRamp")],x);const y=x},68020:(ie,K,e)=>{e.d(K,{Z:()=>I});var y,o=e(50484),l=e(34222),j=e(80543),T=(e(14007),e(4703),e(10141)),b=e(93618),x=e(85241);let E=y=class extends x.Z{constructor(P){super(P),this.colorRamps=null,this.type="multipart"}clone(){return new y({colorRamps:(0,l.d9)(this.colorRamps)})}};(0,o._)([(0,j.Cb)({type:[b.Z],json:{write:!0}})],E.prototype,"colorRamps",void 0),(0,o._)([(0,j.Cb)({type:["multipart"]})],E.prototype,"type",void 0),E=y=(0,o._)([(0,T.j)("esri.rest.support.MultipartColorRamp")],E);const I=E},46143:(ie,K,e)=>{e.d(K,{V:()=>z,i:()=>p});var o=e(93618),l=e(85241),j=e(68020);const z={key:"type",base:l.Z,typeMap:{algorithmic:o.Z,multipart:j.Z}};function p(T){return T?.type?"algorithmic"===T.type?o.Z.fromJSON(T):"multipart"===T.type?j.Z.fromJSON(T):null:null}},13967:(ie,K,e)=>{e.d(K,{K3:()=>l,Rx:()=>y});var o=e(14007);const l=()=>!!(0,o.Z)("enable-feature:force-wosr"),y=()=>!!(0,o.Z)("enable-feature:SceneLayer-editing");((W="i3s-patching")=>{switch(o.Z.add("enable-i3s-patching",!1,!0,!0),o.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),o.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),W){case"feature-layer-view":o.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":o.Z.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},15532:(ie,K,e)=>{e.d(K,{cW:()=>b,im:()=>I,vX:()=>x});var o=e(71950),l=e(57964),j=e(85971),z=e(15954),p=e(7610),T=e(80121);function b(P,W,J,Z){const q=E(P,{},{context:Z,isLabelSymbol:!1});null!=q&&(W[J]=q)}function x(P,W,J,Z){const q=E(P,{},{context:Z,isLabelSymbol:!0});null!=q&&(W[J]=q)}function y(P){return P instanceof z.Z||P instanceof T.Z}function E(P,W,J){if(null==P)return null;const{context:Z,isLabelSymbol:q}=J,ee=Z?.origin,Y=Z?.messages;if("web-scene"===ee&&!y(P)){const $=(0,p.q)(P,{retainCIM:!0,hasLabelingContext:q});return null!=$.symbol?$.symbol.write(W,Z):(Y?.push(new l.Z("symbol:unsupported",`Symbols of type '${P.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:P,context:Z,error:$.error})),null)}return("web-map"===ee||"portal-item"===ee&&!(0,j.A2)(Z?.layer))&&y(P)?(Y?.push(new l.Z("symbol:unsupported",`Symbols of type '${P.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:P,context:Z})),null):P.write(W,Z)}function I(P,W){return(0,o.S9)(P,null,W)}},18007:(ie,K,e)=>{e.d(K,{EJ:()=>Y,KV:()=>q,n2:()=>Z,v9:()=>ee,wm:()=>oe});var o=e(15861),l=e(66476),j=e(57964),z=e(79412),p=e(6785),T=e(61018),b=e(78149),x=e(13967);let y={};function I(){return(I=(0,o.Z)(function*(C,X){try{return{data:(yield Y(C,X)).data,baseUrl:(0,p.Yd)(C),styleUrl:C}}catch(h){return(0,z.r9)(h),null}})).apply(this,arguments)}function Z(C,X,h){return null!=C?.styleUrl?function E(C,X){return I.apply(this,arguments)}(C.styleUrl,h):null!=C?.styleName?function P(C,X,h){const G=null!=X.portal?X.portal:T.Z.getDefault();let Q;const F=`${G.url} - ${G.user?.username} - ${C}`;return y[F]||(y[F]=function J(C,X,h){return X.load(h).then(()=>{const G=new b.Z({disableExtraQuery:!0,query:`owner:${$} AND type:${re} AND typekeywords:"${C}"`});return X.queryItems(G,h)}).then(({results:G})=>{let Q=null;const F=C.toLowerCase();if(G&&Array.isArray(G))for(const N of G)if(N.typeKeywords?.some(L=>L.toLowerCase()===F)&&N.type===re&&N.owner===$){Q=N;break}if(!Q)throw new j.Z("symbolstyleutils:style-not-found",`The style '${C}' could not be found`,{styleName:C});return Q.load(h)})}(C,G,h).then(N=>(Q=N,N.fetchData())).then(N=>({data:N,baseUrl:Q.itemUrl??"",styleName:C}))),y[F]}(C.styleName,X,h):Promise.reject(new j.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function q(C){return null===C||"CIMSymbolReference"===C.type?C:{type:"CIMSymbolReference",symbol:C}}function ee(C,X,h=["gltf"]){if("cimRef"===X)return encodeURI(C.cimRef);if(C.formatInfos&&!(0,x.K3)())for(const G of h){const Q=C.formatInfos.find(F=>F.type===G);if(Q)return Q.href}return encodeURI(C.webRef)}function Y(C,X){const h={responseType:"json",query:{f:"json"},...X};return(0,l.Z)((0,p.Fv)(C),h)}const $="esri_en",re="Style",oe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},7610:(ie,K,e)=>{e.d(K,{q:()=>w});var o=e(71950),l=e(57964),j=e(66599),z=e(83944),T=(e(14007),e(55768)),b=e(13714),x=e(92227),y=e(75771),E=e(31110),I=e(87137),P=e(74224),W=e(26981),J=e(19579),Z=e(91729);E.Z.fromSimpleMarkerSymbol(W.xA),x.Z.fromSimpleLineSymbol(W.CJ),I.Z.fromSimpleFillSymbol(W.z3),new y.Z({symbolLayers:new z.Z([new b.Z({material:{color:J.SQ},edges:new P.Z({size:(0,T.Wz)(1),color:new j.Z(J.X1)})})])});const re=new x.Z({symbolLayers:new z.Z([new Z.Z({material:{color:new j.Z([0,0,0])},size:(0,T.Wz)(1)})])}),oe=new I.Z({symbolLayers:new z.Z([new b.Z({outline:{color:new j.Z([0,0,0]),size:(0,T.Wz)(1)}})])});var X=e(80121),h=e(66637),G=e(35451),Q=e(41391),F=e(89481),N=e(52248),D=e(82108);const L={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function w(M,a=L){if(!M)return{symbol:null};const{retainId:d=L.retainId,ignoreDrivers:f=L.ignoreDrivers,hasLabelingContext:c=L.hasLabelingContext,retainCIM:m=L.retainCIM,cimFallbackEnabled:v=L.cimFallbackEnabled}=a;let u=null;if((0,o.dU)(M)||M instanceof X.Z)u=M.clone();else if("cim"===M.type){const U=M.data?.symbol?.type;switch(U){case"CIMPointSymbol":u=m?M.clone():E.Z.fromCIMSymbol(M);break;case"CIMLineSymbol":v&&(u=re.clone(),a?.logWarning?.("Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":v&&(u=oe.clone(),a?.logWarning?.("Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!u)return{error:new l.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${U||"unknown"}' is unsupported in 3D`,{symbol:M})}}else if(M instanceof h.Z)u=x.Z.fromSimpleLineSymbol(M);else if(M instanceof G.Z)u=E.Z.fromSimpleMarkerSymbol(M);else if(M instanceof Q.Z)u=E.Z.fromPictureMarkerSymbol(M);else if(M instanceof F.Z)u=a.geometryType&&"mesh"===a.geometryType?y.Z.fromSimpleFillSymbol(M):I.Z.fromSimpleFillSymbol(M);else{if(!(M instanceof N.Z))return{error:new l.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${M.type||M.declaredClass}' is unsupported in 3D`,{symbol:M})};u=c?D.Z.fromTextSymbol(M):E.Z.fromTextSymbol(M)}return d&&u&&"cim"!==u.type&&(u.id=M.id),f&&(0,o.dU)(u)&&u.symbolLayers.forEach(U=>U.ignoreDrivers=!0),{symbol:u}}}}]);