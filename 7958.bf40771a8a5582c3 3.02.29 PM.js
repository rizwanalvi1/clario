"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[7958],{77958:(y,d,t)=>{t.r(d),t.d(d,{registerFunctions:()=>Y});var r=t(15861),c=t(11931),O=(t(2189),t(97478)),h=t(70430),E=t(53570),s=t(89018),a=t(26097),P=t(32184),n=t(83821),D=t(48230),M=t(61018),x=t(27835),N=t(22497),Q=t(59720),V=t(6383),H=t(88325),J=t(15889),z=t(75443),F=t(93305),B=t(43814);let R=null;function T(){return(T=(0,r.Z)(function*(_){const o=c.default.geometryServiceUrl??"";if(!o){(0,n.isLoaded)()||(yield(0,n.load)());for(const e of _)e.container[e.indexer]=(0,n.project)(e.container[e.indexer],B.Z.WGS84);return}const l=_.map(e=>e.container[e.indexer]),u=new F.Z({geometries:l,outSpatialReference:B.Z.WGS84}),v=yield(0,N.i)(o,u);for(let e=0;e<v.length;e++){const i=_[e];i.container[i.indexer]=v[e]}})).apply(this,arguments)}function G(_,o){return W.apply(this,arguments)}function W(){return(W=(0,r.Z)(function*(_,o){const l=new x.default({portal:_,id:o});return yield l.load(),null===R&&(R=yield t.e(6380).then(t.bind(t,56380))),yield R.fetchKnowledgeGraph(l.url)})).apply(this,arguments)}function A(_,o,l,u,v){if(null===_)return null;if((0,s.c)(_)||(0,s.b)(_))return _;if((0,s.k)(_)||(0,s.k)(_))return _.toJSDate();if((0,s.m)(_))return _.toStorageFormat();if((0,s.n)(_))return _.toStorageString();if((0,s.v)(_)){const e={};for(const i of _.keys())e[i]=A(_.field(i),o,l,u,v),e[i]instanceof P.Z&&v.push({container:e,indexer:i});return e}if((0,s.o)(_)){const e=_.map(i=>A(i,o,l,u,v));for(let i=0;i<e.length;i++)e[i]instanceof P.Z&&v.push({container:e,indexer:i});return e}return(0,s.p)(_)?_.spatialReference.isWGS84?_:_.spatialReference.isWebMercator&&o?(0,D.Sx)(_):_:void 0}function U(_,o){if(!_)return null;const l={};for(const u in _)l[u]=f(_[u],o);return l}function f(_,o){return null===_?null:(0,s.o)(_)?_.map(l=>f(l,o)):_ instanceof Q.Z?{graphTypeName:_.typeName,id:_.id,graphType:"entity",properties:U(_.properties,o)}:_ instanceof H.Z?{graphType:"object",properties:U(_.properties,o)}:_ instanceof z.Z?{graphTypeName:_.typeName,id:_.id,graphType:"relationship",originId:_.originId??null,destinationId:_.destinationId??null,properties:U(_.properties,o)}:_ instanceof J.Z?{graphType:"path",path:_.path?_.path.map(l=>f(l,o)):null}:(0,s.p)(_)?function X(_,o){if(!_)return _;if(_.spatialReference.isWGS84&&o.spatialReference.isWebMercator)return(0,D.$)(_);if(_.spatialReference.equals(o.spatialReference))return _;throw new E.aV(o,E.rH.WrongSpatialReference,null)}(_,o):(0,s.c)(_)||(0,s.b)(_)||(0,s.a5)(_)?_:null}function Y(_){"async"===_.mode&&(_.functions.knowledgegraphbyportalitem=function(o,l){return _.standardFunctionAsync(o,l,(u,v,e)=>{if((0,s.H)(e,2,2,o,l),null===e[0])throw new E.aV(o,E.rH.PortalRequired,l);if(e[0]instanceof O.Z){const g=(0,s.j)(e[1]);let L;return L=o.services?.portal?o.services.portal:M.Z.getDefault(),G((0,a._)(e[0],L),g)}if(!1===(0,s.c)(e[0]))throw new E.aV(o,E.rH.InvalidParameter,l);const i=(0,s.j)(e[0]);return G(o.services?.portal??M.Z.getDefault(),i)})},_.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),_.functions.querygraph=function(o,l){return _.standardFunctionAsync(o,l,function(){var u=(0,r.Z)(function*(v,e,i){(0,s.H)(i,2,4,o,l);const g=i[0];if(!(0,s.w)(g))throw new E.aV(o,E.rH.InvalidParameter,l);const L=i[1];if(!(0,s.c)(L))throw new E.aV(o,E.rH.InvalidParameter,l);null===R&&(R=yield t.e(6380).then(t.bind(t,56380)));let S=null;const m=(0,s.K)(i[2],null);if(!(m instanceof h.Z||null===m))throw new E.aV(o,E.rH.InvalidParameter,l);if(m){let j=[];S=A(m,!0,!1,o,j),j=j.filter(C=>!C.container[C.indexer].spatialReference.isWGS84),j.length>0&&(yield function $(_){return T.apply(this,arguments)}(j))}const Z=new V.Z({openCypherQuery:L,bindParameters:S});(g?.serviceDefinition?.currentVersion??11.3)>11.2&&(Z.outputSpatialReference=o.spatialReference);const b=(yield R.executeQueryStreaming(g,Z)).resultRowsStream.getReader(),K=[];try{for(;;){const{done:j,value:C}=yield b.read();if(j)break;if((0,s.o)(C))for(const I of C)K.push(f(I,o));else{const I=[];for(const w of C)I.push(f(C[w],o));K.push(I)}}}catch(j){throw j}return h.Z.convertJsonToArcade(K,(0,s.N)(o),!1,!0)});return function(v,e,i){return u.apply(this,arguments)}}())},_.signatures.push({name:"querygraph",min:2,max:4}))}},26097:(y,d,t)=>{t.d(d,{_:()=>c});var r=t(61018);function c(p,O){return null===p?O:new r.Z({url:p.field("url")})}},59720:(y,d,t)=>{t.d(d,{Z:()=>D});var r=t(50484),p=(t(2189),t(80543)),s=(t(14007),t(4703),t(65311),t(10141)),a=t(45660),P=t(44107);let n=class extends a.Z{constructor(M){super(M),this.layoutGeometry=null}};(0,r._)([(0,p.Cb)({type:P.Z,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,r._)([(0,s.j)("esri.rest.knowledgeGraph.Entity")],n);const D=n},45660:(y,d,t)=>{t.d(d,{Z:()=>P});var r=t(50484),c=t(80543),E=(t(14007),t(4703),t(65311),t(10141)),s=t(79021);let a=class extends s.Z{constructor(n){super(n),this.typeName=null,this.id=null}};(0,r._)([(0,c.Cb)({type:String,json:{write:!0}})],a.prototype,"typeName",void 0),(0,r._)([(0,c.Cb)({type:String,json:{write:!0}})],a.prototype,"id",void 0),a=(0,r._)([(0,E.j)("esri.rest.knowledgeGraph.GraphNamedObject")],a);const P=a},79021:(y,d,t)=>{t.d(d,{Z:()=>P});var r=t(50484),c=t(89317),p=t(80543),s=(t(14007),t(4703),t(65311),t(10141));let a=class extends c.wq{constructor(n){super(n),this.properties=null}};(0,r._)([(0,p.Cb)({json:{write:!0}})],a.prototype,"properties",void 0),a=(0,r._)([(0,s.j)("esri.rest.knowledgeGraph.GraphObject")],a);const P=a},6383:(y,d,t)=>{t.d(d,{Z:()=>D});var r=t(50484),c=t(80543),E=(t(14007),t(4703),t(65311),t(10141)),s=t(73514);let a=class extends s.Z{constructor(M){super(M),this.openCypherQuery=""}};(0,r._)([(0,c.Cb)()],a.prototype,"openCypherQuery",void 0),a=(0,r._)([(0,E.j)("esri.rest.knowledgeGraph.GraphQuery")],a);const P=a;let n=class extends P{constructor(M){super(M),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,r._)([(0,c.Cb)()],n.prototype,"bindParameters",void 0),(0,r._)([(0,c.Cb)()],n.prototype,"bindGeometryQuantizationParameters",void 0),(0,r._)([(0,c.Cb)()],n.prototype,"outputQuantizationParameters",void 0),(0,r._)([(0,c.Cb)()],n.prototype,"outputSpatialReference",void 0),(0,r._)([(0,c.Cb)()],n.prototype,"provenanceBehavior",void 0),n=(0,r._)([(0,E.j)("esri.rest.knowledgeGraph.GraphQueryStreaming")],n);const D=n},88325:(y,d,t)=>{t.d(d,{Z:()=>P});var r=t(50484),E=(t(4703),t(14007),t(65311),t(57964),t(10141)),s=t(79021);let a=class extends s.Z{constructor(n){super(n)}};a=(0,r._)([(0,E.j)("esri.rest.knowledgeGraph.ObjectValue")],a);const P=a},15889:(y,d,t)=>{t.d(d,{Z:()=>n});var r=t(50484),c=t(89317),p=t(80543),s=(t(14007),t(4703),t(65311),t(10141)),a=t(79021);let P=class extends c.wq{constructor(D){super(D),this.path=null}};(0,r._)([(0,p.Cb)({type:[a.Z],json:{write:!0}})],P.prototype,"path",void 0),P=(0,r._)([(0,s.j)("esri.rest.knowledgeGraph.Path")],P);const n=P},75443:(y,d,t)=>{t.d(d,{Z:()=>D});var r=t(50484),p=(t(2189),t(80543)),s=(t(14007),t(4703),t(65311),t(10141)),a=t(45660),P=t(64222);let n=class extends a.Z{constructor(M){super(M),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,r._)([(0,p.Cb)({type:String,json:{write:!0}})],n.prototype,"originId",void 0),(0,r._)([(0,p.Cb)({type:String,json:{write:!0}})],n.prototype,"destinationId",void 0),(0,r._)([(0,p.Cb)({type:P.Z,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,r._)([(0,s.j)("esri.rest.knowledgeGraph.Relationship")],n);const D=n}}]);