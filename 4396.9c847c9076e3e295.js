"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[4396,2046],{60084:(v,u,e)=>{e.d(u,{D:()=>t});var o=e(26496);function t(s){s?.writtenProperties&&s.writtenProperties.forEach(({target:i,propName:p,newOrigin:n})=>{(0,o.l)(i)&&n&&i.originOf(p)!==n&&i.updateOrigin(p,n)})}},26496:(v,u,e)=>{function o(t){return t&&"getAtOrigin"in t&&"originOf"in t}e.d(u,{l:()=>o})},61651:(v,u,e)=>{e.r(u),e.d(u,{save:()=>E,saveAs:()=>O});var o=e(15861),t=e(85155),s=e(50318);const i="Image Service",p="imagery-layer-save",n="imagery-layer-save-as",_="imagery-tile-layer-save",y="imagery-tile-layer-save-as";function d(a){if("imagery"===a.type)return{isValid:!0};const{raster:r}=a,c="Function"===r?.datasetFormat?r.primaryRasters?.rasters[0]:r;return{isValid:"RasterTileServer"===c?.datasetFormat&&("Raster"===c.tileType||"Map"===c.tileType),errorMessage:"imagery tile layer should be created from a tiled image service."}}function l(a){const r=a.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function m(a,r){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(function*(a,r){const{parsedUrl:c,title:h,fullExtent:D}=a;r.url=c.path,r.title||=h;try{r.extent=yield(0,s.$o)(D)}catch{r.extent=void 0}(0,s.ck)(r,s.hz.METADATA),"imagery-tile"===a.type&&(0,s.qj)(r,s.hz.TILED_IMAGERY)})).apply(this,arguments)}function E(a,r){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(function*(a,r){return(0,t.a1)({layer:a,itemType:i,validateLayer:d,createItemData:l,errorNamePrefix:"imagery"===a.type?p:_},r)})).apply(this,arguments)}function O(a,r,c){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(function*(a,r,c){return(0,t.po)({layer:a,itemType:i,validateLayer:d,createItemData:l,errorNamePrefix:"imagery"===a.type?n:y,newItem:r,setItemProperties:m},c)})).apply(this,arguments)}},453:(v,u,e)=>{e.d(u,{Y:()=>i,h:()=>s});var o=e(6785),t=e(61018);function s(n,_){return{...p(n,_),readResourcePaths:[]}}function i(n,_,y){const d=(0,o.mN)(n.itemUrl);return{...p(n,_),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:d?{rootPath:d.path,writtenUrls:[]}:null,resources:y?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function p(n,_){return{origin:_,url:(0,o.mN)(n.itemUrl),portal:n.portal||t.Z.getDefault(),portalItem:n}}},88911:(v,u,e)=>{e.d(u,{w:()=>i});var o=e(11931),t=e(57964),s=e(40907);function i(p){if(o.default.apiKey&&(0,s.r)(p.portal.url))throw new t.Z("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${p.portal.url} when using an api key`)}},46018:(v,u,e)=>{e.d(u,{P:()=>s,z:()=>n});var o=e(15861),t=e(57964);function s(_){return i.apply(this,arguments)}function i(){return(i=(0,o.Z)(function*(_){const y=[];for(const d of _.allLayers)if("beforeSave"in d&&"function"==typeof d.beforeSave){const l=d.beforeSave();l&&y.push(l)}yield Promise.allSettled(y)})).apply(this,arguments)}const p=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function n(_,y,d){let l=(_.messages??[]).filter(({type:m})=>"error"===m).map(({name:m,message:g,details:E})=>new t.Z(m,g,E));if(_.blockedRelativeUrls&&(l=l.concat(_.blockedRelativeUrls.map(m=>new t.Z("url:unsupported",`Relative url '${m}' is not supported`)))),d){const{ignoreUnsupported:m,supplementalUnsupportedErrors:g=[],requiredPropertyChecksDisabled:E}=d;m&&(l=l.filter(({name:f})=>!(p.has(f)||g.includes(f)))),E&&(l=l.filter(f=>"web-document-write:property-required"!==f.name))}if(l.length>0)throw new t.Z(y.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:l})}}}]);