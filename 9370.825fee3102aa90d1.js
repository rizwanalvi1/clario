"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[9370],{3233:(G,b,s)=>{s.d(b,{R:()=>T,w:()=>f});var o=s(50484),g=s(73514),v=s(44469),O=s(34222),l=s(60301);class S{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(l.v8),this._values=new Map,this.multipleOriginsSupported=!0}clone(a){const e=new S,i=this._originStores[l.s3.DEFAULTS];i&&i.forEach((r,t)=>{e.set(t,(0,O.d9)(r),l.s3.DEFAULTS)});for(let r=l.s3.SERVICE;r<l.v8;r++){const t=this._originStores[r];t&&t.forEach((n,y)=>{a&&a.has(y)||e.set(y,(0,O.d9)(n),r)})}return e}get(a,e){const i=void 0===e?this._values:this._originStores[e];return i?i.get(a):void 0}keys(a){const e=null==a?this._values:this._originStores[a];return e?[...e.keys()]:[]}set(a,e,i=l.s3.USER){let r=this._originStores[i];if(r||(r=new Map,this._originStores[i]=r),r.set(a,e),!this._values.has(a)||this._propertyOriginMap.get(a)<=i){const t=this._values.get(a);return this._values.set(a,e),this._propertyOriginMap.set(a,i),t!==e}return!1}delete(a,e=l.s3.USER){const i=this._originStores[e];if(!i)return;const r=i.get(a);if(i.delete(a),this._values.has(a)&&this._propertyOriginMap.get(a)===e){this._values.delete(a);for(let t=e-1;t>=0;t--){const n=this._originStores[t];if(n&&n.has(a)){this._values.set(a,n.get(a)),this._propertyOriginMap.set(a,t);break}}}return r}has(a,e){const i=void 0===e?this._values:this._originStores[e];return!!i&&i.has(a)}revert(a,e){for(;e>0&&!this.has(a,e);)--e;const i=this._originStores[e],r=i?.get(a),t=this._values.get(a);return this._values.set(a,r),this._propertyOriginMap.set(a,e),t!==r}originOf(a){return this._propertyOriginMap.get(a)||l.s3.DEFAULTS}forEach(a){this._values.forEach(a)}}var A=s(68090),m=s(49301),u=s(10141);const M=c=>{let a=class extends c{constructor(...e){super(...e);const i=(0,m.vw)(this),r=i.store,t=new S;i.store=t,(0,v.M)(i,r,t)}read(e,i){(0,A.i)(this,e,i)}getAtOrigin(e,i){const r=d(this),t=(0,l.M9)(i);if("string"==typeof e)return r.get(e,t);const n={};return e.forEach(y=>{n[y]=r.get(y,t)}),n}originOf(e){return(0,l.x3)(this.originIdOf(e))}originIdOf(e){return d(this).originOf(e)}revert(e,i){const r=d(this),t=(0,l.M9)(i),n=(0,m.vw)(this);let y;y="string"==typeof e?"*"===e?r.keys(t):[e]:e,y.forEach(p=>{n.invalidate(p),r.revert(p,t),n.commit(p)})}};return a=(0,o._)([(0,u.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],a),a};function d(c){return(0,m.vw)(c).store}let L=class extends(M(g.Z)){};L=(0,o._)([(0,u.j)("esri.core.ReadOnlyMultiOriginJSONSupport")],L);var E=s(37718),C=s(82206);const h=c=>{let a=class extends c{constructor(...e){super(...e)}clear(e,i="user"){return w(this).delete(e,(0,l.M9)(i))}write(e,i){return(0,C.c)(this,e=e||{},i),e}setAtOrigin(e,i,r){(0,m.vw)(this).setAtOrigin(e,i,(0,l.M9)(r))}removeOrigin(e){const i=w(this),r=(0,l.M9)(e),t=i.keys(r);for(const n of t)i.originOf(n)===r&&i.set(n,i.get(n,r),l.s3.USER)}updateOrigin(e,i){const r=w(this),t=(0,l.M9)(i),n=(0,E.U2)(this,e);for(let y=t+1;y<l.v8;++y)r.delete(e,y);r.set(e,n,t)}toJSON(e){return this.write({},e)}};return a=(0,o._)([(0,u.j)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],a),a.prototype.toJSON.isDefaultToJSON=!0,a};function w(c){return(0,m.vw)(c).store}const T=c=>{let a=class extends(h(M(c))){constructor(...e){super(...e)}};return a=(0,o._)([(0,u.j)("esri.core.MultiOriginJSONSupport")],a),a};let f=class extends(T(g.Z)){};f=(0,o._)([(0,u.j)("esri.core.MultiOriginJSONSupport")],f)},76215:(G,b,s)=>{s.d(b,{C:()=>o});const o=["operational-layers","basemap","ground"]},80099:(G,b,s)=>{s.d(b,{q:()=>a});var o=s(50484),g=s(34411),v=s(57964),O=s(6785),l=s(80543),S=s(1535),u=(s(65311),s(14007),s(62185)),M=s(10141),d=s(7547),L=s(76215),E=s(68090),C=s(82206);const h={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},w={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},T={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},f={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":h,"web-map/basemap":w,"web-map/tables":T,"link-chart/operational-layers":{...h,LinkChartLayer:!0},"link-chart/basemap":w,"link-chart/tables":T,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};var c=s(56956);const a=i=>{let r=class extends i{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(t,n,y){return"Group Layer"===y?.portalItem?.type?void 0:t}writeListMode(t,n,y,p){(p&&"ground"===p.layerContainerType||t&&(0,C.d)(this,y,{},p))&&(n[y]=t)}writeOperationalLayerType(t,n,y,p){t&&"tables"!==p?.layerContainerType&&(n.layerType=t)}writeTitle(t,n){n.title=t??"Layer"}readTimeExtent(t){return t?g.Z.fromArray(t):null}writeTimeExtent(t,n,y,p){t&&"tables"!==p.layerContainerType&&(t.isEmpty?p?.messages&&p.messages.push(new v.Z("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[y]=t.toArray())}read(t,n){n&&(n.layer=this),(0,E.$)(this,t,y=>super.read(t,y),n)}write(t,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const I=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let j=!!f[I]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===I&&(j=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===I&&(j=!1),!j)return n.messages?.push(new v.Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${I}'`,{layer:this})),null}const y=super.write(t,{...n,layer:this}),p=!!n&&!!n.messages&&!!n.messages.filter(I=>I instanceof v.Z&&"web-document-write:property-required"===I.name).length;return(0,O.jc)(y?.url)?(n?.messages?.push(new v.Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&p?null:y}beforeSave(){}};return(0,o._)([(0,l.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],r.prototype,"id",void 0),(0,o._)([(0,u.r)("id",["id"])],r.prototype,"readId",null),(0,o._)([(0,l.Cb)(c.rT)],r.prototype,"listMode",void 0),(0,o._)([(0,d.c)("listMode")],r.prototype,"writeListMode",null),(0,o._)([(0,l.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:L.C}}}}})],r.prototype,"operationalLayerType",void 0),(0,o._)([(0,d.c)("operationalLayerType")],r.prototype,"writeOperationalLayerType",null),(0,o._)([(0,l.Cb)(c.Oh)],r.prototype,"opacity",void 0),(0,o._)([(0,l.Cb)({type:Boolean,readOnly:!1})],r.prototype,"persistenceEnabled",void 0),(0,o._)([(0,l.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],r.prototype,"title",void 0),(0,o._)([(0,d.c)("title"),(0,d.c)(["web-scene"],"title")],r.prototype,"writeTitle",null),(0,o._)([(0,l.Cb)({type:g.Z,json:{origins:{"web-scene":{write:{layerContainerTypes:L.C}}}}})],r.prototype,"visibilityTimeExtent",void 0),(0,o._)([(0,u.r)("visibilityTimeExtent")],r.prototype,"readTimeExtent",null),(0,o._)([(0,d.c)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[S.z8,S.p2]]}})],r.prototype,"writeTimeExtent",null),(0,o._)([(0,l.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:L.C}}},name:"visibility",write:!0}})],r.prototype,"visible",void 0),r=(0,o._)([(0,M.j)("esri.layers.mixins.OperationalLayer")],r),r}},56956:(G,b,s)=>{s.d(b,{C_:()=>m,HQ:()=>M,Lx:()=>E,Oh:()=>h,PV:()=>L,YI:()=>A,bT:()=>w,iR:()=>u,id:()=>f,rO:()=>c,rT:()=>e,rn:()=>d,u1:()=>a,vg:()=>T});var o=s(76215),g=s(26894),v=s(43814),O=s(19677),l=s(86516),S=s(39437);const A={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:o.C}}},m={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(i,r)=>!r.disablePopup},write:{enabled:!0,writer(i,r,t){r[t]=!i}}}},u={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:o.C}}},M={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:O.w}}},d={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:o.C}}},L={value:null,type:l.Z,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:o.C}}};function E(i){return{type:i,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const C={write:{enabled:!0,layerContainerTypes:o.C},read:!0},h={type:Number,json:{origins:{"web-document":C,"portal-item":{write:!0}}}},w={...h,json:{...h.json,origins:{"web-document":{...C,write:{enabled:!0,layerContainerTypes:o.C,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(i,r,t)=>t&&"service"!==t.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition?.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?(0,S.b)(r.layerDefinition.drawingInfo.transparency):void 0:(0,S.b)(r.drawingInfo.transparency)}}},T={type:g.Z,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(i,r)=>{const t=g.Z.fromJSON(i);return null!=r.spatialReference&&"object"==typeof r.spatialReference&&(t.spatialReference=v.Z.fromJSON(r.spatialReference)),t}}}},read:!1}},f={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},c={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:o.C}}},name:"layerDefinition.minScale",write:!0}},a={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:o.C}}},name:"layerDefinition.maxScale",write:!0}},e={json:{write:{ignoreOrigin:!0,layerContainerTypes:o.C},origins:{"web-map":{read:!1,write:!1}}}}}}]);