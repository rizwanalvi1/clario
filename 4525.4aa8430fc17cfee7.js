"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[4525,318],{19799:(V,B,i)=>{i.d(B,{F:()=>O,M:()=>p});const p={Base64:0,Hex:1,String:2,Raw:3},_=8,y=(1<<_)-1;function x(t,d){const r=(65535&t)+(65535&d);return(t>>16)+(d>>16)+(r>>16)<<16|65535&r}function g(t,d,r,o,s,l){return x(function R(t,d){return t<<d|t>>>32-d}(x(x(d,t),x(o,l)),s),r)}function v(t,d,r,o,s,l,u){return g(d&r|~d&o,t,d,s,l,u)}function m(t,d,r,o,s,l,u){return g(d&o|r&~o,t,d,s,l,u)}function S(t,d,r,o,s,l,u){return g(d^r^o,t,d,s,l,u)}function L(t,d,r,o,s,l,u){return g(r^(d|~o),t,d,s,l,u)}function O(t,d=p.Hex){const r=d||p.Base64,o=function K(t,d){t[d>>5]|=128<<d%32,t[14+(d+64>>>9<<4)]=d;let r=1732584193,o=-271733879,s=-1732584194,l=271733878;for(let u=0;u<t.length;u+=16){const H=r,z=o,Z=s,M=l;r=v(r,o,s,l,t[u],7,-680876936),l=v(l,r,o,s,t[u+1],12,-389564586),s=v(s,l,r,o,t[u+2],17,606105819),o=v(o,s,l,r,t[u+3],22,-1044525330),r=v(r,o,s,l,t[u+4],7,-176418897),l=v(l,r,o,s,t[u+5],12,1200080426),s=v(s,l,r,o,t[u+6],17,-1473231341),o=v(o,s,l,r,t[u+7],22,-45705983),r=v(r,o,s,l,t[u+8],7,1770035416),l=v(l,r,o,s,t[u+9],12,-1958414417),s=v(s,l,r,o,t[u+10],17,-42063),o=v(o,s,l,r,t[u+11],22,-1990404162),r=v(r,o,s,l,t[u+12],7,1804603682),l=v(l,r,o,s,t[u+13],12,-40341101),s=v(s,l,r,o,t[u+14],17,-1502002290),o=v(o,s,l,r,t[u+15],22,1236535329),r=m(r,o,s,l,t[u+1],5,-165796510),l=m(l,r,o,s,t[u+6],9,-1069501632),s=m(s,l,r,o,t[u+11],14,643717713),o=m(o,s,l,r,t[u],20,-373897302),r=m(r,o,s,l,t[u+5],5,-701558691),l=m(l,r,o,s,t[u+10],9,38016083),s=m(s,l,r,o,t[u+15],14,-660478335),o=m(o,s,l,r,t[u+4],20,-405537848),r=m(r,o,s,l,t[u+9],5,568446438),l=m(l,r,o,s,t[u+14],9,-1019803690),s=m(s,l,r,o,t[u+3],14,-187363961),o=m(o,s,l,r,t[u+8],20,1163531501),r=m(r,o,s,l,t[u+13],5,-1444681467),l=m(l,r,o,s,t[u+2],9,-51403784),s=m(s,l,r,o,t[u+7],14,1735328473),o=m(o,s,l,r,t[u+12],20,-1926607734),r=S(r,o,s,l,t[u+5],4,-378558),l=S(l,r,o,s,t[u+8],11,-2022574463),s=S(s,l,r,o,t[u+11],16,1839030562),o=S(o,s,l,r,t[u+14],23,-35309556),r=S(r,o,s,l,t[u+1],4,-1530992060),l=S(l,r,o,s,t[u+4],11,1272893353),s=S(s,l,r,o,t[u+7],16,-155497632),o=S(o,s,l,r,t[u+10],23,-1094730640),r=S(r,o,s,l,t[u+13],4,681279174),l=S(l,r,o,s,t[u],11,-358537222),s=S(s,l,r,o,t[u+3],16,-722521979),o=S(o,s,l,r,t[u+6],23,76029189),r=S(r,o,s,l,t[u+9],4,-640364487),l=S(l,r,o,s,t[u+12],11,-421815835),s=S(s,l,r,o,t[u+15],16,530742520),o=S(o,s,l,r,t[u+2],23,-995338651),r=L(r,o,s,l,t[u],6,-198630844),l=L(l,r,o,s,t[u+7],10,1126891415),s=L(s,l,r,o,t[u+14],15,-1416354905),o=L(o,s,l,r,t[u+5],21,-57434055),r=L(r,o,s,l,t[u+12],6,1700485571),l=L(l,r,o,s,t[u+3],10,-1894986606),s=L(s,l,r,o,t[u+10],15,-1051523),o=L(o,s,l,r,t[u+1],21,-2054922799),r=L(r,o,s,l,t[u+8],6,1873313359),l=L(l,r,o,s,t[u+15],10,-30611744),s=L(s,l,r,o,t[u+6],15,-1560198380),o=L(o,s,l,r,t[u+13],21,1309151649),r=L(r,o,s,l,t[u+4],6,-145523070),l=L(l,r,o,s,t[u+11],10,-1120210379),s=L(s,l,r,o,t[u+2],15,718787259),o=L(o,s,l,r,t[u+9],21,-343485551),r=x(r,H),o=x(o,z),s=x(s,Z),l=x(l,M)}return[r,o,s,l]}(function J(t){const d=[];for(let r=0,o=t.length*_;r<o;r+=_)d[r>>5]|=(t.charCodeAt(r/_)&y)<<r%32;return d}(t),t.length*_);switch(r){case p.Raw:return o;case p.Hex:return function j(t){const d="0123456789abcdef",r=[];for(let o=0,s=4*t.length;o<s;o++)r.push(d.charAt(t[o>>2]>>o%4*8+4&15)+d.charAt(t[o>>2]>>o%4*8&15));return r.join("")}(o);case p.String:return function b(t){const d=[];for(let r=0,o=32*t.length;r<o;r+=_)d.push(String.fromCharCode(t[r>>5]>>>r%32&y));return d.join("")}(o);case p.Base64:return function E(t){const o=[];for(let s=0,l=4*t.length;s<l;s+=3){const u=(t[s>>2]>>s%4*8&255)<<16|(t[s+1>>2]>>(s+1)%4*8&255)<<8|t[s+2>>2]>>(s+2)%4*8&255;for(let H=0;H<4;H++)o.push(8*s+6*H>32*t.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(u>>6*(3-H)&63))}return o.join("")}(o)}}},74092:(V,B,i)=>{i.r(B),i.d(B,{default:()=>ee});var U,p=i(15861),_=i(50484),y=i(57964),x=i(4703),J=i(3233),b=i(79412),j=i(77675),E=i(80543),v=(i(14007),i(65311),i(62185)),m=i(10141),S=i(42214),L=i(95060),K=i(29674),O=i(4257),t=i(27426),d=i(80099),r=i(70509),o=i(29717),s=i(38866),l=i(56956),u=i(46637),H=i(66476),z=i(83944),Z=i(89317),M=i(6785),I=(i(2189),i(34222)),a=i(23206),c=i(7547),f=i(83821),C=i(5391);let A=U=class extends Z.wq{constructor(h){super(h),this.geometry=null,this.type="clip"}writeGeometry(h,D,N,W){if(W.layer?.spatialReference&&!W.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,f.canProjectWithoutEngine)(h.spatialReference,W.layer.spatialReference))return void(W?.messages&&W.messages.push(new a.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:W.layer.spatialReference,context:W})));const Q=new C.Z;(0,f.projectPolygon)(h,Q,W.layer.spatialReference),D[N]=Q.toJSON(W)}else D[N]=h.toJSON(W);delete D[N].spatialReference}clone(){return new U({geometry:(0,I.d9)(this.geometry),type:this.type})}};(0,_._)([(0,E.Cb)({type:C.Z}),(0,S.B)()],A.prototype,"geometry",void 0),(0,_._)([(0,c.c)(["web-scene","portal-item"],"geometry")],A.prototype,"writeGeometry",null),(0,_._)([(0,E.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,S.B)()],A.prototype,"type",void 0),A=U=(0,_._)([(0,m.j)("esri.layers.support.SceneModification")],A);const F=A;var T;let $=T=class extends((0,Z.eC)(z.Z.ofType(F))){constructor(h){super(h),this.url=null}clone(){return new T({url:this.url,items:this.items.map(h=>h.clone())})}toJSON(h){return this.toArray().map(D=>D.toJSON(h)).filter(D=>!!D.geometry)}static fromJSON(h,D){const N=new T;for(const W of h)N.add(F.fromJSON(W,D));return N}static fromUrl(h,D,N){return(0,p.Z)(function*(){const W={url:(0,M.mN)(h),origin:"service"},Q=yield(0,H.Z)(h,{responseType:"json",signal:N?.signal}),te=D.toJSON(),w=[];for(const k of Q.data)w.push(F.fromJSON({...k,geometry:{...k.geometry,spatialReference:te}},W));return new T({url:h,items:w})})()}};(0,_._)([(0,E.Cb)({type:String})],$.prototype,"url",void 0),$=T=(0,_._)([(0,m.j)("esri.layers.support.SceneModifications")],$);const X=$;var Y=i(43688),q=i(19677);let G=class extends((0,s.Vt)((0,O.Y)((0,d.q)((0,r.I)((0,o.M)((0,J.R)((0,t.N)((0,K.V)(L.Z))))))))){constructor(...h){super(...h),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null}initialize(){this.addHandles((0,j.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,j.Z_))}normalizeCtorArgs(h,D){return"string"==typeof h?{url:h,...D}:h}readModifications(h,D,N){this._modificationsSource={url:(0,q.f)(h,N),context:N}}set elevationInfo(h){this._set("elevationInfo",h),this._validateElevationInfo()}load(h){var D=this;return(0,p.Z)(function*(){return D.addResolvingPromise(D._doLoad(h)),D})()}_doLoad(h){var D=this;return(0,p.Z)(function*(){const N=h?.signal;try{yield D.loadFromPortal({supportedTypes:["Scene Service"]},h)}catch(W){(0,b.r9)(W)}if(yield D._fetchService(N),null!=D._modificationsSource){const W=yield X.fromUrl(D._modificationsSource.url,D.spatialReference,h);D.setAtOrigin("modifications",W,D._modificationsSource.context.origin),D._modificationsSource=null}yield D._fetchIndexAndUpdateExtent(D.nodePages,N)})()}beforeSave(){if(null!=this._modificationsSource)return this.load().then(()=>{},()=>{})}saveAs(h,D){var N=this;return(0,p.Z)(function*(){return N._debouncedSaveOperations(s.xp.SAVE_AS,{...D,getTypeKeywords:()=>N._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},h)})()}save(){var h=this;return(0,p.Z)(function*(){const D={getTypeKeywords:()=>h._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return h._debouncedSaveOperations(s.xp.SAVE,D)})()}validateLayer(h){if(h.layerType&&"IntegratedMesh"!==h.layerType)throw new y.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:h.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new y.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new y.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(){const h=this.elevationInfo,D="Integrated mesh layers";(0,Y.LR)(x.Z.getLogger(this),(0,Y.Uy)(D,"absolute-height",h)),(0,Y.LR)(x.Z.getLogger(this),(0,Y.kf)(D,h))}};(0,_._)([(0,E.Cb)({type:String,readOnly:!0})],G.prototype,"geometryType",void 0),(0,_._)([(0,E.Cb)({type:["show","hide"]})],G.prototype,"listMode",void 0),(0,_._)([(0,E.Cb)({type:["IntegratedMeshLayer"]})],G.prototype,"operationalLayerType",void 0),(0,_._)([(0,E.Cb)({json:{read:!1},readOnly:!0})],G.prototype,"type",void 0),(0,_._)([(0,E.Cb)({type:u.U4,readOnly:!0})],G.prototype,"nodePages",void 0),(0,_._)([(0,E.Cb)({type:[u.QI],readOnly:!0})],G.prototype,"materialDefinitions",void 0),(0,_._)([(0,E.Cb)({type:[u.Yh],readOnly:!0})],G.prototype,"textureSetDefinitions",void 0),(0,_._)([(0,E.Cb)({type:[u.H3],readOnly:!0})],G.prototype,"geometryDefinitions",void 0),(0,_._)([(0,E.Cb)({readOnly:!0})],G.prototype,"serviceUpdateTimeStamp",void 0),(0,_._)([(0,E.Cb)({type:X}),(0,S.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],G.prototype,"modifications",void 0),(0,_._)([(0,v.r)(["web-scene","portal-item"],"modifications")],G.prototype,"readModifications",null),(0,_._)([(0,E.Cb)(l.PV)],G.prototype,"elevationInfo",null),(0,_._)([(0,E.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],G.prototype,"path",void 0),G=(0,_._)([(0,m.j)("esri.layers.IntegratedMeshLayer")],G);const ee=G},29674:(V,B,i)=>{i.d(B,{V:()=>E});var p=i(50484),_=i(80543),b=(i(14007),i(4703),i(65311),i(10141));const E=R=>{let g=class extends R{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function j(R){return"portalItem"in R}(this)?this.portalItem?.apiKey:null}set apiKey(v){null!=v?this._override("apiKey",v):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,p._)([(0,_.Cb)({type:String})],g.prototype,"apiKey",null),g=(0,p._)([(0,b.j)("esri.layers.mixins.APIKeyMixin")],g),g}},4257:(V,B,i)=>{i.d(B,{Y:()=>E});var p=i(50484),_=i(4703),y=i(80543),b=(i(14007),i(65311),i(10141)),j=i(89713);const E=R=>{let g=class extends R{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const v=(0,j.Qc)(this.url);if(null!=v&&v.title)return v.title}return this._get("title")||""}set title(v){this._set("title",v)}set url(v){this._set("url",(0,j.Nm)(v,_.Z.getLogger(this)))}};return(0,p._)([(0,y.Cb)()],g.prototype,"title",null),(0,p._)([(0,y.Cb)({type:String})],g.prototype,"url",null),g=(0,p._)([(0,b.j)("esri.layers.mixins.ArcGISService")],g),g}},27426:(V,B,i)=>{i.d(B,{N:()=>j});var p=i(50484),_=i(80543),b=(i(14007),i(4703),i(65311),i(10141));const j=E=>{let R=class extends E{constructor(){super(...arguments),this.customParameters=null}};return(0,p._)([(0,_.Cb)({type:Object,json:{write:{overridePolicy:g=>({enabled:!!(g&&Object.keys(g).length>0)})}}})],R.prototype,"customParameters",void 0),R=(0,p._)([(0,b.j)("esri.layers.mixins.CustomParametersMixin")],R),R}},70509:(V,B,i)=>{i.d(B,{I:()=>u});var p=i(15861),_=i(50484),y=i(11931),x=i(26152),J=i(66476),b=i(37636),j=i(57964),E=i(4703),R=i(51172),g=i(79412),v=i(6785),m=i(80543),K=(i(14007),i(65311),i(62185)),O=i(10141),t=i(7547),d=i(85971),r=i(61018),o=i(27835),s=i(57437),l=i(50318);const u=z=>{let Z=class extends z{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,R.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(M){M!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",M))}readPortalItem(M,P,I){if(P.itemId)return new o.default({id:P.itemId,portal:I?.portal})}writePortalItem(M,P){M?.id&&(P.itemId=M.id)}loadFromPortal(M,P){var I=this;return(0,p.Z)(function*(){if(I.portalItem?.id)try{const{load:a}=yield Promise.all([i.e(2772),i.e(8592),i.e(6964)]).then(i.bind(i,36964));return(0,g.k_)(P),yield a({instance:I,supportedTypes:M.supportedTypes,validateItem:M.validateItem,supportsData:M.supportsData,layerModuleTypeMap:M.layerModuleTypeMap},P)}catch(a){throw(0,g.D_)(a)||E.Z.getLogger(I).warn(`Failed to load layer (${I.title}, ${I.id}) portal item (${I.portalItem.id})\n  ${a}`),a}})()}finishLoadEditablePortalLayer(M){var P=this;return(0,p.Z)(function*(){P._set("userHasEditingPrivileges",yield P._fetchUserHasEditingPrivileges(M).catch(I=>((0,g.r9)(I),!0)))})()}setUserPrivileges(M,P){var I=this;return(0,p.Z)(function*(){if(!y.default.userPrivilegesApplied)return I.finishLoadEditablePortalLayer(P);if(I.url)try{const{features:{edit:a,fullEdit:c},content:{updateItem:f}}=yield I._fetchUserPrivileges(M,P);I._set("userHasEditingPrivileges",a),I._set("userHasFullEditingPrivileges",c),I._set("userHasUpdateItemPrivileges",f)}catch(a){(0,g.r9)(a)}})()}_fetchUserPrivileges(M,P){var I=this;return(0,p.Z)(function*(){let a=I.portalItem;if(!M||!a||!a.loaded||a.sourceUrl)return I._fetchFallbackUserPrivileges(P);const c=M===a.id;if(c&&a.portal.user)return(0,l.Ss)(a);let f,C;if(c)f=a.portal.url;else try{f=yield(0,d.oP)(I.url,P)}catch(T){(0,g.r9)(T)}if(!f||!(0,v.Zo)(f,a.portal.url))return I._fetchFallbackUserPrivileges(P);try{const T=null!=P?P.signal:null;C=yield x.id?.getCredential(`${f}/sharing`,{prompt:!1,signal:T})}catch(T){(0,g.r9)(T)}if(!C)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(c?yield a.reload():(a=new o.default({id:M,portal:{url:f}}),yield a.load(P)),a.portal.user)return(0,l.Ss)(a)}catch(T){(0,g.r9)(T)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(M){var P=this;return(0,p.Z)(function*(){let I=!0;try{I=yield P._fetchUserHasEditingPrivileges(M)}catch(a){(0,g.r9)(a)}return{features:{edit:I,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(M){var P=this;return(0,p.Z)(function*(){const I=P.url?x.id?.findCredential(P.url):null;if(!I)return!0;const a=H.credential===I?H.user:yield P._fetchEditingUser(M);return H.credential=I,H.user=a,null==a?.privileges||a.privileges.includes("features:user:edit")})()}_fetchEditingUser(M){var P=this;return(0,p.Z)(function*(){const I=P.portalItem?.portal?.user;if(I)return I;const a=x.id?.findServerInfo(P.url??"");if(!a?.owningSystemUrl)return null;const c=`${a.owningSystemUrl}/sharing/rest`,f=r.Z.getDefault();if(f&&f.loaded&&(0,v.Fv)(f.restUrl)===(0,v.Fv)(c))return f.user;const C=`${c}/community/self`,U=null!=M?M.signal:null,A=yield(0,b.q6)((0,J.Z)(C,{authMode:"no-prompt",query:{f:"json"},signal:U}));return A.ok?s.Z.fromJSON(A.value.data):null})()}read(M,P){P&&(P.layer=this),super.read(M,P)}write(M,P){const I=P?.portal,a=this.portalItem?.id&&(this.portalItem.portal||r.Z.getDefault());return I&&a&&!(0,v.tm)(a.restUrl,I.restUrl)?(P.messages&&P.messages.push(new j.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(M,{...P,layer:this})}};return(0,_._)([(0,m.Cb)({type:o.default})],Z.prototype,"portalItem",null),(0,_._)([(0,K.r)("web-document","portalItem",["itemId"])],Z.prototype,"readPortalItem",null),(0,_._)([(0,t.c)("web-document","portalItem",{itemId:{type:String}})],Z.prototype,"writePortalItem",null),(0,_._)([(0,m.Cb)({clonable:!1})],Z.prototype,"resourceReferences",void 0),(0,_._)([(0,m.Cb)({type:Boolean,readOnly:!0})],Z.prototype,"userHasEditingPrivileges",void 0),(0,_._)([(0,m.Cb)({type:Boolean,readOnly:!0})],Z.prototype,"userHasFullEditingPrivileges",void 0),(0,_._)([(0,m.Cb)({type:Boolean,readOnly:!0})],Z.prototype,"userHasUpdateItemPrivileges",void 0),Z=(0,_._)([(0,O.j)("esri.layers.mixins.PortalLayer")],Z),Z},H={credential:null,user:null}},46637:(V,B,i)=>{i.d(B,{H3:()=>d,QI:()=>m,U4:()=>R,Yh:()=>L});var p=i(50484),_=i(89317),y=i(80543),j=(i(14007),i(4703),i(65311),i(21070)),E=i(10141);let R=class extends _.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,p._)([(0,y.Cb)({type:Number})],R.prototype,"nodesPerPage",void 0),(0,p._)([(0,y.Cb)({type:Number})],R.prototype,"rootIndex",void 0),(0,p._)([(0,y.Cb)({type:String})],R.prototype,"lodSelectionMetricType",void 0),R=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],R);let g=class extends _.wq{constructor(){super(...arguments),this.factor=1}};(0,p._)([(0,y.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],g.prototype,"id",void 0),(0,p._)([(0,y.Cb)({type:Number})],g.prototype,"factor",void 0),g=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],g);let v=class extends _.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,p._)([(0,y.Cb)({type:[Number]})],v.prototype,"baseColorFactor",void 0),(0,p._)([(0,y.Cb)({type:g})],v.prototype,"baseColorTexture",void 0),(0,p._)([(0,y.Cb)({type:g})],v.prototype,"metallicRoughnessTexture",void 0),(0,p._)([(0,y.Cb)({type:Number})],v.prototype,"metallicFactor",void 0),(0,p._)([(0,y.Cb)({type:Number})],v.prototype,"roughnessFactor",void 0),v=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],v);let m=class extends _.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,p._)([(0,j.J)({opaque:"opaque",mask:"mask",blend:"blend"})],m.prototype,"alphaMode",void 0),(0,p._)([(0,y.Cb)({type:Number})],m.prototype,"alphaCutoff",void 0),(0,p._)([(0,y.Cb)({type:Boolean})],m.prototype,"doubleSided",void 0),(0,p._)([(0,j.J)({none:"none",back:"back",front:"front"})],m.prototype,"cullFace",void 0),(0,p._)([(0,y.Cb)({type:g})],m.prototype,"normalTexture",void 0),(0,p._)([(0,y.Cb)({type:g})],m.prototype,"occlusionTexture",void 0),(0,p._)([(0,y.Cb)({type:g})],m.prototype,"emissiveTexture",void 0),(0,p._)([(0,y.Cb)({type:[Number]})],m.prototype,"emissiveFactor",void 0),(0,p._)([(0,y.Cb)({type:v})],m.prototype,"pbrMetallicRoughness",void 0),m=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],m);let S=class extends _.wq{};(0,p._)([(0,y.Cb)({type:String,json:{read:{source:["name","index"],reader:(r,o)=>r??`${o.index}`}}})],S.prototype,"name",void 0),(0,p._)([(0,j.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],S.prototype,"format",void 0),S=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],S);let L=class extends _.wq{constructor(){super(...arguments),this.atlas=!1}};(0,p._)([(0,y.Cb)({type:[S]})],L.prototype,"formats",void 0),(0,p._)([(0,y.Cb)({type:Boolean})],L.prototype,"atlas",void 0),L=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],L);let K=class extends _.wq{};(0,p._)([(0,j.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],K.prototype,"type",void 0),(0,p._)([(0,y.Cb)({type:Number})],K.prototype,"component",void 0),K=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],K);let O=class extends _.wq{};(0,p._)([(0,j.J)({draco:"draco"})],O.prototype,"encoding",void 0),(0,p._)([(0,y.Cb)({type:[String]})],O.prototype,"attributes",void 0),O=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],O);let t=class extends _.wq{constructor(){super(...arguments),this.offset=0}};(0,p._)([(0,y.Cb)({type:Number})],t.prototype,"offset",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"position",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"normal",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"uv0",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"color",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"uvRegion",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"featureId",void 0),(0,p._)([(0,y.Cb)({type:K})],t.prototype,"faceRange",void 0),(0,p._)([(0,y.Cb)({type:O})],t.prototype,"compressedAttributes",void 0),t=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],t);let d=class extends _.wq{};(0,p._)([(0,j.J)({triangle:"triangle"})],d.prototype,"topology",void 0),(0,p._)([(0,y.Cb)()],d.prototype,"geometryBuffers",void 0),d=(0,p._)([(0,E.j)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],d)},50318:(V,B,i)=>{i.d(B,{$o:()=>m,Fj:()=>R,IW:()=>v,Ss:()=>K,_$:()=>E,ck:()=>g,hz:()=>L,qj:()=>j});var p=i(15861),_=i(83821),y=i(43814),x=i(48230);function b(){return(b=(0,p.Z)(function*(O){const t=O.spatialReference;if(t.isWGS84)return O.clone();if(t.isWebMercator)return(0,x.Sx)(O);const d=y.Z.WGS84;return yield(0,_.initializeProjection)(t,d),(0,_.project)(O,d)})).apply(this,arguments)}function j(O,t){if(!E(O,t)){const d=O.typeKeywords;d?d.push(t):O.typeKeywords=[t]}}function E(O,t){return!!O.typeKeywords?.includes(t)}function R(O){return E(O,L.HOSTED_SERVICE)}function g(O,t){const d=O.typeKeywords;if(d){const r=d.indexOf(t);r>-1&&d.splice(r,1)}}function v(O,t,d){d?j(O,t):g(O,t)}function m(O){return S.apply(this,arguments)}function S(){return S=(0,p.Z)(function*(O){const t=O.clone().normalize();let d;if(t.length>1)for(const r of t)d?r.width>d.width&&(d=r):d=r;else d=t[0];return function J(O){return b.apply(this,arguments)}(d)}),S.apply(this,arguments)}const L={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function K(O){const{portal:t,isOrgItem:d,itemControl:r}=O,o=t.user?.privileges;let s=!o||o.includes("features:user:edit"),l=!!d&&!!o?.includes("features:user:fullEdit");const u="update"===r||"admin"===r;return u?l=s=!0:l&&(s=!0),{features:{edit:s,fullEdit:l},content:{updateItem:u}}}},43688:(V,B,i)=>{i.d(B,{LR:()=>Z,Uy:()=>u,VW:()=>b,Wb:()=>H,fm:()=>M,kf:()=>z}),i(49602);var _=i(1678);function b(a,c){return function x(a,c){return c?.mode?c.mode:function y(a){return a?P:I}(a).mode}(null!=a&&a.hasZ,c)}function u(a,c,f){return f&&f.mode!==c?`${a} only support ${c} elevation mode`:null}function H(a,c,f){return f?.mode===c?`${a} do not support ${c} elevation mode`:null}function z(a,c){return null!=c?.featureExpressionInfo&&"0"!==c.featureExpressionInfo.expression?`${a} do not support featureExpressionInfo`:null}function Z(a,c){c&&a.warn(".elevationInfo=",c)}function M(a){return(a?.offset??0)*(0,_.Z7)(a?.unit)}const P={mode:"absolute-height",offset:0},I={mode:"on-the-ground",offset:null}}}]);