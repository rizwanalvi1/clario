"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[4485],{14485:(yn,ye,h)=>{h.r(ye),h.d(ye,{executeScript:()=>gn,extend:()=>Ce,functionHelper:()=>hn});var p=h(15861),Ie=h(31816),me=h(66224),B=h(33692),x=h(70430),o=h(53570),_e=h(860),m=h(59243),a=h(89018),Me=h(42442),Ae=h(16049),Re=h(26484),Ze=h(56212),Oe=h(96479),Fe=h(89325),De=h(18780),Pe=h(40801),we=h(32184),ve=h(43814);const H=100;function C(n,e){return I.apply(this,arguments)}function I(){return(I=(0,p.Z)(function*(n,e){const r=[];for(let t=0;t<e.arguments.length;t++)r.push(yield s(n,e.arguments[t]));return r})).apply(this,arguments)}function w(n,e,r){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(function*(n,e,r){return!0===e.preparsed?r(n,null,e.arguments):r(n,e,yield C(n,e))})).apply(this,arguments)}class Le extends m.Rm{constructor(e,r){super(),this.definition=null,this.context=null,this.definition=e,this.context=r}createFunction(e){return(...r)=>{const t={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,timeZone:this.context.timeZone??null,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(t.depthCounter.depth>64)throw new o.aV(e,o.rH.MaximumCallDepth,null);return de(this.definition,t,r,null)}}call(e,r){return V(e,r,(t,l,i)=>{const u={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(u.depthCounter.depth>64)throw new o.aV(e,o.rH.MaximumCallDepth,r);return de(this.definition,u,i,r)})}marshalledCall(e,r,t,l){var i=this;return l(e,r,function(){var u=(0,p.Z)(function*(c,f,d){const y={spatialReference:e.spatialReference,globalScope:t.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{}};return d=d.map(v=>!(0,a.i)(v)||v instanceof m.Vg?v:(0,m.aq)(v,e,l)),(0,m.aq)(yield de(i.definition,y,d,r),t,l)});return function(c,f,d){return u.apply(this,arguments)}}())}}class b extends Ie.P{constructor(e){super(e)}global(e){var r=this;return(0,p.Z)(function*(){const t=r.executingContext.globalScope[e.toLowerCase()];if(t.valueset||(t.value=yield s(r.executingContext,t.node),t.valueset=!0),(0,a.i)(t.value)&&!(t.value instanceof m.Vg)){const l=new m.Vg;l.fn=t.value,l.parameterEvaluator=V,l.context=r.executingContext,t.value=l}return t.value})()}setGlobal(e,r){if((0,a.i)(r))throw new o.aV(null,o.rH.AssignModuleFunction,null);this.executingContext.globalScope[e.toLowerCase()]={value:r,valueset:!0,node:null}}hasGlobal(e){return void 0===this.executingContext.exports[e]&&(e=e.toLowerCase()),void 0!==this.executingContext.exports[e]}loadModule(e){var r=this;return(0,p.Z)(function*(){let t=e.spatialReference;null==t&&(t=new ve.Z({wkid:102100})),r.moduleScope=Ee({},e.customfunctions,e.timeZone),r.executingContext={spatialReference:t,services:e.services,libraryResolver:new me.s(e.libraryResolver._moduleSingletons,r.source.syntax.loadedModules),exports:{},abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:r.moduleScope,console:e.console??Be,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},yield s(r.executingContext,r.source.syntax)})()}}function V(n,e,r){return A.apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(n,e,r){return!0===e.preparsed?r(n,null,e.arguments):r(n,e,yield C(n,e))})).apply(this,arguments)}function s(n,e,r){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(function*(n,e,r){if(e.breakpoint&&!0!==r)return yield e.breakpoint(),s(n,e,!0);try{switch(e?.type){case"VariableDeclarator":return yield function rn(n,e){return ee.apply(this,arguments)}(n,e);case"ImportDeclaration":return yield function en(n,e){return X.apply(this,arguments)}(n,e);case"ExportNamedDeclaration":return yield function nn(n,e){return $.apply(this,arguments)}(n,e);case"VariableDeclaration":return yield Ve(n,e,0);case"BlockStatement":case"Program":return yield function Xe(n,e){return z.apply(this,arguments)}(n,e);case"FunctionDeclaration":return yield function qe(n,e){return Q.apply(this,arguments)}(n,e);case"ReturnStatement":return yield function $e(n,e){return J.apply(this,arguments)}(n,e);case"IfStatement":return yield function Qe(n,e){return k.apply(this,arguments)}(n,e);case"ExpressionStatement":return yield function Je(n,e){return G.apply(this,arguments)}(n,e);case"UpdateExpression":return yield function ze(n,e){return N.apply(this,arguments)}(n,e);case"AssignmentExpression":return yield function Ye(n,e){return W.apply(this,arguments)}(n,e);case"ForStatement":return yield function Ne(n,e){try{return null!==e.init?s(n,e.init).then(()=>new Promise((r,t)=>{E(n,e,{testResult:!0,lastAction:a.B},l=>{r(l)},l=>{t(l)},0)})):new Promise((r,t)=>{E(n,e,{testResult:!0,lastAction:a.B},l=>{r(l)},l=>{t(l)},0)})}catch(r){return Promise.reject(r)}}(n,e);case"WhileStatement":return yield function Te(n,e){return F.apply(this,arguments)}(n,e);case"ForInStatement":return yield function ke(n,e){return U.apply(this,arguments)}(n,e);case"BreakStatement":return a.C;case"EmptyStatement":return a.B;case"ContinueStatement":return a.D;case"TemplateElement":return yield function cn(n,e){return se.apply(this,arguments)}(n,e);case"TemplateLiteral":return yield function pn(n,e){return ce.apply(this,arguments)}(n,e);case"Identifier":return yield le(n,e);case"MemberExpression":return yield function tn(n,e){return ne.apply(this,arguments)}(n,e);case"Literal":return e.value;case"CallExpression":return yield function sn(n,e){return ue.apply(this,arguments)}(n,e);case"UnaryExpression":return yield function on(n,e){return re.apply(this,arguments)}(n,e);case"BinaryExpression":return yield function ln(n,e){return oe.apply(this,arguments)}(n,e);case"LogicalExpression":return yield function un(n,e){return ae.apply(this,arguments)}(n,e);case"ArrayExpression":return yield function an(n,e){return te.apply(this,arguments)}(n,e);case"ObjectExpression":return yield function je(n,e){return Z.apply(this,arguments)}(n,e);case"Property":return yield function Ke(n,e){return O.apply(this,arguments)}(n,e);default:throw new o.aV(n,o.rH.Unrecognized,e)}}catch(t){throw(0,o.VO)(n,e,t)}}),R.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(n,e){const r=[];for(let u=0;u<e.properties.length;u++)r[u]=yield s(n,e.properties[u]);const t={},l=new Map;for(let u=0;u<r.length;u++){const c=r[u];if((0,a.i)(c.value))throw new o.aV(n,o.rH.NoFunctionInDictionary,e);if(!1===(0,a.c)(c.key))throw new o.aV(n,o.rH.KeyMustBeString,e);let f=c.key.toString();const d=f.toLowerCase();l.has(d)?f=l.get(d):l.set(d,f),t[f]=c.value===a.B?null:c.value}const i=new x.Z(t);return i.immutable=!1,i})).apply(this,arguments)}function O(){return(O=(0,p.Z)(function*(n,e){const r=yield s(n,e.value);return"Identifier"===e.key.type?{key:e.key.name,value:r}:{key:yield s(n,e.key),value:r}})).apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(n,e){const r={testResult:!0,lastAction:a.B};if(r.testResult=yield s(n,e.test),!1===r.testResult)return a.B;if(!0!==r.testResult)throw new o.aV(n,o.rH.BooleanConditionRequired,e);for(;!0===r.testResult&&(r.lastAction=yield s(n,e.body),r.lastAction!==a.C)&&!(r.lastAction instanceof a.z);)if(r.testResult=yield s(n,e.test),!0!==r.testResult&&!1!==r.testResult)throw new o.aV(n,o.rH.BooleanConditionRequired,e);return r.lastAction instanceof a.z?r.lastAction:a.B})).apply(this,arguments)}function xe(n,e,r){return D.apply(this,arguments)}function D(){return(D=(0,p.Z)(function*(n,e,r){const t=yield s(n,e.body);return r.lastAction=t,r.lastAction===a.C||r.lastAction instanceof a.z?(r.testResult=!1,r):(null!==e.update&&(yield s(n,e.update)),r)})).apply(this,arguments)}function P(){return(P=(0,p.Z)(function*(n,e,r){if(null!==e.test){const t=yield s(n,e.test);if(!0===n.abortSignal?.aborted)throw new o.aV(n,o.rH.Cancelled,e);if(r.testResult=t,!1===r.testResult)return r;if(!0!==r.testResult)throw new o.aV(n,o.rH.BooleanConditionRequired,e);return xe(n,e,r)}return xe(n,e,r)})).apply(this,arguments)}function E(n,e,r,t,l,i){try{(function Ue(n,e,r){return P.apply(this,arguments)})(n,e,r).then(()=>{try{!0===r.testResult?++i>H?(i=0,setTimeout(()=>{E(n,e,r,t,l,i)},0)):E(n,e,r,t,l,i):t(r.lastAction instanceof a.z?r.lastAction:a.B)}catch(u){l(u)}},u=>{l(u)})}catch(u){l(u)}}function L(n,e,r,t,l,i,u,c,f,d){try{if(t<=i)return void c(a.B);l.value="k"===u?r[i]:i,s(n,e.body).then(y=>{try{y instanceof a.z?c(y):y===a.C?c(a.B):++d>H?(d=0,setTimeout(()=>{L(n,e,r,t,l,i+1,u,c,f,d)},0)):L(n,e,r,t,l,i+1,u,c,f,d)}catch(v){f(v)}},y=>{f(y)})}catch(y){f(y)}}function j(n,e,r,t,l,i,u,c,f){try{if(r.length()<=l)return void u(a.B);t.value="k"===i?r.get(l):l,s(n,e.body).then(d=>{d instanceof a.z?u(d):d===a.C?u(a.B):++f>H?(f=0,setTimeout(()=>{j(n,e,r,t,l+1,i,u,c,f)},0)):j(n,e,r,t,l+1,i,u,c,f)},d=>{c(d)})}catch(d){c(d)}}function K(n,e,r,t,l,i){try{if(void 0===i&&(i="i"),0===r.length)return void t.resolve(a.B);L(n,e,r,r.length,l,0,i,u=>{t.resolve(u)},u=>{t.reject(u)},0)}catch(u){t.reject(u)}}function We(n,e,r,t,l,i){try{if(void 0===i&&(i="i"),0===r.length)return void t.resolve(a.B);j(n,e,r,l,0,i,u=>{t.resolve(u)},u=>{t.reject(u)},0)}catch(u){t.reject(u)}}function T(n,e,r,t,l,i,u,c){try{n.next().then(f=>{try{if(null===f)i(a.B);else{const d=_e.Z.createFromGraphicLikeObject(f.geometry,f.attributes,t,e.timeZone);d._underlyingGraphic=f,l.value=d,s(e,r.body).then(y=>{try{y===a.C?i(a.B):y instanceof a.z?i(y):++c>H?(c=0,setTimeout(()=>{T(n,e,r,t,l,i,u,c)},0)):T(n,e,r,t,l,i,u,c)}catch(v){u(v)}},y=>{u(y)})}}catch(d){u(d)}},f=>{u(f)})}catch(f){u(f)}}function U(){return(U=(0,p.Z)(function*(n,e){return new Promise((r,t)=>{s(n,e.right).then(l=>{try{let i=null;i="VariableDeclaration"===e.left.type?s(n,e.left):Promise.resolve(),i.then(()=>{try{let u="";if("VariableDeclaration"===e.left.type){const f=e.left.declarations[0].id;"Identifier"===f.type&&(u=f.name)}else"Identifier"===e.left.type&&(u=e.left.name);if(!u)throw new o.aV(n,o.rH.InvalidIdentifier,e);u=u.toLowerCase();let c=null;if(null!=n.localScope&&void 0!==n.localScope[u]&&(c=n.localScope[u]),null===c&&void 0!==n.globalScope[u]&&(c=n.globalScope[u]),null===c)return void t(new o.aV(n,o.rH.InvalidIdentifier,e));(0,a.o)(l)||(0,a.c)(l)?K(n,e,l,{reject:t,resolve:r},c):(0,a.q)(l)?We(n,e,l,{reject:t,resolve:r},c):l instanceof x.Z||(0,a.r)(l)?function Ge(n,e,r,t,l){try{K(n,e,r.keys(),t,l,"k")}catch(i){t.reject(i)}}(n,e,l,{reject:t,resolve:r},c):(0,a.u)(l)?T(l.iterator(n.abortSignal),n,e,l,c,f=>{r(f)},f=>{t(f)},0):K(n,e,[],{reject:t,resolve:r},c)}catch(u){t(u)}},t)}catch(i){t(i)}},t)})})).apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(n,e){const r=e.argument;if("MemberExpression"===r.type){const i={t:null},u=yield s(n,r.object);let c=null;i.t=u,!0===r.computed?c=yield s(n,r.property):"Identifier"===r.property.type&&(c=r.property.name);const f=i.t;let d;if((0,a.o)(f)){if(!(0,a.b)(c))throw new o.aV(n,o.rH.ArrayAccessorMustBeNumber,e);if(c<0&&(c=f.length+c),c<0||c>=f.length)throw new o.aV(n,o.rH.OutOfBounds,e);d=(0,a.g)(f[c]),f[c]="++"===e.operator?d+1:d-1}else if(f instanceof x.Z){if(!1===(0,a.c)(c))throw new o.aV(n,o.rH.KeyAccessorMustBeString,e);if(!0!==f.hasField(c))throw new o.aV(n,o.rH.FieldNotFound,e,{key:c});d=(0,a.g)(f.field(c)),f.setField(c,"++"===e.operator?d+1:d-1)}else if(f instanceof b){if(!1===(0,a.c)(c))throw new o.aV(n,o.rH.ModuleAccessorMustBeString,e);if(!0!==f.hasGlobal(c))throw new o.aV(n,o.rH.ModuleExportNotFound,e);d=(0,a.g)(yield f.global(c)),f.setGlobal(c,"++"===e.operator?d+1:d-1)}else{if(!(0,a.r)(f))throw(0,a.q)(f)?new o.aV(n,o.rH.Immutable,e):new o.aV(n,o.rH.InvalidParameter,e);if(!1===(0,a.c)(c))throw new o.aV(n,o.rH.KeyAccessorMustBeString,e);if(!0!==f.hasField(c))throw new o.aV(n,o.rH.FieldNotFound,e,{key:c});d=(0,a.g)(f.field(c)),f.setField(c,"++"===e.operator?d+1:d-1)}return!1===e.prefix?d:"++"===e.operator?d+1:d-1}const t="Identifier"===e.argument.type?e.argument.name.toLowerCase():"";if(!t)throw new o.aV(n,o.rH.InvalidIdentifier,e);let l;if(null!=n.localScope&&void 0!==n.localScope[t])return l=(0,a.g)(n.localScope[t].value),n.localScope[t]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;if(void 0!==n.globalScope[t])return l=(0,a.g)(n.globalScope[t].value),n.globalScope[t]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;throw new o.aV(n,o.rH.InvalidIdentifier,e)})).apply(this,arguments)}function _(n,e,r,t,l){switch(e){case"=":return n===a.B?null:n;case"/=":return(0,a.g)(r)/(0,a.g)(n);case"*=":return(0,a.g)(r)*(0,a.g)(n);case"-=":return(0,a.g)(r)-(0,a.g)(n);case"+=":return(0,a.c)(r)||(0,a.c)(n)?(0,a.j)(r)+(0,a.j)(n):(0,a.g)(r)+(0,a.g)(n);case"%=":return(0,a.g)(r)%(0,a.g)(n);default:throw new o.aV(l,o.rH.UnsupportedOperator,t)}}function W(){return(W=(0,p.Z)(function*(n,e){const r=e.left;if("MemberExpression"===r.type){const l=yield s(n,r.object);let i=null;if(!0===r.computed)i=yield s(n,r.property);else{if("Identifier"!==r.property.type)throw new o.aV(n,o.rH.InvalidIdentifier,e);i=r.property.name}const u=yield s(n,e.right);if((0,a.o)(l)){if(!(0,a.b)(i))throw new o.aV(n,o.rH.ArrayAccessorMustBeNumber,e);if(i<0&&(i=l.length+i),i<0||i>l.length)throw new o.aV(n,o.rH.OutOfBounds,e);if(i===l.length){if("="!==e.operator)throw new o.aV(n,o.rH.OutOfBounds,e);l[i]=_(u,e.operator,l[i],e,n)}else l[i]=_(u,e.operator,l[i],e,n)}else if(l instanceof x.Z){if(!1===(0,a.c)(i))throw new o.aV(n,o.rH.KeyAccessorMustBeString,e);if(!0===l.hasField(i))l.setField(i,_(u,e.operator,l.field(i),e,n));else{if("="!==e.operator)throw new o.aV(n,o.rH.FieldNotFound,e,{key:i});l.setField(i,_(u,e.operator,null,e,n))}}else if(l instanceof b){if(!1===(0,a.c)(i))throw new o.aV(n,o.rH.KeyAccessorMustBeString,e);if(!0!==l.hasGlobal(i))throw new o.aV(n,o.rH.ModuleExportNotFound,e);l.setGlobal(i,_(u,e.operator,yield l.global(i),e,n))}else{if(!(0,a.r)(l))throw(0,a.q)(l)?new o.aV(n,o.rH.Immutable,e):new o.aV(n,o.rH.InvalidParameter,e);if(!1===(0,a.c)(i))throw new o.aV(n,o.rH.KeyAccessorMustBeString,e);if(!0===l.hasField(i))l.setField(i,_(u,e.operator,l.field(i),e,n));else{if("="!==e.operator)throw new o.aV(n,o.rH.FieldNotFound,e,{key:i});l.setField(i,_(u,e.operator,null,e,n))}}return a.B}const t=r.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[t]){const l=yield s(n,e.right);return n.localScope[t]={value:_(l,e.operator,n.localScope[t].value,e,n),valueset:!0,node:e.right},a.B}if(void 0!==n.globalScope[t]){const l=yield s(n,e.right);return n.globalScope[t]={value:_(l,e.operator,n.globalScope[t].value,e,n),valueset:!0,node:e.right},a.B}throw new o.aV(n,o.rH.InvalidIdentifier,e)})).apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(n,e){if("AssignmentExpression"===e.expression.type)return s(n,e.expression);if("CallExpression"===e.expression.type){const t=yield s(n,e.expression);return t===a.B?a.B:new a.A(t)}const r=yield s(n,e.expression);return r===a.B?a.B:new a.A(r)})).apply(this,arguments)}function k(){return(k=(0,p.Z)(function*(n,e){const r=yield s(n,e.test);if(!0===r)return s(n,e.consequent);if(!1===r)return null!==e.alternate?s(n,e.alternate):a.B;throw new o.aV(n,o.rH.BooleanConditionRequired,e)})).apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(n,e){return be(n,e,0)})).apply(this,arguments)}function be(n,e,r){return Y.apply(this,arguments)}function Y(){return(Y=(0,p.Z)(function*(n,e,r){if(r>=e.body.length)return a.B;const t=yield s(n,e.body[r]);return t instanceof a.z||t===a.C||t===a.D||r===e.body.length-1?t:be(n,e,r+1)})).apply(this,arguments)}function J(){return(J=(0,p.Z)(function*(n,e){if(null===e.argument)return new a.z(a.B);const r=yield s(n,e.argument);return new a.z(r)})).apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(n,e){const r=e.id.name.toLowerCase();return n.globalScope[r]={valueset:!0,node:null,value:new Le(e,n)},a.B})).apply(this,arguments)}function X(){return(X=(0,p.Z)(function*(n,e){const r=e.specifiers[0].local.name.toLowerCase(),t=n.libraryResolver.loadLibrary(r);let l=null;return n.libraryResolver._moduleSingletons?.has(t.uri)?l=n.libraryResolver._moduleSingletons.get(t.uri):(l=new b(t),yield l.loadModule(n),n.libraryResolver._moduleSingletons?.set(t.uri,l)),n.globalScope[r]={value:l,valueset:!0,node:e},a.B})).apply(this,arguments)}function $(){return($=(0,p.Z)(function*(n,e){if(yield s(n,e.declaration),"FunctionDeclaration"===e.declaration.type)n.exports[e.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===e.declaration.type)for(const r of e.declaration.declarations)n.exports[r.id.name.toLowerCase()]="variable";return a.B})).apply(this,arguments)}function Ve(n,e,r){return q.apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(n,e,r){return r>=e.declarations.length||(yield s(n,e.declarations[r]),r===e.declarations.length-1||(yield Ve(n,e,r+1))),a.B})).apply(this,arguments)}function ee(){return(ee=(0,p.Z)(function*(n,e){let r=null;if(r=null===e.init?null:yield s(n,e.init),null!==n.localScope){if(r===a.B&&(r=null),"Identifier"!==e.id.type)throw new o.aV(n,o.rH.InvalidIdentifier,e);const l=e.id.name.toLowerCase();return null!=n.localScope&&(n.localScope[l]={value:r,valueset:!0,node:e.init}),a.B}if("Identifier"!==e.id.type)throw new o.aV(n,o.rH.InvalidIdentifier,e);const t=e.id.name.toLowerCase();return r===a.B&&(r=null),n.globalScope[t]={value:r,valueset:!0,node:e.init},a.B})).apply(this,arguments)}function ne(){return(ne=(0,p.Z)(function*(n,e){const r=yield s(n,e.object);if(null===r)throw new o.aV(n,o.rH.MemberOfNull,e);if(!1===e.computed){if("Identifier"===e.property.type){if(r instanceof x.Z||(0,a.r)(r))return r.field(e.property.name);if(r instanceof we.Z)return(0,B.Z)(r,e.property.name,n,e);if(r instanceof b){if(!r.hasGlobal(e.property.name))throw new o.aV(n,o.rH.InvalidIdentifier,e);return r.global(e.property.name)}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}let t=yield s(n,e.property);if(r instanceof x.Z||(0,a.r)(r)){if((0,a.c)(t))return r.field(t);throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}if(r instanceof b){if((0,a.c)(t))return r.global(t);throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}if(r instanceof we.Z){if((0,a.c)(t))return(0,B.Z)(r,t,n,e);throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}if((0,a.o)(r)){if((0,a.b)(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=r.length+t),t>=r.length||t<0)throw new o.aV(n,o.rH.OutOfBounds,e);return r[t]}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}if((0,a.q)(r)){if((0,a.b)(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=r.length()+t),t>=r.length()||t<0)throw new o.aV(n,o.rH.OutOfBounds,e);return r.get(t)}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}if((0,a.c)(r)){if((0,a.b)(t)&&isFinite(t)&&Math.floor(t)===t){if(t<0&&(t=r.length+t),t>=r.length||t<0)throw new o.aV(n,o.rH.OutOfBounds,e);return r[t]}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)}throw new o.aV(n,o.rH.InvalidMemberAccessKey,e)})).apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(n,e){const r=yield s(n,e.argument);if((0,a.a)(r)){if("!"===e.operator)return!r;if("-"===e.operator)return-1*(0,a.g)(r);if("+"===e.operator)return 1*(0,a.g)(r);if("~"===e.operator)return~(0,a.g)(r);throw new o.aV(n,o.rH.UnsupportedUnaryOperator,e)}if("-"===e.operator)return-1*(0,a.g)(r);if("+"===e.operator)return 1*(0,a.g)(r);if("~"===e.operator)return~(0,a.g)(r);throw new o.aV(n,o.rH.UnsupportedUnaryOperator,e)})).apply(this,arguments)}function te(){return(te=(0,p.Z)(function*(n,e){const r=[];for(let t=0;t<e.elements.length;t++)r.push(yield s(n,e.elements[t]));for(let t=0;t<r.length;t++){if((0,a.i)(r[t]))throw new o.aV(n,o.rH.NoFunctionInArray,e);r[t]===a.B&&(r[t]=null)}return r})).apply(this,arguments)}function oe(){return(oe=(0,p.Z)(function*(n,e){const r=[];r[0]=yield s(n,e.left),r[1]=yield s(n,e.right);const t=r[0],l=r[1];switch(e.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,a.G)((0,a.g)(t),(0,a.g)(l),e.operator);case"==":return(0,a.F)(t,l);case"!=":return!(0,a.F)(t,l);case"<":case">":case"<=":case">=":return(0,a.E)(t,l,e.operator);case"+":return(0,a.c)(t)||(0,a.c)(l)?(0,a.j)(t)+(0,a.j)(l):(0,a.g)(t)+(0,a.g)(l);case"-":return(0,a.g)(t)-(0,a.g)(l);case"*":return(0,a.g)(t)*(0,a.g)(l);case"/":return(0,a.g)(t)/(0,a.g)(l);case"%":return(0,a.g)(t)%(0,a.g)(l);default:throw new o.aV(n,o.rH.UnsupportedOperator,e)}})).apply(this,arguments)}function ae(){return(ae=(0,p.Z)(function*(n,e){const r=yield s(n,e.left);let t=null;if(!(0,a.a)(r))throw new o.aV(n,o.rH.LogicalExpressionOnlyBoolean,e);switch(e.operator){case"||":if(!0===r)return r;if(t=yield s(n,e.right),(0,a.a)(t))return t;throw new o.aV(n,o.rH.LogicExpressionOrAnd,e);case"&&":if(!1===r)return r;if(t=yield s(n,e.right),(0,a.a)(t))return t;throw new o.aV(n,o.rH.LogicExpressionOrAnd,e);default:throw new o.aV(n,o.rH.LogicExpressionOrAnd,e)}})).apply(this,arguments)}function le(n,e){return ie.apply(this,arguments)}function ie(){return(ie=(0,p.Z)(function*(n,e){const r=e.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[r]){const t=n.localScope[r];if(!0===t.valueset)return t.value;if(null!==t.d)return t.d;t.d=s(n,t.node);const l=yield t.d;return t.value=l,t.valueset=!0,l}if(void 0!==n.globalScope[r]){const t=n.globalScope[r];if(!0===t.valueset)return t.value;if(null!==t.d)return t.d;t.d=s(n,t.node);const l=yield t.d;return t.value=l,t.valueset=!0,l}throw new o.aV(n,o.rH.InvalidIdentifier,e)})).apply(this,arguments)}function ue(){return(ue=(0,p.Z)(function*(n,e){if("MemberExpression"===e.callee.type){const r=yield s(n,e.callee.object);if(!(r instanceof b))throw new o.aV(n,o.rH.FunctionNotFound,e);const t=!1===e.callee.computed?e.callee.property.name:yield s(n,e.callee.property);if(!r.hasGlobal(t))throw new o.aV(n,o.rH.FunctionNotFound,e);const l=yield r.global(t);if(!(0,a.i)(l))throw new o.aV(n,o.rH.CallNonFunction,e);return l.call(n,e)}if("Identifier"!==e.callee.type)throw new o.aV(n,o.rH.FunctionNotFound,e);if(null!=n.localScope&&void 0!==n.localScope[e.callee.name.toLowerCase()]){const r=n.localScope[e.callee.name.toLowerCase()];if((0,a.i)(r.value))return r.value.call(n,e);throw new o.aV(n,o.rH.CallNonFunction,e)}if(void 0!==n.globalScope[e.callee.name.toLowerCase()]){const r=n.globalScope[e.callee.name.toLowerCase()];if((0,a.i)(r.value))return r.value.call(n,e);throw new o.aV(n,o.rH.CallNonFunction,e)}throw new o.aV(n,o.rH.FunctionNotFound,e)})).apply(this,arguments)}function se(){return(se=(0,p.Z)(function*(n,e){return e.value?e.value.cooked:""})).apply(this,arguments)}function fn(n,e,r){if((0,a.i)(n))throw new o.aV(e,o.rH.NoFunctionInTemplateLiteral,r);return n}function ce(){return(ce=(0,p.Z)(function*(n,e){const r=[];for(let i=0;i<e.expressions.length;i++){const u=yield s(n,e.expressions[i]);r[i]=(0,a.j)(u)}let t="",l=0;for(const i of e.quasis)t+=i.value?i.value.cooked:"",!1===i.tail&&(t+=r[l]?fn(r[l],n,e):"",l++);return t})).apply(this,arguments)}const g={};function Se(n,e,r,t){return fe.apply(this,arguments)}function fe(){return(fe=(0,p.Z)(function*(n,e,r,t){const l=yield s(n,e.arguments[r]);if((0,a.F)(l,t))return s(n,e.arguments[r+1]);const i=e.arguments.length-r;return 1===i?s(n,e.arguments[r]):2===i?null:3===i?s(n,e.arguments[r+2]):Se(n,e,r+2,t)})).apply(this,arguments)}function He(n,e,r,t){return pe.apply(this,arguments)}function pe(){return(pe=(0,p.Z)(function*(n,e,r,t){if(!0===t)return s(n,e.arguments[r+1]);if(e.arguments.length-r==3)return s(n,e.arguments[r+2]);const l=yield s(n,e.arguments[r+2]);if(!1===(0,a.a)(l))throw new o.aV(n,o.rH.ModuleExportNotFound,e.arguments[r+2]);return He(n,e,r+2,l)})).apply(this,arguments)}function de(n,e,r,t){return he.apply(this,arguments)}function he(){return(he=(0,p.Z)(function*(n,e,r,t){const l=n.body;if(r.length!==n.params.length)throw new o.aV(e,o.rH.WrongNumberOfParameters,null);for(let u=0;u<r.length;u++){const c=n.params[u];"Identifier"===c.type&&null!=e.localScope&&(e.localScope[c.name.toLowerCase()]={d:null,value:r[u],valueset:!0,node:null})}const i=yield s(e,l);if(i instanceof a.z)return i.value;if(i===a.C)throw new o.aV(e,o.rH.UnexpectedToken,t);if(i===a.D)throw new o.aV(e,o.rH.UnexpectedToken,t);return i instanceof a.A?i.value:i})).apply(this,arguments)}(0,Re.r)(g,w),(0,Pe.r)(g,w),(0,Fe.r)(g,w),(0,Oe.r)(g,w),(0,De.r)(g,w),(0,Ze.registerFunctions)({functions:g,compiled:!1,signatures:null,evaluateIdentifier:null,mode:"async",standardFunction:w,standardFunctionAsync:V}),g.iif=function(){var n=(0,p.Z)(function*(e,r){(0,a.H)(null===r.arguments?[]:r.arguments,3,3,e,r);const t=yield s(e,r.arguments[0]);if(!1===(0,a.a)(t))throw new o.aV(e,o.rH.BooleanConditionRequired,r);return s(e,t?r.arguments[1]:r.arguments[2])});return function(e,r){return n.apply(this,arguments)}}(),g.defaultvalue=function(){var n=(0,p.Z)(function*(e,r){(0,a.H)(null===r.arguments?[]:r.arguments,2,3,e,r);const t=yield s(e,r.arguments[0]);if(3===r.arguments.length){const l=yield s(e,r.arguments[1]),i=(0,B.u)(t,l);return null!=i&&""!==i?i:s(e,r.arguments[2])}return null==t||""===t?s(e,r.arguments[1]):t});return function(e,r){return n.apply(this,arguments)}}(),g.decode=function(){var n=(0,p.Z)(function*(e,r){if(r.arguments.length<2)throw new o.aV(e,o.rH.WrongNumberOfParameters,r);if(2===r.arguments.length)return s(e,r.arguments[1]);if((r.arguments.length-1)%2==0)throw new o.aV(e,o.rH.WrongNumberOfParameters,r);return Se(e,r,1,yield s(e,r.arguments[0]))});return function(e,r){return n.apply(this,arguments)}}(),g.when=function(){var n=(0,p.Z)(function*(e,r){if(r.arguments.length<3)throw new o.aV(e,o.rH.WrongNumberOfParameters,r);if(r.arguments.length%2==0)throw new o.aV(e,o.rH.WrongNumberOfParameters,r);const t=yield s(e,r.arguments[0]);if(!1===(0,a.a)(t))throw new o.aV(e,o.rH.BooleanConditionRequired,r.arguments[0]);return He(e,r,0,t)});return function(e,r){return n.apply(this,arguments)}}();const dn={fixSpatialReference:a.x,parseArguments:C,standardFunction:w,standardFunctionAsync:V,evaluateIdentifier:le};for(const n in g)g[n]={value:new m.Bx(g[n]),valueset:!0,node:null};const S=function(){};function Ee(n,e,r){const t=new S;null==n&&(n={}),null==e&&(e={});const l=new x.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1,t.textformatting={value:l,valueset:!0,node:null};for(const i in e)t[i]={value:new m.Bx(e[i]),native:!0,valueset:!0,node:null};for(const i in n)t[i]=n[i]&&"esri.Graphic"===n[i].declaredClass?{value:_e.Z.createFromGraphic(n[i],r),valueset:!0,node:null}:{value:n[i],valueset:!0,node:null};return t}function Be(n){console.log(n)}S.prototype=g,S.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},S.prototype.pi={value:Math.PI,valueset:!0,node:null};const hn=dn;function Ce(n){const e={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:w,standardFunctionAsync:V,evaluateIdentifier:le};for(let r=0;r<n.length;r++)n[r].registerFunctions(e);for(const r in e.functions)g[r]={value:new m.Bx(e.functions[r]),valueset:!0,node:null},S.prototype[r]=g[r];for(let r=0;r<e.signatures.length;r++)(0,Me.gW)(e.signatures[r],"async")}function gn(n,e){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.Z)(function*(n,e){let r=e.spatialReference;null==r&&(r=new ve.Z({wkid:102100}));let t=null;n.usesModules&&(t=new me.s(new Map,n.loadedModules));const l=Ee(e.vars,e.customfunctions,e.timeZone),i={spatialReference:r,services:e.services,exports:{},libraryResolver:t,abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:l,console:e.console??Be,timeZone:e.timeZone??null,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}};let u=yield s(i,n);if(u instanceof a.z&&(u=u.value),u instanceof a.A&&(u=u.value),u===a.B&&(u=null),u===a.C)throw new o.aV(i,o.rH.IllegalResult,null);if(u===a.D)throw new o.aV(i,o.rH.IllegalResult,null);if((0,a.i)(u))throw new o.aV(i,o.rH.IllegalResult,null);return u})).apply(this,arguments)}Ce([Ae.A])}}]);