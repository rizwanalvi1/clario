"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[5508],{18101:(B,T,c)=>{c.d(T,{P:()=>C});var m=c(49602),j=c(33721);function R(r,O,M){if(null==r.hasM||r.hasZ)for(const d of O)for(const v of d)v.length>2&&(v[2]*=M)}function C(r,O,M){if(!r&&!O||!M)return;const d=(0,m._R)(M);P(r,M,d),P(O,M,d)}function P(r,O,M){if(r)for(const d of r)D(d.geometry,O,M)}function D(r,O,M){if(!r?.spatialReference||(0,j.fS)(r.spatialReference,O))return;const d=(0,m._R)(r.spatialReference)/M;if(1!==d)if("x"in r)null!=r.z&&(r.z*=d);else if("rings"in r)R(r,r.rings,d);else if("paths"in r)R(r,r.paths,d);else if("points"in r&&(null==r.hasM||r.hasZ))for(const v of r.points)v.length>2&&(v[2]*=d)}},8295:(B,T,c)=>{c.d(T,{p:()=>j});var m=c(53456);function j(R,C,P){if(!P?.features||!P.hasZ)return;const D=(0,m.k)(P.geometryType,C,R.outSpatialReference);if(null!=D)for(const r of P.features)D(r.geometry)}},93792:(B,T,c)=>{c.d(T,{Z:()=>I});var L,m=c(50484),j=c(2189),R=c(35458),C=c(84303),P=c(89317),D=c(34222),r=c(80543),d=(c(14007),c(4703),c(62185)),v=c(10141),A=c(7547),U=c(43814),x=c(40637),z=c(81247);const S=new C.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=L=class extends P.wq{constructor(n){super(n),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(n,_){const s=U.Z.fromJSON(_.spatialReference),e=[];for(let l=0;l<n.length;l++){const o=n[l],i=R.Z.fromJSON(o),h=o.geometry?.spatialReference;null==i.geometry||h||(i.geometry.spatialReference=s);const y=o.aggregateGeometries,t=i.aggregateGeometries;if(y&&null!=t)for(const p in t){const a=t[p],f=y[p],E=f?.spatialReference;null==a||E||(a.spatialReference=s)}e.push(i)}return e}writeGeometryType(n,_,s,e){if(n)return void S.write(n,_,s,e);const{features:l}=this;if(l)for(const o of l)if(null!=o?.geometry)return void S.write(o.geometry.type,_,s,e)}readQueryGeometry(n,_){if(!n)return null;const s=!!n.spatialReference,e=(0,x.im)(n);return e&&!s&&_.spatialReference&&(e.spatialReference=U.Z.fromJSON(_.spatialReference)),e}writeSpatialReference(n,_){if(n)return void(_.spatialReference=n.toJSON());const{features:s}=this;if(s)for(const e of s)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(_.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new L(this.cloneProperties())}cloneProperties(){return(0,D.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(n){const _=this.write();if(_.features&&Array.isArray(n)&&n.length>0)for(let s=0;s<_.features.length;s++){const e=_.features[s];if(e.geometry){const l=n?.[s];e.geometry=l?.toJSON()||e.geometry}}return _}quantize(n){const{scale:[_,s],translate:[e,l]}=n,h=this.features,y=this._getQuantizationFunction(this.geometryType,t=>Math.round((t-e)/_),t=>Math.round((l-t)/s));for(let t=0,p=h.length;t<p;t++)y?.(h[t].geometry)||(h.splice(t,1),t--,p--);return this.transform=n,this}unquantize(){const{geometryType:n,features:_,transform:s}=this;if(!s)return this;const{translate:[e,l],scale:[o,i]}=s;let t=null,p=null;if(this.hasZ&&null!=s?.scale?.[2]){const{translate:[,,f],scale:[,,E]}=s;t=u=>u*E+f}if(this.hasM&&null!=s?.scale?.[3]){const{translate:[,,,f],scale:[,,,E]}=s;p=u=>null==u?u:u*E+f}const a=this._getHydrationFunction(n,f=>f*o+e,f=>l-f*i,t,p);for(const{geometry:f}of _)null!=f&&a&&a(f);return this.transform=null,this}_quantizePoints(n,_,s){let e,l;const o=[];for(let i=0,h=n.length;i<h;i++){const y=n[i];if(i>0){const t=_(y[0]),p=s(y[1]);t===e&&p===l||(o.push([t-e,p-l]),e=t,l=p)}else e=_(y[0]),l=s(y[1]),o.push([e,l])}return o.length>0?o:null}_getQuantizationFunction(n,_,s){return"point"===n?e=>(e.x=_(e.x),e.y=s(e.y),e):"polyline"===n||"polygon"===n?e=>{const l=(0,x.oU)(e)?e.rings:e.paths,o=[];for(let i=0,h=l.length;i<h;i++){const t=this._quantizePoints(l[i],_,s);t&&o.push(t)}return o.length>0?((0,x.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===n?e=>{const l=this._quantizePoints(e.points,_,s);return l&&l.length>0?(e.points=l,e):null}:"extent"===n?e=>e:null}_getHydrationFunction(n,_,s,e,l){return"point"===n?o=>{o.x=_(o.x),o.y=s(o.y),e&&(o.z=e(o.z))}:"polyline"===n||"polygon"===n?o=>{const i=(0,x.oU)(o)?o.rings:o.paths;let h,y;for(let t=0,p=i.length;t<p;t++){const a=i[t];for(let f=0,E=a.length;f<E;f++){const u=a[f];f>0?(h+=u[0],y+=u[1]):(h=u[0],y=u[1]),u[0]=_(h),u[1]=s(y)}}if(e&&l)for(let t=0,p=i.length;t<p;t++){const a=i[t];for(let f=0,E=a.length;f<E;f++){const u=a[f];u[2]=e(u[2]),u[3]=l(u[3])}}else if(e)for(let t=0,p=i.length;t<p;t++){const a=i[t];for(let f=0,E=a.length;f<E;f++){const u=a[f];u[2]=e(u[2])}}else if(l)for(let t=0,p=i.length;t<p;t++){const a=i[t];for(let f=0,E=a.length;f<E;f++){const u=a[f];u[2]=l(u[2])}}}:"extent"===n?o=>{o.xmin=_(o.xmin),o.ymin=s(o.ymin),o.xmax=_(o.xmax),o.ymax=s(o.ymax),e&&null!=o.zmax&&null!=o.zmin&&(o.zmax=e(o.zmax),o.zmin=e(o.zmin)),l&&null!=o.mmax&&null!=o.mmin&&(o.mmax=l(o.mmax),o.mmin=l(o.mmin))}:"multipoint"===n?o=>{const i=o.points;let h,y;for(let t=0,p=i.length;t<p;t++){const a=i[t];t>0?(h+=a[0],y+=a[1]):(h=a[0],y=a[1]),a[0]=_(h),a[1]=s(y)}if(e&&l)for(let t=0,p=i.length;t<p;t++){const a=i[t];a[2]=e(a[2]),a[3]=l(a[3])}else if(e)for(let t=0,p=i.length;t<p;t++){const a=i[t];a[2]=e(a[2])}else if(l)for(let t=0,p=i.length;t<p;t++){const a=i[t];a[2]=l(a[2])}}:null}};(0,m._)([(0,r.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,m._)([(0,r.Cb)({type:Boolean,json:{write:{overridePolicy:n=>({enabled:n})}}})],g.prototype,"exceededTransferLimit",void 0),(0,m._)([(0,r.Cb)({type:[R.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,m._)([(0,d.r)("features")],g.prototype,"readFeatures",null),(0,m._)([(0,r.Cb)({type:[z.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,m._)([(0,r.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:S.read}}})],g.prototype,"geometryType",void 0),(0,m._)([(0,A.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,m._)([(0,r.Cb)({type:Boolean,json:{write:{overridePolicy:n=>({enabled:n})}}})],g.prototype,"hasM",void 0),(0,m._)([(0,r.Cb)({type:Boolean,json:{write:{overridePolicy:n=>({enabled:n})}}})],g.prototype,"hasZ",void 0),(0,m._)([(0,r.Cb)({types:j.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,m._)([(0,d.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,m._)([(0,r.Cb)({type:U.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,m._)([(0,A.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,m._)([(0,r.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=L=(0,m._)([(0,v.j)("esri.rest.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0;const I=g}}]);