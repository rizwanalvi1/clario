"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[8410],{95539:(x,T,e)=>{e.d(T,{Z:()=>R});var a=e(50484),y=e(25387),_=e(89317),f=e(51431),U=e(80543),M=(e(14007),e(4703),e(65311),e(21070)),m=e(10141),h=e(81238);let E=class extends((0,y.J)(_.wq)){constructor(D){super(D),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,f.rJ)(this.value,this.unit,"milliseconds")}};(0,a._)([(0,M.J)(h.v,{nonNullable:!0})],E.prototype,"unit",void 0),(0,a._)([(0,U.Cb)({type:Number,json:{write:!0},nonNullable:!0})],E.prototype,"value",void 0),E=(0,a._)([(0,m.j)("esri.TimeInterval")],E);const R=E},19799:(x,T,e)=>{e.d(T,{F:()=>b,M:()=>a});const a={Base64:0,Hex:1,String:2,Raw:3},y=8,_=(1<<y)-1;function f(t,n){const r=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(r>>16)<<16|65535&r}function m(t,n,r,s,o,i){return f(function M(t,n){return t<<n|t>>>32-n}(f(f(n,t),f(s,i)),o),r)}function h(t,n,r,s,o,i,l){return m(n&r|~n&s,t,n,o,i,l)}function E(t,n,r,s,o,i,l){return m(n&s|r&~s,t,n,o,i,l)}function R(t,n,r,s,o,i,l){return m(n^r^s,t,n,o,i,l)}function D(t,n,r,s,o,i,l){return m(r^(n|~s),t,n,o,i,l)}function b(t,n=a.Hex){const r=n||a.Base64,s=function c(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;let r=1732584193,s=-271733879,o=-1732584194,i=271733878;for(let l=0;l<t.length;l+=16){const S=r,F=s,W=o,w=i;r=h(r,s,o,i,t[l],7,-680876936),i=h(i,r,s,o,t[l+1],12,-389564586),o=h(o,i,r,s,t[l+2],17,606105819),s=h(s,o,i,r,t[l+3],22,-1044525330),r=h(r,s,o,i,t[l+4],7,-176418897),i=h(i,r,s,o,t[l+5],12,1200080426),o=h(o,i,r,s,t[l+6],17,-1473231341),s=h(s,o,i,r,t[l+7],22,-45705983),r=h(r,s,o,i,t[l+8],7,1770035416),i=h(i,r,s,o,t[l+9],12,-1958414417),o=h(o,i,r,s,t[l+10],17,-42063),s=h(s,o,i,r,t[l+11],22,-1990404162),r=h(r,s,o,i,t[l+12],7,1804603682),i=h(i,r,s,o,t[l+13],12,-40341101),o=h(o,i,r,s,t[l+14],17,-1502002290),s=h(s,o,i,r,t[l+15],22,1236535329),r=E(r,s,o,i,t[l+1],5,-165796510),i=E(i,r,s,o,t[l+6],9,-1069501632),o=E(o,i,r,s,t[l+11],14,643717713),s=E(s,o,i,r,t[l],20,-373897302),r=E(r,s,o,i,t[l+5],5,-701558691),i=E(i,r,s,o,t[l+10],9,38016083),o=E(o,i,r,s,t[l+15],14,-660478335),s=E(s,o,i,r,t[l+4],20,-405537848),r=E(r,s,o,i,t[l+9],5,568446438),i=E(i,r,s,o,t[l+14],9,-1019803690),o=E(o,i,r,s,t[l+3],14,-187363961),s=E(s,o,i,r,t[l+8],20,1163531501),r=E(r,s,o,i,t[l+13],5,-1444681467),i=E(i,r,s,o,t[l+2],9,-51403784),o=E(o,i,r,s,t[l+7],14,1735328473),s=E(s,o,i,r,t[l+12],20,-1926607734),r=R(r,s,o,i,t[l+5],4,-378558),i=R(i,r,s,o,t[l+8],11,-2022574463),o=R(o,i,r,s,t[l+11],16,1839030562),s=R(s,o,i,r,t[l+14],23,-35309556),r=R(r,s,o,i,t[l+1],4,-1530992060),i=R(i,r,s,o,t[l+4],11,1272893353),o=R(o,i,r,s,t[l+7],16,-155497632),s=R(s,o,i,r,t[l+10],23,-1094730640),r=R(r,s,o,i,t[l+13],4,681279174),i=R(i,r,s,o,t[l],11,-358537222),o=R(o,i,r,s,t[l+3],16,-722521979),s=R(s,o,i,r,t[l+6],23,76029189),r=R(r,s,o,i,t[l+9],4,-640364487),i=R(i,r,s,o,t[l+12],11,-421815835),o=R(o,i,r,s,t[l+15],16,530742520),s=R(s,o,i,r,t[l+2],23,-995338651),r=D(r,s,o,i,t[l],6,-198630844),i=D(i,r,s,o,t[l+7],10,1126891415),o=D(o,i,r,s,t[l+14],15,-1416354905),s=D(s,o,i,r,t[l+5],21,-57434055),r=D(r,s,o,i,t[l+12],6,1700485571),i=D(i,r,s,o,t[l+3],10,-1894986606),o=D(o,i,r,s,t[l+10],15,-1051523),s=D(s,o,i,r,t[l+1],21,-2054922799),r=D(r,s,o,i,t[l+8],6,1873313359),i=D(i,r,s,o,t[l+15],10,-30611744),o=D(o,i,r,s,t[l+6],15,-1560198380),s=D(s,o,i,r,t[l+13],21,1309151649),r=D(r,s,o,i,t[l+4],6,-145523070),i=D(i,r,s,o,t[l+11],10,-1120210379),o=D(o,i,r,s,t[l+2],15,718787259),s=D(s,o,i,r,t[l+9],21,-343485551),r=f(r,S),s=f(s,F),o=f(o,W),i=f(i,w)}return[r,s,o,i]}(function U(t){const n=[];for(let r=0,s=t.length*y;r<s;r+=y)n[r>>5]|=(t.charCodeAt(r/y)&_)<<r%32;return n}(t),t.length*y);switch(r){case a.Raw:return s;case a.Hex:return function O(t){const n="0123456789abcdef",r=[];for(let s=0,o=4*t.length;s<o;s++)r.push(n.charAt(t[s>>2]>>s%4*8+4&15)+n.charAt(t[s>>2]>>s%4*8&15));return r.join("")}(s);case a.String:return function I(t){const n=[];for(let r=0,s=32*t.length;r<s;r+=y)n.push(String.fromCharCode(t[r>>5]>>>r%32&_));return n.join("")}(s);case a.Base64:return function j(t){const s=[];for(let o=0,i=4*t.length;o<i;o+=3){const l=(t[o>>2]>>o%4*8&255)<<16|(t[o+1>>2]>>(o+1)%4*8&255)<<8|t[o+2>>2]>>(o+2)%4*8&255;for(let S=0;S<4;S++)s.push(8*o+6*S>32*t.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>6*(3-S)&63))}return s.join("")}(s)}}},12621:(x,T,e)=>{e.d(T,{b:()=>m,d:()=>M});var a=e(50484),y=e(80543),I=(e(14007),e(4703),e(65311),e(10141));const j={write:{allowNull:!0}},M={type:e(27173).Z,json:{origins:{"web-map":j,"portal-item":j}}},m=h=>{let E=class extends h{constructor(){super(...arguments),this.featureEffect=null}};return(0,a._)([(0,y.Cb)(M)],E.prototype,"featureEffect",void 0),E=(0,a._)([(0,I.j)("esri.layers.mixins.FeatureEffectLayer")],E),E}},78601:(x,T,e)=>{e.d(T,{M:()=>J});var a=e(50484),j=(e(36699),e(12610),e(53722),e(82752),e(28999),e(38748),e(50923)),h=(e(42212),e(91963),e(4703)),E=e(77675),R=e(80543),D=e(14007),b=(e(65311),e(10141)),t=e(53883),n=e(72523),r=e(58232),s=e(44991),i=(e(71950),e(57964)),l=e(19799),S=e(88367),F=e(38829),W=e(35451);D.Z.add("esri-cluster-arcade-enabled",!0);const G=(0,D.Z)("esri-cluster-arcade-enabled"),N=new Set(["simple-line","simple-fill","picture-fill"]);function A(v,C){let d=C.clone();if(!X(d))return d;if(C.getSymbols().some(u=>N.has(u.type))&&(d=new j.Z({symbol:new W.Z})),d.authoringInfo||(d.authoringInfo=new F.Z),d.authoringInfo.isAutoGenerated=!0,"visualVariables"in d){const u=(d.visualVariables||[]).filter(p=>"$view.scale"!==p.valueExpression);u.forEach(p=>{"rotation"===p.type?p.field?p.field=L(v,p.field,"avg_angle","number"):p.valueExpression&&(p.field=K(v,p.valueExpression,"avg_angle","number"),p.valueExpression=null):p.normalizationField?(p.field=L(v,p.field,"avg_norm","number",p.normalizationField),p.normalizationField=null):p.field?p.field=L(v,p.field,"avg","number"):p.valueExpression&&(p.field=K(v,p.valueExpression,"avg","number"),p.valueExpression=null)}),d.visualVariables=u}switch(d.type){case"simple":break;case"pie-chart":for(const u of d.attributes)u.field?u.field=L(v,u.field,"sum","number"):u.valueExpression&&(u.field=K(v,u.valueExpression,"sum","number"),u.valueExpression=null);break;case"unique-value":d.field?d.field=L(v,d.field,"mode","string"):d.valueExpression&&(d.field=K(v,d.valueExpression,"mode","string"),d.valueExpression=null);break;case"class-breaks":d.normalizationField?(d.field=L(v,d.field,"avg_norm","number",d.normalizationField),d.normalizationField=null):d.field?d.field=L(v,d.field,"avg","number"):d.valueExpression&&(d.field=K(v,d.valueExpression,"avg","number"),d.valueExpression=null)}return d}const X=v=>{const C=d=>h.Z.getLogger("esri.views.2d.layers.support.clusterUtils").error(new i.Z("Unsupported-renderer",d,{renderer:v}));if(!v)return!1;switch(v.type){case"unique-value":if(v.field2||v.field3)return C("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(v.normalizationField){const d=v.normalizationType;if("field"!==d)return C(`FeatureReductionCluster does not support a normalizationType of ${d}`),!1}break;case"simple":case"pie-chart":break;default:return C(`FeatureReductionCluster does not support renderers of type ${v.type}`),!1}if(!G){if("valueExpression"in v&&v.valueExpression)return C("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in v&&v.visualVariables||[]).some(d=>!(!("valueExpression"in d)||!d.valueExpression)))return C("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function K(v,C,d,u){const p=(0,l.F)(C),P="mode"===d?`cluster_type_${p}`:"sum"===d?`cluster_sum_${p}`:`cluster_avg_${p}`;return v.some(g=>g.name===P)||v.push(new t.Z({name:P,isAutoGenerated:!0,onStatisticExpression:new S.Z({expression:C,returnType:u}),statisticType:d})),P}function L(v,C,d,u,p){if("cluster_count"===C||v.some(g=>g.name===C))return C;const P=function V(v,C,d){switch(v){case"sum":return`cluster_sum_${C}`;case"avg":case"avg_angle":return`cluster_avg_${C}`;case"mode":return`cluster_type_${C}`;case"avg_norm":{const u=d,p="field",P=C.toLowerCase()+",norm:"+p+","+u.toLowerCase();return"cluster_avg_"+(0,l.F)(P)}}}(d,C,p);return v.some(g=>g.name===P)||v.push(new t.Z("avg_norm"===d?{name:P,isAutoGenerated:!0,onStatisticExpression:new S.Z({expression:`$feature.${C} / $feature.${p}`,returnType:u}),statisticType:"avg"}:{name:P,isAutoGenerated:!0,onStatisticField:C,statisticType:d})),P}const J=v=>{let C=class extends v{constructor(...d){super(...d),this.addHandles((0,E.YP)(()=>this.renderer,()=>{if(this.featureReduction){const u=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",u)}},E.Z_))}set featureReduction(d){const u=this._normalizeFeatureReduction(d);this._set("featureReduction",u)}set renderer(d){}_withClusterVariable(d,u,p){const P=d.clone();return"visualVariables"in P&&(P.visualVariables||(P.visualVariables=[]),P.visualVariables.some(g=>"size"===g.type)||P.visualVariables.push(new r.Z({field:"cluster_count",stops:[new s.Z({value:1}),new s.Z({useMinValue:!0,size:u}),new s.Z({useMaxValue:!0,size:p})]}))),P}_normalizeFeatureReduction(d){if("cluster"!==d?.type)return d;const u=d.clone(),p=[new t.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],P=(u.fields??[]).filter(Z=>!Z.isAutoGenerated),g=d.renderer&&!d.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:B,clusterMaxSize:z}=u;if(g){u.fields=[...p,...P];const Z=this._withClusterVariable(u.renderer,B,z);return u.effectiveFeatureRenderer=Z,u.effectiveClusterRenderer=Z,u}if(d.symbol){if(u.fields=[...p,...P],u.renderer=null,!this.renderer)return u.effectiveFeatureRenderer=null,u.effectiveClusterRenderer=null,u;const Z=A(p,this.renderer),$=this._withClusterVariable(Z,B,z),ee=new j.Z({symbol:d.symbol,visualVariables:"visualVariables"in $&&$.visualVariables?$.visualVariables:[]});return u.fields=[...p,...P],u.effectiveFeatureRenderer=$,u.effectiveClusterRenderer=ee,u}if(!this.renderer)return d;const Y=A(p,this.renderer);u.fields=[...p,...P],u.renderer=Y;const k=this._withClusterVariable(Y,B,z);return u.effectiveFeatureRenderer=k,u.effectiveClusterRenderer=k,u}};return(0,a._)([(0,R.Cb)(n.d)],C.prototype,"featureReduction",null),C=(0,a._)([(0,b.j)("esri.layers.mixins.FeatureReductionLayer")],C),C}},12522:(x,T,e)=>{e.d(T,{I:()=>D,n:()=>c});var a=e(50484),y=e(34411),_=e(95539),f=e(80543),j=(e(14007),e(4703),e(65311),e(62185)),M=e(10141),m=e(76215),h=e(85295),E=e(97403),R=e(81238);const D={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:m.C}}},c=b=>{let t=class extends b{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(n,r){const s=r.timeInfo.exportOptions;if(!s)return null;const o=s.timeOffset,i=R.v.fromJSON(s.timeOffsetUnits);return o&&i?new _.Z({value:o,unit:i}):null}set timeInfo(n){(0,h.UF)(n,this.fieldsIndex),this._set("timeInfo",n)}};return(0,a._)([(0,f.Cb)({type:y.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,a._)([(0,f.Cb)({type:_.Z})],t.prototype,"timeOffset",void 0),(0,a._)([(0,j.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,a._)([(0,f.Cb)({value:null,type:E.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,a._)([(0,f.Cb)(D)],t.prototype,"useViewTime",void 0),t=(0,a._)([(0,M.j)("esri.layers.mixins.TemporalLayer")],t),t}},53883:(x,T,e)=>{e.d(T,{Z:()=>h});var M,a=e(50484),y=e(89317),_=e(34222),f=e(80543),O=(e(14007),e(4703),e(10141)),j=e(88367);let m=M=class extends y.wq{constructor(E){super(E),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new M({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,_.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,a._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"isAutoGenerated",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],m.prototype,"onStatisticField",void 0),(0,a._)([(0,f.Cb)({type:j.Z,json:{write:!0}})],m.prototype,"onStatisticExpression",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],m.prototype,"statisticType",void 0),m=M=(0,a._)([(0,O.j)("esri.layers.support.AggregateField")],m);const h=m},88367:(x,T,e)=>{e.d(T,{Z:()=>m});var a=e(50484),y=e(25387),_=e(89317),f=e(80543),j=(e(14007),e(4703),e(65311),e(10141));let M=class extends((0,y.J)(_.wq)){constructor(h){super(h),this.expression=null,this.title=null,this.returnType=null}};(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],M.prototype,"expression",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],M.prototype,"title",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:!0}})],M.prototype,"returnType",void 0),M=(0,a._)([(0,j.j)("esri.layers.support.ExpressionInfo")],M);const m=M},27173:(x,T,e)=>{e.d(T,{Z:()=>t});var E,a=e(50484),y=e(57964),_=e(89317),f=e(71763),U=e(80543),M=(e(14007),e(4703),e(65311),e(10141)),m=e(53984),h=e(74321);const R={read:{reader:m.ij},write:{writer:m.cW,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},D={read:{reader:m.ij},write:{writer:m.cW,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},c={name:"showExcludedLabels",default:!0};let b=E=class extends _.wq{constructor(n){super(n),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(n,r){const s=super.write(n,r);if(r?.origin){if(s.filter){const o=Object.keys(s.filter);if(o.length>1||"where"!==o[0])return r.messages?.push(new y.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:r.layer,effect:this})),null}if("showExcludedLabels"in s)return r.messages?.push(new y.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:r.layer,effect:this})),null}return s}clone(){return new E({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,a._)([(0,U.Cb)({type:h.Z,json:{write:{allowNull:!0,writer(n,r,s,o){const i=n?.write({},o);i&&0!==Object.keys(i).length?(0,f.RB)(s,i,r):(0,f.RB)(s,null,r)}}}})],b.prototype,"filter",void 0),(0,a._)([(0,U.Cb)({json:{read:m.ij,write:{writer:m.cW,allowNull:!0},origins:{"web-map":R,"portal-item":R}}})],b.prototype,"includedEffect",void 0),(0,a._)([(0,U.Cb)({json:{read:m.ij,write:{writer:m.cW,allowNull:!0},origins:{"web-map":D,"portal-item":D}}})],b.prototype,"excludedEffect",void 0),(0,a._)([(0,U.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":c,"portal-item":c}}})],b.prototype,"excludedLabelsVisible",void 0),b=E=(0,a._)([(0,M.j)("esri.layers.support.FeatureEffect")],b);const t=b},74321:(x,T,e)=>{e.d(T,{Z:()=>b});var E,a=e(50484),y=e(2189),_=e(34411),f=e(84303),U=e(89317),I=e(34222),O=e(80543),m=(e(14007),e(4703),e(10141)),h=e(91866);const R=new f.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),D=new f.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let c=E=class extends U.wq{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:n,geometry:r,spatialRelationship:s,timeExtent:o,objectIds:i,units:l,distance:S}=this;return new h.Z({geometry:(0,I.d9)(r),objectIds:(0,I.d9)(i),spatialRelationship:s,timeExtent:(0,I.d9)(o),where:n,units:l,distance:S,...t})}clone(){const{where:t,geometry:n,spatialRelationship:r,timeExtent:s,objectIds:o,units:i,distance:l}=this;return new E({geometry:(0,I.d9)(n),objectIds:(0,I.d9)(o),spatialRelationship:r,timeExtent:(0,I.d9)(s),where:t,units:i,distance:l})}};(0,a._)([(0,O.Cb)({type:String,json:{write:!0}})],c.prototype,"where",void 0),(0,a._)([(0,O.Cb)({types:y.qM,json:{write:!0}})],c.prototype,"geometry",void 0),(0,a._)([(0,O.Cb)({type:R.apiValues,json:{name:"spatialRel",read:{reader:R.read},write:{allowNull:!1,writer:R.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],c.prototype,"spatialRelationship",void 0),(0,a._)([(0,O.Cb)({type:Number,json:{write:{overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],c.prototype,"distance",void 0),(0,a._)([(0,O.Cb)({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0),(0,a._)([(0,O.Cb)({type:D.apiValues,json:{read:D.read,write:{writer:D.write,overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],c.prototype,"units",void 0),(0,a._)([(0,O.Cb)({type:_.Z,json:{write:!0}})],c.prototype,"timeExtent",void 0),c=E=(0,a._)([(0,m.j)("esri.layers.support.FeatureFilter")],c);const b=c},30664:(x,T,e)=>{e.d(T,{B:()=>j});var a=e(50484),y=e(89317),_=e(80543),O=(e(14007),e(4703),e(65311),e(10141));let j=class extends y.wq{constructor(){super(...arguments),this.type=null}};(0,a._)([(0,_.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=(0,a._)([(0,O.j)("esri.layers.support.FeatureReduction")],j)},54887:(x,T,e)=>{e.d(T,{Z:()=>m});var j,a=e(50484),y=e(80543),I=(e(14007),e(4703),e(65311),e(10141)),O=e(30664);let M=j=class extends O.B{constructor(h){super(h),this.type="selection"}clone(){return new j}};(0,a._)([(0,y.Cb)({type:["selection"]})],M.prototype,"type",void 0),M=j=(0,a._)([(0,I.j)("esri.layers.support.FeatureReductionSelection")],M);const m=M},97403:(x,T,e)=>{e.d(T,{Z:()=>b});var a=e(50484),y=e(34411),_=e(95539),f=e(25387),U=e(89317),I=e(80543),m=(e(14007),e(4703),e(65311),e(62185)),h=e(10141),E=e(7547),R=e(764);function D(t,n){return _.Z.fromJSON({value:t,unit:n})}let c=class extends((0,f.J)(U.wq)){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,n){return n.timeExtent&&Array.isArray(n.timeExtent)&&2===n.timeExtent.length?y.Z.fromArray(n.timeExtent):null}writeFullTimeExtent(t,n){n.timeExtent=null!=t?.start&&null!=t.end?t.toArray():null}readInterval(t,n){return n.timeInterval&&n.timeIntervalUnits?D(n.timeInterval,n.timeIntervalUnits):n.defaultTimeInterval&&n.defaultTimeIntervalUnits?D(n.defaultTimeInterval,n.defaultTimeIntervalUnits):null}writeInterval(t,n){n.timeInterval=t?.toJSON().value??null,n.timeIntervalUnits=t?.toJSON().unit??null}};(0,a._)([(0,I.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],c.prototype,"cumulative",void 0),(0,a._)([(0,I.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],c.prototype,"endField",void 0),(0,a._)([(0,I.Cb)({type:y.Z,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"fullTimeExtent",void 0),(0,a._)([(0,m.r)("fullTimeExtent",["timeExtent"])],c.prototype,"readFullTimeExtent",null),(0,a._)([(0,E.c)("fullTimeExtent")],c.prototype,"writeFullTimeExtent",null),(0,a._)([(0,I.Cb)({type:Boolean,json:{write:!0}})],c.prototype,"hasLiveData",void 0),(0,a._)([(0,I.Cb)({type:_.Z,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"interval",void 0),(0,a._)([(0,m.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],c.prototype,"readInterval",null),(0,a._)([(0,E.c)("interval")],c.prototype,"writeInterval",null),(0,a._)([(0,I.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],c.prototype,"startField",void 0),(0,a._)([(0,I.Cb)((0,R.mi)("timeReference",!0))],c.prototype,"timeZone",void 0),(0,a._)([(0,I.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],c.prototype,"trackIdField",void 0),(0,a._)([(0,I.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],c.prototype,"useTime",void 0),(0,a._)([(0,I.Cb)({type:[Date],json:{read:!1}})],c.prototype,"stops",void 0),c=(0,a._)([(0,h.j)("esri.layers.support.TimeInfo")],c);const b=c},72523:(x,T,e)=>{e.d(T,{d:()=>d});var N,a=e(76215),y=e(30664),_=e(50484),f=e(62691),h=(e(36699),e(12610),e(53722),e(82752),e(28999),e(38748),e(50923)),R=(e(42212),e(91963)),D=e(41007),c=e(34222),b=e(71763),t=e(55768),n=e(80543),o=(e(14007),e(4703),e(21070)),i=e(62185),l=e(10141),S=e(7547),F=e(53883),W=e(56956),w=e(78818),G=e(40591);let A=N=class extends y.B{constructor(u){super(u),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,t.t_)("12px"),this.fields=[],this.renderer=null}writeFields(u,p,P){const g=u.filter(B=>"avg_angle"!==B.statisticType).map(B=>B.toJSON());(0,b.RB)(P,g,p)}readRenderer(u,p,P){const g=p.drawingInfo?.renderer;return g?(0,R.a)(g,p,P)??void 0:(0,w.Ob)(p,P)}clone(){return new N({fields:(0,c.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,c.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,c.d9)(this.popupTemplate),renderer:(0,c.d9)(this.renderer),binType:(0,c.d9)(this.binType),size:this.size})}};(0,_._)([(0,o.J)({binning:"binning"})],A.prototype,"type",void 0),(0,_._)([(0,o.J)({geohash:"geohash",square:"square"}),(0,n.Cb)({type:["geohash","square"]})],A.prototype,"binType",void 0),(0,_._)([(0,n.Cb)({type:Number,json:{write:!0}})],A.prototype,"fixedBinLevel",void 0),(0,_._)([(0,n.Cb)({type:[G.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],A.prototype,"labelingInfo",void 0),(0,_._)([(0,n.Cb)(W.iR)],A.prototype,"labelsVisible",void 0),(0,_._)([(0,n.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],A.prototype,"maxScale",void 0),(0,_._)([(0,n.Cb)(W.C_)],A.prototype,"popupEnabled",void 0),(0,_._)([(0,n.Cb)({type:f.Z,json:{name:"popupInfo",write:!0}})],A.prototype,"popupTemplate",void 0),(0,_._)([(0,n.Cb)({type:Number,cast:u=>"auto"===u?u:(0,t.t_)(u)})],A.prototype,"size",void 0),(0,_._)([(0,n.Cb)({type:[F.Z],json:{write:!0}})],A.prototype,"fields",void 0),(0,_._)([(0,S.c)("fields")],A.prototype,"writeFields",null),(0,_._)([(0,n.Cb)({types:D.A,json:{write:{target:"drawingInfo.renderer"}}})],A.prototype,"renderer",void 0),(0,_._)([(0,i.r)("renderer",["drawingInfo.renderer"])],A.prototype,"readRenderer",null),A=N=(0,_._)([(0,l.j)("esri.layers.support.FeatureReductionBinning")],A);const H=A;var V,Q=e(71950),X=e(89317);function K(u){return"simple"===u.type&&!u.visualVariables?.length}let L=V=class extends X.wq{constructor(u){super(u),this.type="cluster",this.clusterRadius=(0,t.t_)("80px"),this.clusterMinSize=(0,t.t_)("12px"),this.clusterMaxSize=(0,t.t_)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(u,p,P){const g=p.drawingInfo?.renderer;return g?.authoringInfo?.isAutoGenerated?null:g?K(g)?null:(0,R.a)(g,p,P)??void 0:(0,w.Ob)(p,P)}readSymbol(u,p,P){const g=p.drawingInfo?.renderer;return g?.authoringInfo?.isAutoGenerated?null:g&&K(g)?(0,R.a)(g,p,P)?.symbol:null}writeSymbol(u,p,P,g){const B=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||B){const z=new h.Z({symbol:u});p.drawingInfo={renderer:z.write({},g)}}}writeFields(u,p,P){const g=u.filter(B=>"avg_angle"!==B.statisticType).map(B=>B.toJSON());(0,b.RB)(P,g,p)}readFields(u,p,P){return u.filter(g=>!g.isAutoGenerated).map(g=>F.Z.fromJSON(g))}clone(){return new V({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,c.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,c.d9)(this.fields),maxScale:this.maxScale,renderer:(0,c.d9)(this.renderer),symbol:(0,c.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,c.d9)(this.popupTemplate)})}};(0,_._)([(0,n.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],L.prototype,"type",void 0),(0,_._)([(0,n.Cb)({type:Number,cast:u=>"auto"===u?u:(0,t.t_)(u),json:{write:!0}})],L.prototype,"clusterRadius",void 0),(0,_._)([(0,n.Cb)({type:Number,cast:t.t_,json:{write:!0}})],L.prototype,"clusterMinSize",void 0),(0,_._)([(0,n.Cb)({type:Number,cast:t.t_,json:{write:!0}})],L.prototype,"clusterMaxSize",void 0),(0,_._)([(0,n.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],L.prototype,"maxScale",void 0),(0,_._)([(0,n.Cb)(W.C_)],L.prototype,"popupEnabled",void 0),(0,_._)([(0,n.Cb)({type:f.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],L.prototype,"popupTemplate",void 0),(0,_._)([(0,n.Cb)({types:D.A,json:{write:{target:"drawingInfo.renderer"}}})],L.prototype,"renderer",void 0),(0,_._)([(0,i.r)("renderer",["drawingInfo.renderer"])],L.prototype,"readRenderer",null),(0,_._)([(0,n.Cb)({types:Q.AH})],L.prototype,"symbol",void 0),(0,_._)([(0,i.r)("symbol",["drawingInfo.renderer"])],L.prototype,"readSymbol",null),(0,_._)([(0,S.c)("symbol")],L.prototype,"writeSymbol",null),(0,_._)([(0,n.Cb)({type:[G.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],L.prototype,"labelingInfo",void 0),(0,_._)([(0,n.Cb)(W.iR)],L.prototype,"labelsVisible",void 0),(0,_._)([(0,n.Cb)({type:[F.Z],json:{write:!0}})],L.prototype,"fields",void 0),(0,_._)([(0,S.c)("fields")],L.prototype,"writeFields",null),(0,_._)([(0,i.r)("fields")],L.prototype,"readFields",null),L=V=(0,_._)([(0,l.j)("esri.layers.support.FeatureReductionCluster")],L);const J=L;var v=e(54887);const C={key:"type",base:y.B,typeMap:{cluster:J,binning:H}},d={types:{key:"type",base:y.B,typeMap:{selection:v.Z,cluster:J,binning:H}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:C},"portal-item":{types:C},"web-scene":{types:{key:"type",base:y.B,typeMap:{selection:v.Z}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:a.C}}}}}},27969:(x,T,e)=>{e.d(T,{v:()=>I});var a=e(14007),y=e(4703),_=e(81247),f=e(40100),U=e(85295);function I(){return{fields:{type:[_.Z],value:null,set:function(O){if(O&&(0,a.Z)("big-integer-warning-enabled")){const j=O.filter(M=>"big-integer"===M.type||"oid"===M.type&&(M.length||0)>=8);if(j.length){const M=j.map(m=>`'${m.name}'`).join(", ");y.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${M}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",O)}},fieldsIndex:{readOnly:!0,get(){return f.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(O){this._userOutFields=O,this.notifyChange("outFields")},get:function(){const O=this._userOutFields;if(!O?.length)return null;if(O.includes("*"))return["*"];if(!this.fields)return O;for(const j of O)this.fieldsIndex?.has(j)||y.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${j} found in outFields`,{layer:this,outFields:O});return(0,U.Q0)(this.fieldsIndex,O)}}}}},81238:(x,T,e)=>{e.d(T,{v:()=>y});const y=(0,e(84303).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})}}]);