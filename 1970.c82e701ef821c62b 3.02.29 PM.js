"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[1970],{51310:(fe,V,p)=>{function w(E){return null!=g(E)||null!=y(E)}function N(E){return _.test(E)}function F(E){return g(E)??y(E)}function y(E){const m=new Date(E);return function Z(E,m){if(Number.isNaN(E.getTime()))return!1;let h=!0;if(J&&/\d+\W*$/.test(m)){const S=m.match(/[a-zA-Z]{2,}/);if(S){let M=!1,D=0;for(;!M&&D<=S.length;)M=!I.test(S[D]),D++;h=!M}}return h}(m,E)?Number.isNaN(m.getTime())?null:m.getTime()-6e4*m.getTimezoneOffset():null}function g(E){const m=_.exec(E);if(!m?.groups)return null;const h=m.groups,S=+h.year,M=+h.month-1,D=+h.day,L=+(h.hours??"0"),G=+(h.minutes??"0"),R=+(h.seconds??"0");if(L>23||G>59||R>59)return null;const k=h.ms??"0",Q=k?+k.padEnd(3,"0").substring(0,3):0;let W;return W=h.isUTC||!h.offsetSign?Date.UTC(S,M,D,L,G,R,Q):6e4*("+"===h.offsetSign?-1:1)*(60*+h.offsetHours+ +h.offsetMinutes)+Date.UTC(S,M,D,L,G,R,Q),Number.isNaN(W)?null:W}p.d(V,{mu:()=>N,of:()=>w,sG:()=>F});const _=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,I=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,J=!Number.isNaN(new Date("technology 10").getTime())},78642:(fe,V,p)=>{p.d(V,{O3:()=>de,lG:()=>me,my:()=>re,q9:()=>I});var w=p(51310),N=p(57964),F=p(33721),y=p(83502),g=p(62209),_=p(85295);const Z={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function I(e){return Z[e]}function*J(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const s of e.features)s&&(yield s)}}function*E(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const s of e.coordinates)yield*s;break;case"MultiPolygon":for(const s of e.coordinates)for(const i of s)yield*i}}function h(e){for(const s of e)if(s.length>2)return!0;return!1}function D(e){let s=0;for(let i=0;i<e.length;i++){const c=e[i],d=e[(i+1)%e.length];s+=c[0]*d[1]-d[0]*c[1]}return s<=0}function L(e){const s=e[0],i=e[e.length-1];return s[0]===i[0]&&s[1]===i[1]&&s[2]===i[2]||e.push(s),e}function G(e,s,i){switch(s.type){case"LineString":return function R(e,s,i){return B(e,s.coordinates,i),e}(e,s,i);case"MultiLineString":return function k(e,s,i){for(const c of s.coordinates)B(e,c,i);return e}(e,s,i);case"MultiPoint":return function Q(e,s,i){return B(e,s.coordinates,i),e}(e,s,i);case"MultiPolygon":return function W(e,s,i){for(const c of s.coordinates){ae(e,c[0],i);for(let d=1;d<c.length;d++)ue(e,c[d],i)}return e}(e,s,i);case"Point":return function q(e,s,i){return ne(e,s.coordinates,i),e}(e,s,i);case"Polygon":return function te(e,s,i){const c=s.coordinates;ae(e,c[0],i);for(let d=1;d<c.length;d++)ue(e,c[d],i);return e}(e,s,i)}}function ae(e,s,i){const c=L(s);!function S(e){return!D(e)}(c)?B(e,c,i):le(e,c,i)}function ue(e,s,i){const c=L(s);!function M(e){return D(e)}(c)?B(e,c,i):le(e,c,i)}function B(e,s,i){for(const c of s)ne(e,c,i);e.lengths.push(s.length)}function le(e,s,i){for(let c=s.length-1;c>=0;c--)ne(e,s[c],i);e.lengths.push(s.length)}function ne(e,s,i){const[c,d,U]=s;e.coords.push(c,d),i.hasZ&&e.coords.push(U||0)}function ye(e){switch(typeof e){case"string":return(0,w.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function de(e,s=4326){if(!e)throw new N.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new N.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:i}=e;if(!i)return;const c="string"==typeof i?i:"name"===i.type?i.properties.name:"EPSG"===i.type?i.properties.code:null,d=(0,F.oR)({wkid:s})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(`.*(${s})$`,"i");if(!c||!d.test(c))throw new N.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:i})}function re(e,s={}){const i=[],c=new Set,d=new Set;let U,z=!1,T=null,j=!1,{geometryType:C=null}=s,oe=!1;for(const Y of J(e)){const{geometry:K,properties:O,id:$}=Y;if((!K||(C||(C=I(K.type)),I(K.type)===C))&&(z||(z=h(E(K))),j||(j=null!=$,j&&(U=typeof $,O&&(T=Object.keys(O).filter(A=>O[A]===$)))),O&&T&&j&&null!=$&&(T.length>1?T=T.filter(A=>O[A]===$):1===T.length&&(T=O[T[0]]===$?T:[])),!oe&&O)){let A=!0;for(const v in O){if(c.has(v))continue;const ee=O[v];if(null==ee){A=!1,d.add(v);continue}const ce=ye(ee);if("unknown"===ce){d.add(v);continue}d.delete(v),c.add(v);const pe=(0,_.q6)(v);pe&&i.push({name:pe,alias:v,type:ce})}oe=A}}const H=(0,_.q6)(1===T?.length&&T[0]||null)??void 0;if(H)for(const Y of i)if(Y.name===H&&(0,_.H7)(Y)){Y.type="esriFieldTypeOID";break}return{fields:i,geometryType:C,hasZ:z,objectIdFieldName:H,objectIdFieldType:U,unknownFields:Array.from(d)}}function me(e,s){return Array.from(function*m(e,s={}){const{geometryType:i,objectIdField:c}=s;for(const d of e){const{geometry:U,properties:z,id:T}=d;if(U&&I(U.type)!==i)continue;const j=z||{};let C;c&&(C=j[c],null==T||C||(j[c]=C=T)),yield new y.u_(U?G(new g.Z,U,s):null,j,null,C??void 0)}}(J(e),s))}},21970:(fe,V,p)=>{p.d(V,{Bm:()=>he,FU:()=>de,be:()=>j,bx:()=>xe,eB:()=>O,fU:()=>Pe,ft:()=>T,u2:()=>k});var w=p(15861),F=(p(2189),p(66476)),y=p(57964),g=p(44242),_=p(6785),Z=p(83821),I=p(33721),J=p(31709),E=p(78642),m=p(85401),h=p(89713),S=p(81247),M=p(85295),D=p(26894),L=p(43814);const G="xlink:href",R="2.0.0",k="__esri_wfs_id__",Q="wfs-layer:getWFSLayerTypeInfo-error",W="wfs-layer:empty-service",q="wfs-layer:feature-type-not-found",te="wfs-layer:geojson-not-supported",ae="wfs-layer:kvp-encoding-not-supported",ue="wfs-layer:malformed-json",B="wfs-layer:unknown-geometry-type",le="wfs-layer:unknown-field-type",ne="wfs-layer:unsupported-spatial-reference",ye="wfs-layer:unsupported-wfs-version";function de(r,n){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(r,n){const t=function me(r){const n=Te(r);(function Se(r){const n=r.firstElementChild?.getAttribute("version");if(n&&n!==R)throw new y.Z(ye,`Unsupported WFS version ${n}. Supported version: ${R}`)})(n),we(n);const t=n.firstElementChild,o=(0,g.Fs)(function U(r){return(0,m.H)(r,{FeatureTypeList:{FeatureType:n=>{const t={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",defaultSpatialReference:4326,supportedSpatialReferences:[]},o=new Set;return(0,m.h)(n,{Name:u=>{const{name:a,prefix:l}=se(u.textContent);t.typeName=`${l}:${a}`,t.name=a,t.namespacePrefix=l,t.namespaceUri=u.lookupNamespaceURI(l)},Abstract:u=>{t.description=u.textContent},Title:u=>{t.title=u.textContent},WGS84BoundingBox:u=>{t.extent=D.Z.fromJSON(function z(r){let n,t,o,u;for(const a of r.children)switch(a.localName){case"LowerCorner":[n,t]=a.textContent.split(" ").map(l=>Number.parseFloat(l));break;case"UpperCorner":[o,u]=a.textContent.split(" ").map(l=>Number.parseFloat(l))}return{xmin:n,ymin:t,xmax:o,ymax:u,spatialReference:I.YU}}(u))},DefaultCRS:u=>{const a=d(u);a&&(t.defaultSpatialReference=a,o.add(a))},OtherCRS:u=>{const a=d(u);a&&o.add(a)}}),t.title||(t.title=t.name),o.add(4326),t.supportedSpatialReferences.push(...o),t}}})}(t));return{operations:i(t),get featureTypes(){return Array.from(o())},readFeatureTypes:o}}((yield(0,F.Z)(r,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:R,...n?.customParameters},signal:n?.signal})).data);return function c(r,n){(0,_.$U)(r)&&((0,_.D6)(r,n.operations.DescribeFeatureType.url,!0)&&(n.operations.DescribeFeatureType.url=(0,_.hO)(n.operations.DescribeFeatureType.url)),(0,_.D6)(r,n.operations.GetFeature.url,!0)&&(n.operations.GetFeature.url=(0,_.hO)(n.operations.GetFeature.url)))}(r,t),t})).apply(this,arguments)}const e=["json","application/json","geojson","application/json; subtype=geojson","application/geo+json"];function s(r){for(const n of e){const t=r.findIndex(o=>o.toLowerCase()===n);if(t>=0)return r[t]}return null}function i(r){let n=!1;const t={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}},o=[],u=[];if((0,m.h)(r,{OperationsMetadata:{Parameter:a=>{if("outputFormat"===a.getAttribute("name"))return{AllowedValues:{Value:({textContent:l})=>{l&&o.push(l)}}}},Operation:a=>{switch(a.getAttribute("name")){case"GetCapabilities":return{DCP:{HTTP:{Get:l=>{t.GetCapabilities.url=l.getAttribute(G)}}}};case"DescribeFeatureType":return{DCP:{HTTP:{Get:l=>{t.DescribeFeatureType.url=l.getAttribute(G)}}}};case"GetFeature":return{DCP:{HTTP:{Get:l=>{t.GetFeature.url=l.getAttribute(G)}}},Parameter:l=>{if("outputFormat"===l.getAttribute("name"))return{AllowedValues:{Value:({textContent:f})=>{f&&u.push(f)}}}}}}},Constraint:a=>{switch(a.getAttribute("name")){case"KVPEncoding":return{DefaultValue:l=>{n="true"===l.textContent.toLowerCase()}};case"ImplementsResultPaging":return{DefaultValue:l=>{t.GetFeature.supportsPagination="true"===l.textContent.toLowerCase()}}}}}}),t.GetFeature.outputFormat=s(u)??s(o),!n)throw new y.Z(ae,"WFS service doesn't support key/value pair (KVP) encoding");if(null==t.GetFeature.outputFormat)throw new y.Z(te,"WFS service doesn't support GeoJSON output format");return t}function d(r){const n=parseInt(r.textContent?.match(/(?<wkid>\d+$)/i)?.groups?.wkid??"",10);if(!Number.isNaN(n))return n}function T(r,n,t){return(0,g.sE)(r,o=>t?o.name===n&&o.namespaceUri===t:o.typeName===n||o.name===n)}function j(r,n,t){return C.apply(this,arguments)}function C(){return C=(0,w.Z)(function*(r,n,t,o={}){const{featureType:u,extent:a}=yield function oe(r,n,t){return H.apply(this,arguments)}(r,n,t,o),{spatialReference:l}=Pe(r.operations.GetFeature.url,u,o.spatialReference),{fields:f,geometryType:P,swapXY:b,objectIdField:x,geometryField:X}=yield function Y(r,n,t){return K.apply(this,arguments)}(r,u,l,o);return{url:r.operations.GetCapabilities.url,name:u.name,namespaceUri:u.namespaceUri,fields:f,geometryField:X,geometryType:P,objectIdField:x,spatialReference:o.spatialReference??new L.Z({wkid:u.defaultSpatialReference}),extent:a,swapXY:b,wfsCapabilities:r,customParameters:o.customParameters}}),C.apply(this,arguments)}function H(){return(H=(0,w.Z)(function*(r,n,t,o={}){const u=r.readFeatureTypes(),a=n?T(u,n,t):u.next().value,{spatialReference:l=new L.Z({wkid:a?.defaultSpatialReference})}=o;if(null==a)throw n?new y.Z(q,`The type '${n}' could not be found in the service`):new y.Z(W,"The service is empty");let f=a.extent;if(f&&!(0,I.fS)(f.spatialReference,l))try{yield(0,Z.initializeProjection)(f.spatialReference,l,void 0,o),f=(0,Z.project)(f,l)}catch{throw new y.Z(ne,"Projection not supported")}return{extent:f,spatialReference:l,featureType:a}})).apply(this,arguments)}function K(){return(K=(0,w.Z)(function*(r,n,t,o={}){const{typeName:u}=n,[a,l]=yield Promise.allSettled([v(r.operations.DescribeFeatureType.url,u,o),$(r,u,t,o)]),f=ie=>new y.Z(Q,`An error occurred while getting info about the feature type '${u}'`,{error:ie});if("rejected"===a.status)throw f(a.reason);if("rejected"===l.status)throw f(l.reason);const{fields:P,errors:b}=a.value??{},x=a.value?.geometryType||l.value?.geometryType,X=l.value?.swapXY??!1;if(null==x)throw new y.Z(B,`The geometry type could not be determined for type '${u}`,{typeName:u,geometryType:x,fields:P,errors:b});return{...O(P??[]),geometryType:x,swapXY:X}})).apply(this,arguments)}function O(r){const n=r.find(o=>"geometry"===o.type);let t=r.find(o=>"oid"===o.type);return r=r.filter(o=>"geometry"!==o.type),t||(t=new S.Z({name:k,type:"oid",alias:k}),r.unshift(t)),{geometryField:n?.name??null,objectIdField:t.name,fields:r}}function $(r,n,t){return A.apply(this,arguments)}function A(){return(A=(0,w.Z)(function*(r,n,t,o={}){let u,a=!1;const[l,f]=yield Promise.all([he(r.operations.GetFeature.url,n,t,r.operations.GetFeature.outputFormat,{...o,count:1}),(0,F.Z)(r.operations.GetFeature.url,{responseType:"text",query:Ee(n,t,void 0,{...o,count:1}),signal:o?.signal})]),P="FeatureCollection"===l.type&&l.features[0]?.geometry;if(P){let b;switch(u=J.M.fromJSON((0,E.q9)(P.type)),P.type){case"Point":b=P.coordinates;break;case"LineString":case"MultiPoint":b=P.coordinates[0];break;case"MultiLineString":case"Polygon":b=P.coordinates[0][0];break;case"MultiPolygon":b=P.coordinates[0][0][0]}const x=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(f.data);if(x){const X=b[0].toFixed(3),ie=b[1].toFixed(3),Fe=parseFloat(x[1]).toFixed(3);X===parseFloat(x[2]).toFixed(3)&&ie===Fe&&(a=!0)}}return{geometryType:u,swapXY:a}})).apply(this,arguments)}function v(r,n,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*(r,n,t){return function ce(r,n){const{name:t}=se(r),o=Te(n);we(o);const u=(0,g.sE)((0,m.H)(o.firstElementChild,{element:a=>a}),a=>a.getAttribute("name")===t);if(null!=u){const a=u.getAttribute("type"),l=a?(0,g.sE)((0,m.H)(o.firstElementChild,{complexType:f=>f}),f=>f.getAttribute("name")===se(a).name):(0,g.sE)((0,m.H)(u,{complexType:f=>f}),()=>!0);if(l)return function be(r){const n=[],t=[];let o;const u=(0,m.H)(r,{complexContent:{extension:{sequence:{element:a=>a}}}});for(const a of u){const l=a.getAttribute("name");if(!l)continue;let f,P;if(a.hasAttribute("type")?f=se(a.getAttribute("type")).name:(0,m.h)(a,{simpleType:{restriction:X=>(f=se(X.getAttribute("base")).name,{maxLength:ie=>{P=+ie.getAttribute("value")}})}}),!f)continue;const b="true"===a.getAttribute("nillable");let x=!1;switch(f.toLowerCase()){case"integer":case"nonpositiveinteger":case"negativeinteger":case"long":case"int":case"short":case"byte":case"nonnegativeinteger":case"unsignedlong":case"unsignedint":case"unsignedshort":case"unsignedbyte":case"positiveinteger":t.push(new S.Z({name:l,alias:l,type:"integer",nullable:b,length:(0,M.ZR)("integer")}));break;case"float":case"double":case"decimal":t.push(new S.Z({name:l,alias:l,type:"double",nullable:b,length:(0,M.ZR)("double")}));break;case"boolean":case"string":case"gyearmonth":case"gyear":case"gmonthday":case"gday":case"gmonth":case"anyuri":case"qname":case"notation":case"normalizedstring":case"token":case"language":case"idrefs":case"entities":case"nmtoken":case"nmtokens":case"name":case"ncname":case"id":case"idref":case"entity":case"duration":case"time":t.push(new S.Z({name:l,alias:l,type:"string",nullable:b,length:P??(0,M.ZR)("string")}));break;case"datetime":case"date":t.push(new S.Z({name:l,alias:l,type:"date",nullable:b,length:P??(0,M.ZR)("date")}));break;case"pointpropertytype":o="point",x=!0;break;case"multipointpropertytype":o="multipoint",x=!0;break;case"curvepropertytype":case"multicurvepropertytype":case"multilinestringpropertytype":o="polyline",x=!0;break;case"surfacepropertytype":case"multisurfacepropertytype":case"multipolygonpropertytype":o="polygon",x=!0;break;case"geometrypropertytype":case"multigeometrypropertytype":x=!0,n.push(new y.Z(B,`geometry type '${f}' is not supported`,{type:(new XMLSerializer).serializeToString(r)}));break;default:n.push(new y.Z(le,`Unknown field type '${f}'`,{type:(new XMLSerializer).serializeToString(r)}))}x&&t.push(new S.Z({name:l,alias:l,type:"geometry",nullable:b}))}for(const a of t)if("integer"===a.type&&!a.nullable&&pe.has(a.name.toLowerCase())){a.type="oid";break}return{geometryType:o,fields:t,errors:n}}(l)}throw new y.Z(q,`Type '${r}' not found in document`,{document:(new XMLSerializer).serializeToString(o)})}(n,(yield(0,F.Z)(r,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:R,TYPENAME:n,TYPENAMES:n,...t?.customParameters},signal:t?.signal})).data)})).apply(this,arguments)}const pe=new Set(["objectid","fid"]);function he(r,n,t,o,u){return ge.apply(this,arguments)}function ge(){return(ge=(0,w.Z)(function*(r,n,t,o,u){let{data:a}=yield(0,F.Z)(r,{responseType:"text",query:Ee(n,t,o,u),signal:u?.signal});a=a.replaceAll(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{return JSON.parse(a)}catch(l){throw new y.Z(ue,"Error while parsing the\xa0response",{response:a,error:l})}})).apply(this,arguments)}function Ee(r,n,t,o){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:R,TYPENAMES:r,OUTPUTFORMAT:t,SRSNAME:"EPSG:"+("number"==typeof n?n:n.wkid),STARTINDEX:o?.startIndex,COUNT:o?.count,...o?.customParameters}}function xe(r,n,t){return _e.apply(this,arguments)}function _e(){return(_e=(0,w.Z)(function*(r,n,t){const o=yield(0,F.Z)(r,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:R,TYPENAMES:n,RESULTTYPE:"hits",...t?.customParameters},signal:t?.signal}),u=/numberMatched=["'](?<numberMatched>\d+)["']/gi.exec(o.data);if(u?.groups)return+u.groups.numberMatched})).apply(this,arguments)}function Te(r){return(new DOMParser).parseFromString(r.trim(),"text/xml")}function se(r){const[n,t]=r.split(":");return{prefix:t?n:"",name:t??n}}function we(r){let n="",t="";if((0,m.h)(r.firstElementChild,{Exception:o=>(n=o.getAttribute("exceptionCode"),{ExceptionText:u=>{t=u.textContent}})}),n)throw new y.Z(`wfs-layer:${n}`,t)}function Pe(r,n,t){const o={wkid:n.defaultSpatialReference},u=null!=t?.wkid?{wkid:t.wkid}:o;return{spatialReference:u,getFeatureSpatialReference:(0,h.B5)(r)||u.wkid&&n.supportedSpatialReferences.includes(u.wkid)?{wkid:u.wkid}:{wkid:n.defaultSpatialReference}}}},85401:(fe,V,p)=>{function w(F,y){if(F&&y)for(const g of F.children)if(g.localName in y){const _=y[g.localName];if("function"==typeof _){const Z=_(g);Z&&w(g,Z)}else w(g,_)}}function*N(F,y){for(const g of F.children)if(g.localName in y){const _=y[g.localName];"function"==typeof _?yield _(g):yield*N(g,_)}}p.d(V,{H:()=>N,h:()=>w})}}]);