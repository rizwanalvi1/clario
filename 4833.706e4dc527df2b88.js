"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[4833,5398,1519,9005],{52540:(ce,te,C)=>{C.d(te,{z:()=>H});var u=C(39921);class H{constructor(l,W){this._storage=new u.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=l,this._storage.register(this),W&&this._storage.registerRemoveFunc("",W)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(l,W,R=1){this._storage.put(this,l,W,R,1)}pop(l){return this._storage.pop(this,l)}get(l){return this._storage.get(this,l)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(l){this._storage.maxSize=l}resetHitRate(){}}},39921:(ce,te,C)=>{C.d(te,{WJ:()=>R,Xq:()=>W});var l,G,u=C(43029);(G=l||(l={}))[G.ALL=0]="ALL",G[G.SOME=1]="SOME";class W{constructor(E,y,P){this.name=E,this._storage=y,this.id=F+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),P&&(this._storage.registerRemoveFunc(this.id,P),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(E){return this._storage.getSize(this,E)}resetHitRate(){this._hit=this._miss=0}put(E,y,P,O=0){this._storage.put(this,E,y,P,O)}pop(E){const y=this._storage.pop(this,E);return void 0===y?++this._miss:++this._hit,y}get(E){const y=this._storage.get(this,E);return void 0===y?++this._miss:++this._hit,y}peek(E){return this._storage.peek(this,E)}updateSize(E,y,P){this._storage.updateSize(this,E,y,P)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class R{get size(){return this._size}constructor(E=10485760){this._maxSize=E,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new u.Z,this._users=new u.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(E){this._users.push(E)}deregister(E){this._users.removeUnordered(E)}registerRemoveFunc(E,y){this._removeFuncs.push([E,y])}deregisterRemoveFunc(E){this._removeFuncs.filterInPlace(y=>y[0]!==E)}get maxSize(){return this._maxSize}set maxSize(E){this._maxSize=Math.max(E,-1),this._checkSize()}getSize(E,y){return this._db.get(E.id+y)?.size??0}put(E,y,P,O,L){const S=this._db.get(y=E.id+y);if(S&&(this._size-=S.size,E.size-=S.size,this._db.delete(y),S.entry!==P&&this._notifyRemove(y,S.entry,S.size,l.ALL)),O>this._maxSize)return void this._notifyRemove(y,P,O,l.ALL);if(void 0===P)return void console.warn("Refusing to cache undefined entry ");if(!O||O<0)return console.warn(`Refusing to cache entry with size ${O} for key ${y}`),void this._notifyRemove(y,P,0,l.ALL);const K=1+Math.max(L,-4)- -3;this._db.set(y,new k(P,O,K)),this._size+=O,E.size+=O,this._checkSize()}updateSize(E,y,P,O){const L=this._db.get(y=E.id+y);if(L&&L.entry===P){for(this._size-=L.size,E.size-=L.size;O>this._maxSize;){const S=this._notifyRemove(y,P,O,l.SOME);if(!(null!=S&&S>0))return void this._db.delete(y);O=S}L.size=O,this._size+=O,E.size+=O,this._checkSize()}}pop(E,y){const P=this._db.get(y=E.id+y);if(P)return this._size-=P.size,E.size-=P.size,this._db.delete(y),++this._hit,P.entry;++this._miss}get(E,y){const P=this._db.get(y=E.id+y);if(void 0!==P)return this._db.delete(y),P.lives=P.lifetime,this._db.set(y,P),++this._hit,P.entry;++this._miss}peek(E,y){const P=this._db.get(E.id+y);return P?++this._hit:++this._miss,P?.entry}get performanceInfo(){const E={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},y={},P=new Array;this._db.forEach((S,K)=>{const g=S.lifetime;P[g]=(P[g]||0)+S.size,this._users.forAll(_=>{const{id:p,name:c}=_;K.startsWith(p)&&(y[c]=(y[c]||0)+S.size)})});const O={};this._users.forAll(S=>{const K=S.name;"hitRate"in S&&"number"==typeof S.hitRate&&!isNaN(S.hitRate)&&S.hitRate>0?(y[K]=y[K]||0,O[K]=Math.round(100*S.hitRate)+"%"):O[K]="0%"});const L=Object.keys(y);L.sort((S,K)=>y[K]-y[S]),L.forEach(S=>E[S]=Math.round(y[S]/2**20)+"MB / "+O[S]);for(let S=P.length-1;S>=0;--S){const K=P[S];K&&(E["Priority "+(S+-3-1)]=Math.round(K/this._size*100)+"%")}return E}resetStats(){this._hit=this._miss=0,this._users.forAll(E=>E.resetHitRate())}clear(E){const y=E.id;this._db.forEach((P,O)=>{O.startsWith(y)&&(this._size-=P.size,this._db.delete(O),this._notifyRemove(O,P.entry,P.size,l.ALL))}),E.size=0}clearAll(){this._db.forEach((E,y)=>this._notifyRemove(y,E.entry,E.size,l.ALL)),this._users.forAll(E=>E.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(E,y,P,O){let L;return this._removeFuncs.some(S=>{if(E.startsWith(S[0])){const K=S[1](y,O,P);return"number"==typeof K&&(L=K),!0}return!1}),L}_checkSize(){this._users.forAll(E=>this._checkSizeLimits(E)),this._checkSizeLimits()}_checkSizeLimits(E){const y=E??this;if(y.maxSize<0||y.size<=y.maxSize)return;const P=E?.id;let O=!0;for(;O;){O=!1;for(const[L,S]of this._db)if(0===S.lifetime&&(!P||L.startsWith(P))){if(this._purgeItem(L,S,E),y.size<=.9*y.maxSize)return;O||=this._db.has(L)}}for(const[L,S]of this._db)if((!P||L.startsWith(P))&&(this._purgeItem(L,S,E),y.size<=.9*y.maxSize))return}_purgeItem(E,y,P=this._users.find(O=>E.startsWith(O.id))){if(this._db.delete(E),y.lives<=1){this._size-=y.size,P&&(P.size-=y.size);const O=this._notifyRemove(E,y.entry,y.size,l.SOME);null!=O&&O>0&&(this._size+=O,P&&(P.size+=O),y.lives=y.lifetime,y.size=O,this._db.set(E,y))}else--y.lives,this._db.set(E,y)}}let F=0;class k{constructor(E,y,P){this.entry=E,this.size=y,this.lifetime=P,this.lives=P}}},657:(ce,te,C)=>{C.d(te,{$c:()=>L,Hg:()=>S,jW:()=>y,uD:()=>P});var u=C(73514),H=C(83944),Q=C(49301);const l=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function W(g){return g instanceof u.Z}function R(g){return g instanceof H.Z?Object.keys(g.items):W(g)?(0,Q.vw)(g).keys():g?Object.keys(g):[]}function F(g,_){return g instanceof H.Z?g.items[_]:g[_]}function G(g){return g?g.declaredClass:null}function E(g,_){const p=g.diff;if(p&&"function"==typeof p)return p(g,_);const c=R(g),I=R(_);if(0===c.length&&0===I.length)return;if(!c.length||!I.length||function k(g,_){return!(!Array.isArray(g)||!Array.isArray(_))&&g.length!==_.length}(g,_))return{type:"complete",oldValue:g,newValue:_};const v=I.filter(Z=>!c.includes(Z)),f=c.filter(Z=>!I.includes(Z)),h=c.filter(Z=>I.includes(Z)&&F(g,Z)!==F(_,Z)).concat(v,f).sort(),j=G(g);if(j&&l.has(j)&&h.length)return{type:"complete",oldValue:g,newValue:_};let N;const q=W(g)&&W(_);for(const Z of h){const D=F(g,Z),A=F(_,Z);let U;if((q||"function"!=typeof D&&"function"!=typeof A)&&D!==A&&(null!=D||null!=A)){if(p&&p[Z]&&"function"==typeof p[Z])U=p[Z]?.(D,A);else if(D instanceof Date&&A instanceof Date){if(D.getTime()===A.getTime())continue;U={type:"complete",oldValue:D,newValue:A}}else U="object"==typeof D&&"object"==typeof A&&G(D)===G(A)?E(D,A):{type:"complete",oldValue:D,newValue:A};null!=U&&(null!=N?N.diff[Z]=U:N={type:"partial",diff:{[Z]:U}})}}return N}function y(g,_){return P(g,_)}function P(g,_){if(null==g)return!1;const p=_.split(".");let c=g;for(const I of p){if("complete"===c.type)return!0;if("partial"!==c.type)return!1;{const v=c.diff[I];if(!v)return!1;c=v}}return!0}function L(g,_){if(!g)return!1;if("partial"===g.type){const p=Object.keys(g.diff);return 1===p.length&&p[0]===_}return!1}function S(g,_){if("function"!=typeof g&&"function"!=typeof _&&(null!=g||null!=_))return null==g||null==_||"object"==typeof g&&"object"==typeof _&&G(g)!==G(_)?{type:"complete",oldValue:g,newValue:_}:E(g,_)}},15398:(ce,te,C)=>{C.d(te,{A4:()=>Q,L9:()=>l,yV:()=>H});var u=C(25037);class H{}function Q(R){return R instanceof u.ld?R===H.instance:"unknown"===R?.toString().toLowerCase()}function l(R){return Q(R)?H.instance:R}H.instance=new u.vF("Etc/UTC")},66398:(ce,te,C)=>{function H(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:a.tolerance?[a.tolerance,a.tolerance,1,1]:[1,1,1,1],translate:null!=a.extent?[a.extent.xmin,a.extent.ymax,a.extent.zmin??0,a.extent.mmin??0]:[0,0,0,0]}:null}function l(a){if(function Q(a){return"lowerLeft"===a.originPosition&&4===a.scale.length&&4===a.translate.length}(a))return a;const{originPosition:i,scale:s,translate:m}=a,b=s[1]??1;return{originPosition:"lowerLeft",scale:[s[0]??1,"lowerLeft"===i?b:-b,s[2]??1,s[3]??1],translate:[m[0]??0,m[1]??0,m[2]??0,m[3]??0]}}function g({scale:a,translate:i},s){return s*a[0]+i[0]}function _({scale:a,translate:i},s){return s*a[1]+i[1]}function p({scale:a,translate:i},s){return(s??0)*a[2]+i[2]}function c({scale:a,translate:i},s){return s?s*a[3]+i[3]:0}function I(a,i){return a&&i?j:a&&!i?f:!a&&i?h:v}C.d(te,{G6:()=>me,Ie:()=>be,J9:()=>Pe,RF:()=>le,U1:()=>Ee,vY:()=>H}),C(40637);const v=(a,i)=>{const s=new Array(i.length);if(!i.length)return s;const m=i[0];let z=g(a,m[0]),b=_(a,m[1]);s[0]=[z,b];const{scale:M,originPosition:V}=a,d=M[0],w="lowerLeft"===V?M[1]:-M[1];for(let x=1;x<i.length;x++){const[T,$]=i[x];z+=d*T,b+=w*$,s[x]=[z,b]}return s},f=(a,i)=>{const s=new Array(i.length);if(!i.length)return s;const m=i[0];let z=g(a,m[0]),b=_(a,m[1]);s[0]=[z,b,p(a,m[2])];const{scale:M,originPosition:V}=a,d=M[0],w="lowerLeft"===V?M[1]:-M[1];for(let x=1;x<i.length;x++){const[T,$,J]=i[x];z+=d*T,b+=w*$,s[x]=[z,b,p(a,J)]}return s},h=(a,i)=>{const s=new Array(i.length);if(!i.length)return s;const m=i[0];let z=g(a,m[0]),b=_(a,m[1]);s[0]=[z,b,c(a,m[2])];const{scale:M,originPosition:V}=a,d=M[0],w="lowerLeft"===V?M[1]:-M[1];for(let x=1;x<i.length;x++){const[T,$,J]=i[x];z+=d*T,b+=w*$,s[x]=[z,b,c(a,J)]}return s},j=(a,i)=>{const s=new Array(i.length);if(!i.length)return s;const m=i[0];let z=g(a,m[0]),b=_(a,m[1]);s[0]=[z,b,p(a,m[2]),c(a,m[3])];const{scale:M,originPosition:V}=a,d=M[0],w="lowerLeft"===V?M[1]:-M[1];for(let x=1;x<i.length;x++){const[T,$,J,ie]=i[x];z+=d*T,b+=w*$,s[x]=[z,b,p(a,J),c(a,ie)]}return s};function N(a,i,s){const m=new Array(s.length);for(let z=0;z<s.length;z++)m[z]=i(a,s[z]);return m}function le(a,i,s){const m=l(a);return i.x=function W({scale:a,translate:i},s){return Math.round((s-i[0])/a[0])}(m,s.x),i.y=function R({scale:a,translate:i},s){return Math.round((s-i[1])/a[1])}(m,s.y),null!=s.z&&(i.z=function F({scale:a,translate:i},s){return Math.round(((s??0)-i[2])/a[2])}(m,s.z)),null!=s.m&&(i.m=function k({scale:a,translate:i},s){return s?Math.round((s-i[3])/a[3]):0}(m,s.m)),i}function Pe(a,i,s,m=s?.hasZ??!1,z=s?.hasM??!1){if(null!=s){const b=l(a);i.points=I(m,z)(b,s.points),i.hasZ=m,i.hasM=z}return i}function Ee(a,i,s,m=null!=s?.z,z=null!=s?.m){if(null==s)return i;const b=l(a);return i.x=g(b,s.x),i.y=_(b,s.y),m&&(i.z=p(b,s.z)),z&&(i.m=c(b,s.m)),i}function be(a,i,s,m=s?.hasZ??!1,z=s?.hasM??!1){if(null!=s){const b=l(a);i.rings=N(b,I(m,z),s.rings),i.hasZ=m,i.hasM=z}return i}function me(a,i,s,m=s?.hasZ??!1,z=s?.hasM??!1){if(null!=s){const b=l(a);i.paths=N(b,I(m,z),s.paths),i.hasZ=m,i.hasM=z}return i}},60617:(ce,te,C)=>{C.r(te),C.d(te,{default:()=>V});var u=C(50484),H=C(57964),Q=C(84303),l=C(80543),W=C(73018),R=C(10141),F=C(90373),k=C(25387),G=C(89317),O=(C(14007),C(4703),C(65311),C(73514));const L=[2155,2194,2204,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2314,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2964,2965,2966,2967,2968,2992,2994,3080,3089,3091,3102,3359,3359,3361,3363,3365,3366,3404,3407,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3441,3442,3443,3444,3445,3446,3451,3452,3453,3454,3455,3456,3457,3458,3459,3479,3481,3483,3485,3487,3490,3492,3494,3496,3498,3500,3502,3504,3506,3508,3510,3512,3515,3517,3519,3521,3523,3525,3527,3529,3531,3533,3535,3537,3539,3541,3543,3545,3547,3549,3551,3553,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3582,3584,3586,3588,3590,3593,3598,3600,3605,3608,3610,3612,3614,3616,3618,3620,3622,3624,3626,3628,3630,3632,3634,3636,3640,3642,3644,3646,3648,3650,3652,3654,3656,3658,3660,3662,3664,3668,3670,3672,3674,3676,3677,3679,3680,3682,3683,3686,3688,3690,3692,3696,3698,3700,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3753,3754,3755,3756,3757,3758,3759,3760,3991,3992,4217,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4438,4439,4455,4456,4457,5466,5588,5589,5623,5624,5625,5646,5654,5655,6128,6129,6141,6200,6201,6202,6391,6405,6407,6409,6411,6413,6416,6418,6420,6422,6424,6426,6428,6430,6432,6434,6436,6438,6441,6443,6445,6447,6449,6451,6453,6455,6457,6459,6461,6463,6465,6467,6469,6471,6473,6475,6477,6479,6484,6486,6488,6490,6492,6494,6496,6499,6501,6503,6505,6507,6510,6515,6517,6519,6521,6523,6525,6527,6529,6531,6533,6535,6537,6539,6541,6543,6545,6547,6549,6551,6553,6555,6557,6559,6561,6563,6565,6568,6570,6572,6574,6576,6578,6582,6584,6586,6588,6590,6593,6595,6597,6599,6601,6603,6605,6607,6609,6612,6614,6616,6618,6625,6626,6627,6633,6785,6787,6789,6791,6793,6795,6797,6799,6801,6803,6805,6807,6809,6811,6813,6815,6817,6819,6821,6823,6825,6827,6829,6831,6833,6835,6837,6839,6841,6843,6845,6847,6849,6851,6853,6855,6857,6859,6861,6863,6868,6880,6885,6887,6923,6925,6966,6997,7057,7058,7059,7060,7061,7062,7063,7064,7065,7066,7067,7068,7069,7070,7119,7120,7121,7122,7123,7124,7125,7126,7127,7128,7132,7258,7260,7262,7264,7266,7268,7270,7272,7274,7276,7278,7280,7282,7284,7286,7288,7290,7292,7294,7296,7298,7300,7302,7304,7306,7308,7310,7312,7314,7316,7318,7320,7322,7324,7326,7328,7330,7332,7334,7336,7338,7340,7342,7344,7346,7348,7350,7352,7354,7356,7358,7360,7362,7364,7366,7368,7370,7558,7587,7588,7589,7590,7591,7592,7593,7594,7595,7596,7597,7598,7599,7600,7601,7602,7603,7604,7605,7606,7607,7608,7609,7610,7611,7612,7613,7614,7615,7616,7617,7618,7619,7620,7621,7622,7623,7624,7625,7626,7627,7628,7629,7630,7631,7632,7633,7634,7635,7636,7637,7638,7639,7640,7641,7642,7643,7644,7645,24100,26729,26730,26731,26732,26733,26734,26735,26736,26737,26738,26739,26740,26741,26742,26743,26744,26745,26746,26747,26748,26749,26750,26751,26752,26753,26754,26755,26756,26757,26758,26759,26760,26766,26767,26768,26769,26770,26771,26772,26773,26774,26775,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26786,26787,26791,26792,26793,26794,26795,26796,26797,26798,26799,26801,26802,26803,26811,26812,26813,26814,26815,26819,26820,26821,26822,26825,26826,26830,26831,26832,26833,26836,26837,26841,26842,26843,26844,26847,26848,26849,26850,26851,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26862,26863,26864,26865,26866,26867,26868,26869,26870,32001,32002,32003,32005,32006,32007,32008,32009,32010,32011,32012,32013,32014,32015,32016,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32034,32035,32036,32037,32038,32039,32040,32041,32042,32043,32044,32045,32046,32047,32048,32049,32050,32051,32052,32053,32054,32055,32056,32057,32058,32064,32065,32066,32067,32074,32075,32076,32077,32099,32164,32165,32166,32167,32664,32665,32666,32667,65061,102120,102121,102629,102630,102631,102632,102633,102634,102635,102636,102637,102638,102639,102640,102641,102642,102643,102644,102645,102646,102648,102649,102650,102651,102652,102653,102654,102655,102656,102657,102658,102659,102660,102661,102662,102663,102664,102665,102666,102667,102668,102669,102670,102671,102672,102673,102674,102675,102676,102677,102678,102679,102680,102681,102682,102683,102684,102685,102686,102687,102688,102689,102690,102691,102692,102693,102694,102695,102696,102697,102698,102700,102704,102707,102708,102709,102710,102711,102712,102713,102714,102715,102716,102717,102718,102719,102720,102721,102722,102723,102724,102725,102726,102727,102728,102729,102730,102733,102734,102735,102736,102737,102738,102739,102740,102741,102742,102743,102744,102745,102746,102747,102748,102749,102750,102751,102752,102753,102754,102755,102756,102757,102758,102761,102766],S=[5614,5702,6130,6131,6132,6358,6359,6360],K=[115700,4326];function g(d){return L.includes(d)?"feet":"meters"}function _(d,w){return"number"==typeof d?S.includes(d)?"feet":"meters":g(w)}function p(d,w){return d&&K.includes(d)||4326===w?"ellipsoidal":"gravity-related-height"}let c=class extends O.Z{constructor(){super(...arguments),this.verticalWKID=null}get isAdvanced(){const{affineTransformations:d,focalLength:w,principalOffsetPoint:x,radialDistortionCoefficients:T,tangentialDistortionCoefficients:$}=this;return d?.length>1&&!Number.isNaN(w)&&x?.length>1&&T?.length>1&&$?.length>1}get unitAndHeightInfo(){const{horizontalWKID:d,verticalWKID:w}=this;let x=d,T=w;const $=this;if(4===$.type){const{properties:J}=$;x=4326,T=J.verticalWKID}return{heightModel:p(T,x),heightUnit:_(T,x),horizontalUnit:g(x)}}};(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"affineTransformations",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"focalLength",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"principalOffsetPoint",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"radialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"tangentialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"horizontalWKID",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"verticalWKID",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"x",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"y",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"z",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],c.prototype,"type",void 0),(0,u._)([(0,l.Cb)({readOnly:!0})],c.prototype,"unitAndHeightInfo",null),c=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.CameraOrientation")],c);const I=c;let v=class extends((0,k.J)((0,G.eC)(I))){constructor(){super(...arguments),this.type=1}toString(){const{type:d,horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,heading:ie,pitch:ne,roll:oe,affineTransformations:pe,focalLength:he,principalOffsetPoint:ue,radialDistortionCoefficients:fe,tangentialDistortionCoefficients:_e}=this,ee=[d,w,x,T,$,J,ie,ne,oe];return this.isAdvanced&&(pe?.forEach(B=>ee.push(B)),ee.push(he),ue?.forEach(B=>ee.push(B)),fe?.forEach(B=>ee.push(B)),_e?.forEach(B=>ee.push(B))),ee.map(B=>Number.isNaN(B)?"":B).join("|")}};(0,u._)([(0,l.Cb)({json:{write:!0}})],v.prototype,"type",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],v.prototype,"affineTransformations",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"focalLength",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],v.prototype,"principalOffsetPoint",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],v.prototype,"radialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],v.prototype,"tangentialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"heading",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"pitch",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"roll",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"horizontalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"verticalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"x",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"y",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],v.prototype,"z",void 0),v=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.CameraOrientationHPR")],v);const f=v;let h=class extends((0,k.J)((0,G.eC)(I))){constructor(){super(...arguments),this.type=2,this.verticalWKID=null}toString(){const{type:d,horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,omega:ie,phi:ne,kappa:oe,affineTransformations:pe,focalLength:he,principalOffsetPoint:ue,radialDistortionCoefficients:fe,tangentialDistortionCoefficients:_e}=this,ee=[d,w,x,T,$,J,ie,ne,oe];return this.isAdvanced&&(pe?.forEach(B=>ee.push(B)),ee.push(he),ue?.forEach(B=>ee.push(B)),fe?.forEach(B=>ee.push(B)),_e?.forEach(B=>ee.push(B))),ee.map(B=>isNaN(B)?"":B).join("|")}};(0,u._)([(0,l.Cb)({json:{write:!0}})],h.prototype,"type",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],h.prototype,"affineTransformations",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"focalLength",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],h.prototype,"principalOffsetPoint",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],h.prototype,"radialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],h.prototype,"tangentialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"omega",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"phi",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"kappa",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"horizontalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"verticalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"x",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"y",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],h.prototype,"z",void 0),h=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.CameraOrientationOPK")],h);const j=h;let N=class extends((0,k.J)((0,G.eC)(I))){constructor(){super(...arguments),this.type=3}get isAdvanced(){const{affineTransformations:d,focalLength:w,principalOffsetPoint:x,radialDistortionCoefficients:T,tangentialDistortionCoefficients:$}=this;return d?.length>1||!Number.isNaN(w)||x?.length>1||T?.length>1||$?.length>1}toString(){const{type:d,horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,yaw:ie,pitch:ne,roll:oe,affineTransformations:pe,focalLength:he,principalOffsetPoint:ue,radialDistortionCoefficients:fe,tangentialDistortionCoefficients:_e}=this,ee=[d,w,x,T,$,J,ie,ne,oe];return this.isAdvanced&&(pe?.forEach(B=>ee.push(B)),ee.push(he),ue?.forEach(B=>ee.push(B)),ue?.forEach(B=>ee.push(B)),fe?.forEach(B=>ee.push(B)),_e?.forEach(B=>ee.push(B))),ee.map(B=>Number.isNaN(B)?"":B).join("|")}};(0,u._)([(0,l.Cb)({json:{write:!0}})],N.prototype,"type",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],N.prototype,"affineTransformations",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"focalLength",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],N.prototype,"principalOffsetPoint",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],N.prototype,"radialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:[Number],json:{write:!0}})],N.prototype,"tangentialDistortionCoefficients",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"yaw",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"pitch",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"roll",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"horizontalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"verticalWKID",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"x",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"y",void 0),(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],N.prototype,"z",void 0),N=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.CameraOrientationYPR")],N);const q=N;C(6661);let D=class extends G.wq{constructor(){super(...arguments),this.url=null}};(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],D.prototype,"lod",void 0),(0,u._)([(0,l.Cb)({type:String,json:{write:!0}})],D.prototype,"rasterFunction",void 0),(0,u._)([(0,l.Cb)({type:String,json:{write:!0}})],D.prototype,"url",void 0),D=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource")],D);let A=class extends G.wq{constructor(){super(...arguments),this.constantElevation=null}};var le,d;(0,u._)([(0,l.Cb)({type:Number,json:{write:!0}})],A.prototype,"constantElevation",void 0),A=(0,u._)([(0,R.j)("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ConstantElevation")],A),(d=le||(le={}))[d.HPR=1]="HPR",d[d.OPK=2]="OPK",d[d.YPR=3]="YPR",d[d.LTP=4]="LTP";var ae=C(60428);const Pe=new Q.X({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),Ee=new Q.X({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),be=new Map;be.set(`${le.OPK}`,{desc:"Using Omega Phi Kappa",constructor:j}),be.set(`${le.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:f}),be.set(`${le.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:q});const me=new Map;function b(d,w,x){return{name:`orientedImageryProperties.${d}`,write:!w||{target:`orientedImageryProperties.${d}`,writer:w},origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.${d}`,write:w,read:x}}}}me.set(`${le.HPR}`,function i(d){const[w,x,T,$,J,ie,ne,oe,pe,he,ue,fe,_e,ee,B,Ce,De,Me,Oe,je,xe,Ie]=d.slice(1),de=[pe,he,ue,fe,_e,ee].map(se=>Number(se)),ye=[Ce,De].map(se=>Number(se)),ge=[Me,Oe,je],ve=[xe,Ie];return{horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,heading:ie,pitch:ne,roll:oe,affineTransformations:6===de.filter(ae.h).length?de:null,focalLength:B,principalOffsetPoint:2!==ye.filter(ae.h).length?null:ye,radialDistortionCoefficients:3!==ge.filter(ae.h).length?null:ge,tangentialDistortionCoefficients:2!==ve.filter(ae.h).length?null:ve}}),me.set(`${le.YPR}`,function s(d){const[w,x,T,$,J,ie,ne,oe,pe,he,ue,fe,_e,ee,B,Ce,De,Me,Oe,je,xe,Ie]=d.slice(1),de=[pe,he,ue,fe,_e,ee].map(se=>Number(se)),ye=[Ce,De].map(se=>Number(se)),ge=[Me,Oe,je],ve=[xe,Ie];return{horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,yaw:ie,pitch:ne,roll:oe,affineTransformations:6===de.filter(ae.h).length?de:null,focalLength:B,principalOffsetPoint:2!==ye.filter(ae.h).length?null:ye,radialDistortionCoefficients:3!==ge.filter(ae.h).length?null:ge,tangentialDistortionCoefficients:2!==ve.filter(ae.h).length?null:ve}}),me.set(`${le.OPK}`,function a(d){const[w,x,T,$,J,ie,ne,oe,pe,he,ue,fe,_e,ee,B,Ce,De,Me,Oe,je,xe,Ie]=d.slice(1),de=[pe,he,ue,fe,_e,ee].map(se=>Number(se)),ye=[Ce,De].map(se=>Number(se)),ge=[Me,Oe,je].map(se=>Number(se)),ve=[xe,Ie].map(se=>Number(se));return{horizontalWKID:w,verticalWKID:x,x:T,y:$,z:J,omega:ie,phi:ne,kappa:oe,affineTransformations:6===de.filter(ae.h).length?de:null,focalLength:B,principalOffsetPoint:2!==ye.filter(ae.h).length?null:ye,radialDistortionCoefficients:3!==ge.filter(ae.h).length?[0,0,0]:ge,tangentialDistortionCoefficients:2!==ve.filter(ae.h).length?[0,0]:ve}}),me.set(`${le.LTP}`,function m(d){const[w,x,T,$,J,...ie]=d.slice(1),ne=me.get(J);return ne?{latitude:w,longitude:x,ellipsoidRadius:T,squaredEccentricity:$,properties:ne([J,"",...ie])}:null});let M=class extends F.default{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.supportedSourceTypes=new Set(["Oriented Imagery Layer"]),this.type="oriented-imagery",this.timeIntervalUnit=null,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null}get effectiveElevationSource(){const{elevationSource:d,demPathPrefix:w,demPathSuffix:x}=this;return function Se(d,w,x){return d&&((d=>null!=d&&"constantElevation"in d&&"number"==typeof d.constantElevation)(d)?new A(d):function we(d,w,x){let{url:T}=d;return T?(T=function ze(d,w,x){return w&&(d=`${w}${d}`),x&&(d+=`${x}`),d}(T,w,x),new D({...d,url:T})):null}(d,w,x))}(d,w,x)}findFirstValidLayerId(d){return d.layers?.find(w=>this.supportedSourceTypes.has(w.type))?.id}_verifySource(){if(super._verifySource(),"point"!==this.geometryType)throw new H.Z("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};(0,u._)([(0,l.Cb)({type:Number,json:b("cameraHeading")})],M.prototype,"cameraHeading",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("cameraHeight")})],M.prototype,"cameraHeight",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("cameraPitch")})],M.prototype,"cameraPitch",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("cameraRoll")})],M.prototype,"cameraRoll",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("coveragePercent")})],M.prototype,"coveragePercent",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("demPathPrefix")})],M.prototype,"demPathPrefix",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("demPathSuffix")})],M.prototype,"demPathSuffix",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("depthImagePathPrefix")})],M.prototype,"depthImagePathPrefix",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("depthImagePathSuffix")})],M.prototype,"depthImagePathSuffix",void 0),(0,u._)([(0,l.Cb)({type:Object,json:b("elevationSource")})],M.prototype,"elevationSource",void 0),(0,u._)([(0,l.Cb)()],M.prototype,"effectiveElevationSource",null),(0,u._)([(0,l.Cb)({type:Number,json:b("farDistance")})],M.prototype,"farDistance",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],M.prototype,"geometryType",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("horizontalFieldOfView")})],M.prototype,"horizontalFieldOfView",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("horizontalMeasurementUnit")})],M.prototype,"horizontalMeasurementUnit",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("imagePathPrefix")})],M.prototype,"imagePathPrefix",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("imagePathSuffix")})],M.prototype,"imagePathSuffix",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("imageRotation")})],M.prototype,"imageRotation",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("maximumDistance")})],M.prototype,"maximumDistance",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("nearDistance")})],M.prototype,"nearDistance",void 0),(0,u._)([(0,l.Cb)({type:["OrientedImageryLayer"]})],M.prototype,"operationalLayerType",void 0),(0,u._)([(0,l.Cb)({json:b("orientationAccuracy",(d,w)=>{d&&(w.orientationAccuracy=d.join(","))})}),(0,W.p)(d=>d?d.trim().split(",").map(Number):null)],M.prototype,"orientationAccuracy",void 0),(0,u._)([(0,l.Cb)({json:{...b("orientedImageryType",Ee.write,Ee.read),type:Ee.apiValues}})],M.prototype,"orientedImageryType",void 0),(0,u._)([(0,l.Cb)({json:{read:!1},value:"oriented-imagery",readOnly:!0})],M.prototype,"type",void 0),(0,u._)([(0,l.Cb)({json:{...b("timeIntervalUnit",Pe.write,Pe.read),type:Pe.apiValues}})],M.prototype,"timeIntervalUnit",void 0),(0,u._)([(0,l.Cb)({type:Number,json:b("verticalFieldOfView")})],M.prototype,"verticalFieldOfView",void 0),(0,u._)([(0,l.Cb)({json:{...b("verticalMeasurementUnit"),type:new Q.X({Feet:"feet",Meter:"meter"}).apiValues}})],M.prototype,"verticalMeasurementUnit",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("videoPathPrefix")})],M.prototype,"videoPathPrefix",void 0),(0,u._)([(0,l.Cb)({type:String,json:b("videoPathSuffix")})],M.prototype,"videoPathSuffix",void 0),M=(0,u._)([(0,R.j)("esri.layers.OrientedImageryLayer")],M);const V=M},50243:(ce,te,C)=>{C.d(te,{Z:()=>L});var u=C(50484),H=C(25387),Q=C(89317),l=C(80543),k=(C(14007),C(4703),C(65311),C(62185)),G=C(10141),E=C(7547),y=C(59300),P=C(30457);let O=class extends((0,H.J)(Q.wq)){constructor(S){super(S),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(S){const K={};for(const g of Object.keys(S))K[g]=(0,y.im)(S[g]);return K}writeDomains(S,K){const g={};for(const _ of Object.keys(S))S[_]&&(g[_]=S[_]?.toJSON());K.domains=g}};(0,u._)([(0,l.Cb)({json:{write:!0}})],O.prototype,"id",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],O.prototype,"name",void 0),(0,u._)([(0,l.Cb)({json:{write:!0}})],O.prototype,"domains",void 0),(0,u._)([(0,k.r)("domains")],O.prototype,"readDomains",null),(0,u._)([(0,E.c)("domains")],O.prototype,"writeDomains",null),(0,u._)([(0,l.Cb)({type:[P.Z],json:{write:!0}})],O.prototype,"templates",void 0),O=(0,u._)([(0,G.j)("esri.layers.support.FeatureType")],O);const L=O},40100:(ce,te,C)=>{C.d(te,{Z:()=>O});var u=C(57964),H=C(89317),Q=C(4703),l=C(8611),W=C(15398),R=C(85295),F=C(764),k=C(25037);const P=new Map;class O{static fromJSON(p){return new O(p.fields,p.timeZoneByFieldName)}static fromLayer(p){return new O(p.fields??[],g(p))}static fromLayerJSON(p){return new O(p.fields??[],g(p))}constructor(p=[],c){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=p||[],this._timeZoneByFieldName=c?new Map(c):null;const I=[];for(const v of this.fields){const f=v?.name,h=S(f);if(f&&h){const j=L(f);this._fieldsMap.set(f,v),this._fieldsMap.set(j,v),this._normalizedFieldsMap.set(h,v),I.push(`${j}:${v.type}:${this._timeZoneByFieldName?.get(f)}`),(0,R.y2)(v)?(this.dateFields.push(v),this._dateFieldsSet.add(v)):(0,R.H7)(v)&&(this._numericFieldsSet.add(v),this.numericFields.push(v)),(0,R.Dl)(v)||(0,R.Se)(v)||(v.editable=null==v.editable||!!v.editable,v.nullable=null==v.nullable||!!v.nullable)}}I.sort(),this.uid=I.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const p of this.fields)(0,R.Dl)(p)||(0,R.Se)(p)||p.nullable||void 0!==(0,R.os)(p)||this._requiredFields.push(p)}return this._requiredFields}equals(p){return this.uid===p?.uid}has(p){return null!=this.get(p)}get(p){if(!p)return;let c=this._fieldsMap.get(p);return c||(c=this._fieldsMap.get(L(p))??this._normalizedFieldsMap.get(S(p)),c&&this._fieldsMap.set(p,c),c)}getTimeZone(p){const c=this.get(p&&"string"!=typeof p?p.name:p);return c?this._timeZoneByFieldName?this._timeZoneByFieldName.get(c.name):"date"===c.type||"esriFieldTypeDate"===c.type?(Q.Z.getLogger("esri.layers.support.FieldsIndex").error(new u.Z("getTimeZone:no-timezone-information",`no time zone information for field '${c.name}'`)),F.pt):K.has(c.type)?F._4:null:null}getLuxonTimeZone(p){const c=this.getTimeZone(p);return c?c===F._4?W.yV.instance:c===F.pt?k.Qf.utcInstance:(0,l.s1)(P,c,()=>k.vF.create(c)):null}isDateField(p){return this._dateFieldsSet.has(this.get(p))}isTimeOnlyField(p){return(0,R.sX)(this.get(p))}isNumericField(p){return this._numericFieldsSet.has(this.get(p))}normalizeFieldName(p){return this.get(p)?.name??void 0}toJSON(){return{fields:this.fields.map(p=>(0,H.AK)(p)?p.toJSON():p),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function L(_){return _.trim().toLowerCase()}function S(_){return(0,R.q6)(_)?.toLowerCase()??""}const K=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function g(_){const p=new Map;if(!_.fields)return p;const c=!0===_.datesInUnknownTimezone,{timeInfo:I,editFieldsInfo:v}=_,f=(I?"startField"in I?I.startField:I.startTimeField:"")??"",h=(I?"endField"in I?I.endField:I.endTimeField:"")??"",j=function y(_){return"dateFieldsTimeZone"in _}(_)?_.dateFieldsTimeZone??null:_.dateFieldsTimeReference?(0,F.Jv)(_.dateFieldsTimeReference):null,N=v?function G(_){return"timeZone"in _}(v)?v.timeZone??j:v.dateFieldsTimeReference?(0,F.Jv)(v.dateFieldsTimeReference):j??F.pt:null,q=I?function E(_){return"timeZone"in _}(I)?I.timeZone??j:I.timeReference?(0,F.Jv)(I.timeReference):j:null,Z=new Map([[L(v?.creationDateField??""),N],[L(v?.editDateField??""),N],[L(f),q],[L(h),q]]);for(const{name:D,type:A}of _.fields)if(K.has(A))p.set(D,F._4);else if("date"!==A&&"esriFieldTypeDate"!==A)p.set(D,null);else if(c)p.set(D,F._4);else{const U=Z.get(L(D??""))??j;p.set(D,U)}return p}},56761:(ce,te,C)=>{C.d(te,{UG:()=>y,UO:()=>S,YI:()=>L,dI:()=>K,el:()=>v,hV:()=>O,z7:()=>P});var u=C(72578);const H="__begin__",Q="__end__",l=new RegExp(H,"ig"),W=new RegExp(Q,"ig"),R=new RegExp("^"+H,"i"),F=new RegExp(Q+"$","i"),k='"',G=k+" + ",E=" + "+k;function y(f){return f.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function P(f){return f.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function O(f){const h={expression:"",type:"none"};return f.labelExpressionInfo?f.labelExpressionInfo.value?(h.expression=f.labelExpressionInfo.value,h.type="conventional"):f.labelExpressionInfo.expression&&(h.expression=f.labelExpressionInfo.expression,h.type="arcade"):null!=f.labelExpression&&(h.expression=y(f.labelExpression),h.type="conventional"),h}function L(f){const h=O(f);if(!h)return null;switch(h.type){case"conventional":return K(h.expression);case"arcade":return h.expression}return null}function S(f){const h=O(f);if(!h)return null;switch(h.type){case"conventional":return function _(f){return f?.match(g)?.[1].trim()||null}(h.expression);case"arcade":return v(h.expression)}return null}function K(f){let h;return f?(h=(0,u.gx)(f,j=>H+'$feature["'+j+'"]'+Q),h=R.test(h)?h.replace(R,""):k+h,h=F.test(h)?h.replace(F,""):h+k,h=h.replaceAll(l,G).replaceAll(W,E)):h='""',h}const g=/^\s*\{([^}]+)\}\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,c=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,I=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function v(f){if(!f)return null;let h=p.exec(f)||c.exec(f);return h?h[1]||h[3]:(h=I.exec(f),h?h[2]:null)}},96043:(ce,te,C)=>{C.d(te,{AJ:()=>F,If:()=>E,k0:()=>R,uI:()=>G,ul:()=>W,wx:()=>y});var u=C(55117),H=C(55768),Q=C(5710),l=C(23515);const W=2.4;function R(P){return(0,H.Wz)(P*W)}function F(P){return(0,H.F2)(P)/W}function k(P,O,L,S){let{color:K,ratio:g}=O,{color:_,ratio:p}=L;p===g&&(1===p?g-=1e-6:p+=1e-6);const c=(0,u.uZ)((S-g)/(p-g),0,1);(0,Q.l)(P,K.toArray(),_.toArray(),c)}function G(P){const L=new Uint8ClampedArray(2048);if((P=P.filter(({ratio:p})=>p>=0&&p<=1).sort((p,c)=>p.ratio-c.ratio).map(({color:p,ratio:c})=>({color:p,ratio:Math.max(c,.001)}))).length<1)return L;let S=P[0],K=P[0],g=1;const _=(0,l.Ue)();for(let p=0;p<512;p++){const c=(p+.5)/512;for(;c>K.ratio&&g<P.length;)S=K,K=P[g++];k(_,S,K,c),L.set(_,4*p)}return L}function E(P,O,L){const S=Math.sqrt(P**2+O**2)/L;return S>1?0:3/(Math.PI*L**2)*(1-S**2)**2}function y(P){return"function"==typeof P?P:P?O=>+O[P]:()=>1}},8295:(ce,te,C)=>{C.d(te,{p:()=>H});var u=C(53456);function H(Q,l,W){if(!W?.features||!W.hasZ)return;const R=(0,u.k)(W.geometryType,l,Q.outSpatialReference);if(null!=R)for(const F of W.features)R(F.geometry)}},93792:(ce,te,C)=>{C.d(te,{Z:()=>p});var K,u=C(50484),H=C(2189),Q=C(35458),l=C(84303),W=C(89317),R=C(34222),F=C(80543),E=(C(14007),C(4703),C(62185)),y=C(10141),P=C(7547),O=C(43814),L=C(40637),S=C(81247);const g=new l.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let _=K=class extends W.wq{constructor(c){super(c),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(c,I){const v=O.Z.fromJSON(I.spatialReference),f=[];for(let h=0;h<c.length;h++){const j=c[h],N=Q.Z.fromJSON(j),q=j.geometry?.spatialReference;null==N.geometry||q||(N.geometry.spatialReference=v);const Z=j.aggregateGeometries,D=N.aggregateGeometries;if(Z&&null!=D)for(const A in D){const U=D[A],Y=Z[A],re=Y?.spatialReference;null==U||re||(U.spatialReference=v)}f.push(N)}return f}writeGeometryType(c,I,v,f){if(c)return void g.write(c,I,v,f);const{features:h}=this;if(h)for(const j of h)if(null!=j?.geometry)return void g.write(j.geometry.type,I,v,f)}readQueryGeometry(c,I){if(!c)return null;const v=!!c.spatialReference,f=(0,L.im)(c);return f&&!v&&I.spatialReference&&(f.spatialReference=O.Z.fromJSON(I.spatialReference)),f}writeSpatialReference(c,I){if(c)return void(I.spatialReference=c.toJSON());const{features:v}=this;if(v)for(const f of v)if(f&&null!=f.geometry&&f.geometry.spatialReference)return void(I.spatialReference=f.geometry.spatialReference.toJSON())}clone(){return new K(this.cloneProperties())}cloneProperties(){return(0,R.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(c){const I=this.write();if(I.features&&Array.isArray(c)&&c.length>0)for(let v=0;v<I.features.length;v++){const f=I.features[v];if(f.geometry){const h=c?.[v];f.geometry=h?.toJSON()||f.geometry}}return I}quantize(c){const{scale:[I,v],translate:[f,h]}=c,q=this.features,Z=this._getQuantizationFunction(this.geometryType,D=>Math.round((D-f)/I),D=>Math.round((h-D)/v));for(let D=0,A=q.length;D<A;D++)Z?.(q[D].geometry)||(q.splice(D,1),D--,A--);return this.transform=c,this}unquantize(){const{geometryType:c,features:I,transform:v}=this;if(!v)return this;const{translate:[f,h],scale:[j,N]}=v;let D=null,A=null;if(this.hasZ&&null!=v?.scale?.[2]){const{translate:[,,Y],scale:[,,re]}=v;D=X=>X*re+Y}if(this.hasM&&null!=v?.scale?.[3]){const{translate:[,,,Y],scale:[,,,re]}=v;A=X=>null==X?X:X*re+Y}const U=this._getHydrationFunction(c,Y=>Y*j+f,Y=>h-Y*N,D,A);for(const{geometry:Y}of I)null!=Y&&U&&U(Y);return this.transform=null,this}_quantizePoints(c,I,v){let f,h;const j=[];for(let N=0,q=c.length;N<q;N++){const Z=c[N];if(N>0){const D=I(Z[0]),A=v(Z[1]);D===f&&A===h||(j.push([D-f,A-h]),f=D,h=A)}else f=I(Z[0]),h=v(Z[1]),j.push([f,h])}return j.length>0?j:null}_getQuantizationFunction(c,I,v){return"point"===c?f=>(f.x=I(f.x),f.y=v(f.y),f):"polyline"===c||"polygon"===c?f=>{const h=(0,L.oU)(f)?f.rings:f.paths,j=[];for(let N=0,q=h.length;N<q;N++){const D=this._quantizePoints(h[N],I,v);D&&j.push(D)}return j.length>0?((0,L.oU)(f)?f.rings=j:f.paths=j,f):null}:"multipoint"===c?f=>{const h=this._quantizePoints(f.points,I,v);return h&&h.length>0?(f.points=h,f):null}:"extent"===c?f=>f:null}_getHydrationFunction(c,I,v,f,h){return"point"===c?j=>{j.x=I(j.x),j.y=v(j.y),f&&(j.z=f(j.z))}:"polyline"===c||"polygon"===c?j=>{const N=(0,L.oU)(j)?j.rings:j.paths;let q,Z;for(let D=0,A=N.length;D<A;D++){const U=N[D];for(let Y=0,re=U.length;Y<re;Y++){const X=U[Y];Y>0?(q+=X[0],Z+=X[1]):(q=X[0],Z=X[1]),X[0]=I(q),X[1]=v(Z)}}if(f&&h)for(let D=0,A=N.length;D<A;D++){const U=N[D];for(let Y=0,re=U.length;Y<re;Y++){const X=U[Y];X[2]=f(X[2]),X[3]=h(X[3])}}else if(f)for(let D=0,A=N.length;D<A;D++){const U=N[D];for(let Y=0,re=U.length;Y<re;Y++){const X=U[Y];X[2]=f(X[2])}}else if(h)for(let D=0,A=N.length;D<A;D++){const U=N[D];for(let Y=0,re=U.length;Y<re;Y++){const X=U[Y];X[2]=h(X[2])}}}:"extent"===c?j=>{j.xmin=I(j.xmin),j.ymin=v(j.ymin),j.xmax=I(j.xmax),j.ymax=v(j.ymax),f&&null!=j.zmax&&null!=j.zmin&&(j.zmax=f(j.zmax),j.zmin=f(j.zmin)),h&&null!=j.mmax&&null!=j.mmin&&(j.mmax=h(j.mmax),j.mmin=h(j.mmin))}:"multipoint"===c?j=>{const N=j.points;let q,Z;for(let D=0,A=N.length;D<A;D++){const U=N[D];D>0?(q+=U[0],Z+=U[1]):(q=U[0],Z=U[1]),U[0]=I(q),U[1]=v(Z)}if(f&&h)for(let D=0,A=N.length;D<A;D++){const U=N[D];U[2]=f(U[2]),U[3]=h(U[3])}else if(f)for(let D=0,A=N.length;D<A;D++){const U=N[D];U[2]=f(U[2])}else if(h)for(let D=0,A=N.length;D<A;D++){const U=N[D];U[2]=h(U[2])}}:null}};(0,u._)([(0,F.Cb)({type:String,json:{write:!0}})],_.prototype,"displayFieldName",void 0),(0,u._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],_.prototype,"exceededTransferLimit",void 0),(0,u._)([(0,F.Cb)({type:[Q.Z],json:{write:!0}})],_.prototype,"features",void 0),(0,u._)([(0,E.r)("features")],_.prototype,"readFeatures",null),(0,u._)([(0,F.Cb)({type:[S.Z],json:{write:!0}})],_.prototype,"fields",void 0),(0,u._)([(0,F.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],_.prototype,"geometryType",void 0),(0,u._)([(0,P.c)("geometryType")],_.prototype,"writeGeometryType",null),(0,u._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],_.prototype,"hasM",void 0),(0,u._)([(0,F.Cb)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],_.prototype,"hasZ",void 0),(0,u._)([(0,F.Cb)({types:H.qM,json:{write:!0}})],_.prototype,"queryGeometry",void 0),(0,u._)([(0,E.r)("queryGeometry")],_.prototype,"readQueryGeometry",null),(0,u._)([(0,F.Cb)({type:O.Z,json:{write:!0}})],_.prototype,"spatialReference",void 0),(0,u._)([(0,P.c)("spatialReference")],_.prototype,"writeSpatialReference",null),(0,u._)([(0,F.Cb)({json:{write:!0}})],_.prototype,"transform",void 0),_=K=(0,u._)([(0,y.j)("esri.rest.support.FeatureSet")],_),_.prototype.toJSON.isDefaultToJSON=!0;const p=_}}]);