"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[1868],{4460:(Mt,it,o)=>{o.d(it,{e:()=>Y});var z,V,E=o(90104),Q={exports:{}};z=Q,void 0!==(V=function(){function tt(r,c,u){u=u||2;var h,_,x,M,W,ot,ht,Tt=c&&c.length,G=Tt?c[0]*u:r.length,mt=I(r,0,G,u,!0),st=[];if(!mt||mt.next===mt.prev)return st;if(Tt&&(mt=function O(r,c,u,h){var _,x,M,W=[];for(_=0,x=c.length;_<x;_++)(M=I(r,c[_]*h,_<x-1?c[_+1]*h:r.length,h,!1))===M.next&&(M.steiner=!0),W.push(k(M));for(W.sort(S),_=0;_<W.length;_++)u=D(u=X(W[_],u),u.next);return u}(r,c,mt,u)),r.length>80*u){h=x=r[0],_=M=r[1];for(var nt=u;nt<G;nt+=u)(W=r[nt])<h&&(h=W),(ot=r[nt+1])<_&&(_=ot),W>x&&(x=W),ot>M&&(M=ot);ht=0!==(ht=Math.max(x-h,M-_))?1/ht:0}return L(mt,st,u,h,_,ht),st}function I(r,c,u,h,_){var x,M;if(_===Wt(r,c,u,h)>0)for(x=c;x<u;x+=h)M=gt(x,r[x],r[x+1],M);else for(x=u-h;x>=c;x-=h)M=gt(x,r[x],r[x+1],M);if(M&&lt(M,M.next)){var W=M.next;It(M),M=W}return M}function D(r,c){if(!r)return r;c||(c=r);var u,h=r;do{if(u=!1,h.steiner||!lt(h,h.next)&&0!==rt(h.prev,h,h.next))h=h.next;else{var _=h.prev;if(It(h),(h=c=_)===h.next)break;u=!0}}while(u||h!==c);return c}function L(r,c,u,h,_,x,M){if(r){!M&&x&&function y(r,c,u,h){var _=r;do{null===_.z&&(_.z=K(_.x,_.y,c,u,h)),_.prevZ=_.prev,_.nextZ=_.next,_=_.next}while(_!==r);_.prevZ.nextZ=null,_.prevZ=null,function T(r){var c,u,h,_,x,M,W,ot,ht=1;do{for(u=r,r=null,x=null,M=0;u;){for(M++,h=u,W=0,c=0;c<ht&&(W++,h=h.nextZ);c++);for(ot=ht;W>0||ot>0&&h;)0!==W&&(0===ot||!h||u.z<=h.z)?(_=u,u=u.nextZ,W--):(_=h,h=h.nextZ,ot--),x?x.nextZ=_:r=_,_.prevZ=x,x=_;u=h}x.nextZ=null,ht*=2}while(M>1)}(_)}(r,h,_,x);for(var W,ot,ht=r;r.prev!==r.next;)if(W=r.prev,ot=r.next,x?g(r,h,_,x):w(r))c.push(W.i/u),c.push(r.i/u),c.push(ot.i/u),It(r),r=ot.next,ht=ot.next;else if((r=ot)===ht){M?1===M?L(r=U(D(r),c,u),c,u,h,_,x,2):2===M&&p(r,c,u,h,_,x):L(D(r),c,u,h,_,x,1);break}}}function w(r){var c=r.prev,u=r,h=r.next;if(rt(c,u,h)>=0)return!1;for(var _=r.next.next;_!==r.prev;){if(pt(c.x,c.y,u.x,u.y,h.x,h.y,_.x,_.y)&&rt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function g(r,c,u,h){var _=r.prev,x=r,M=r.next;if(rt(_,x,M)>=0)return!1;for(var ht=_.x>x.x?_.x>M.x?_.x:M.x:x.x>M.x?x.x:M.x,Tt=_.y>x.y?_.y>M.y?_.y:M.y:x.y>M.y?x.y:M.y,G=K(_.x<x.x?_.x<M.x?_.x:M.x:x.x<M.x?x.x:M.x,_.y<x.y?_.y<M.y?_.y:M.y:x.y<M.y?x.y:M.y,c,u,h),mt=K(ht,Tt,c,u,h),st=r.prevZ,nt=r.nextZ;st&&st.z>=G&&nt&&nt.z<=mt;){if(st!==r.prev&&st!==r.next&&pt(_.x,_.y,x.x,x.y,M.x,M.y,st.x,st.y)&&rt(st.prev,st,st.next)>=0||(st=st.prevZ,nt!==r.prev&&nt!==r.next&&pt(_.x,_.y,x.x,x.y,M.x,M.y,nt.x,nt.y)&&rt(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;st&&st.z>=G;){if(st!==r.prev&&st!==r.next&&pt(_.x,_.y,x.x,x.y,M.x,M.y,st.x,st.y)&&rt(st.prev,st,st.next)>=0)return!1;st=st.prevZ}for(;nt&&nt.z<=mt;){if(nt!==r.prev&&nt!==r.next&&pt(_.x,_.y,x.x,x.y,M.x,M.y,nt.x,nt.y)&&rt(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}function U(r,c,u){var h=r;do{var _=h.prev,x=h.next.next;!lt(_,x)&&N(_,h,h.next,x)&&_t(_,x)&&_t(x,_)&&(c.push(_.i/u),c.push(h.i/u),c.push(x.i/u),It(h),It(h.next),h=r=x),h=h.next}while(h!==r);return D(h)}function p(r,c,u,h,_,x){var M=r;do{for(var W=M.next.next;W!==M.prev;){if(M.i!==W.i&&vt(M,W)){var ot=Lt(M,W);return M=D(M,M.next),ot=D(ot,ot.next),L(M,c,u,h,_,x),void L(ot,c,u,h,_,x)}W=W.next}M=M.next}while(M!==r)}function S(r,c){return r.x-c.x}function b(r){if(r.next.prev===r)return r;let c=r;for(;;){const u=c.next;if(u.prev===c||u===c||u===r)break;c=u}return c}function X(r,c){var u=function et(r,c){var u,h=c,_=r.x,x=r.y,M=-1/0;do{if(x<=h.y&&x>=h.next.y&&h.next.y!==h.y){var W=h.x+(x-h.y)*(h.next.x-h.x)/(h.next.y-h.y);if(W<=_&&W>M){if(M=W,W===_){if(x===h.y)return h;if(x===h.next.y)return h.next}u=h.x<h.next.x?h:h.next}}h=h.next}while(h!==c);if(!u)return null;if(_===M)return u;var ot,ht=u,Tt=u.x,G=u.y,mt=1/0;h=u;do{_>=h.x&&h.x>=Tt&&_!==h.x&&pt(x<G?_:M,x,Tt,G,x<G?M:_,x,h.x,h.y)&&(ot=Math.abs(x-h.y)/(_-h.x),_t(h,r)&&(ot<mt||ot===mt&&(h.x>u.x||h.x===u.x&&v(u,h)))&&(u=h,mt=ot)),h=h.next}while(h!==ht);return u}(r,c);if(!u)return c;var h=Lt(u,r),_=D(u,u.next);let x=b(h);return D(x,x.next),_=b(_),b(c===u?_:c)}function v(r,c){return rt(r.prev,r,c.prev)<0&&rt(c.next,r,r.next)<0}function K(r,c,u,h,_){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-u)*_)|r<<8))|r<<4))|r<<2))|r<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-h)*_)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function k(r){var c=r,u=r;do{(c.x<u.x||c.x===u.x&&c.y<u.y)&&(u=c),c=c.next}while(c!==r);return u}function pt(r,c,u,h,_,x,M,W){return(_-M)*(c-W)-(r-M)*(x-W)>=0&&(r-M)*(h-W)-(u-M)*(c-W)>=0&&(u-M)*(x-W)-(_-M)*(h-W)>=0}function vt(r,c){return r.next.i!==c.i&&r.prev.i!==c.i&&!function ct(r,c){var u=r;do{if(u.i!==r.i&&u.next.i!==r.i&&u.i!==c.i&&u.next.i!==c.i&&N(u,u.next,r,c))return!0;u=u.next}while(u!==r);return!1}(r,c)&&(_t(r,c)&&_t(c,r)&&function Pt(r,c){var u=r,h=!1,_=(r.x+c.x)/2,x=(r.y+c.y)/2;do{u.y>x!=u.next.y>x&&u.next.y!==u.y&&_<(u.next.x-u.x)*(x-u.y)/(u.next.y-u.y)+u.x&&(h=!h),u=u.next}while(u!==r);return h}(r,c)&&(rt(r.prev,r,c.prev)||rt(r,c.prev,c))||lt(r,c)&&rt(r.prev,r,r.next)>0&&rt(c.prev,c,c.next)>0)}function rt(r,c,u){return(c.y-r.y)*(u.x-c.x)-(c.x-r.x)*(u.y-c.y)}function lt(r,c){return r.x===c.x&&r.y===c.y}function N(r,c,u,h){var _=q(rt(r,c,u)),x=q(rt(r,c,h)),M=q(rt(u,h,r)),W=q(rt(u,h,c));return _!==x&&M!==W||!(0!==_||!R(r,u,c))||!(0!==x||!R(r,h,c))||!(0!==M||!R(u,r,h))||!(0!==W||!R(u,c,h))}function R(r,c,u){return c.x<=Math.max(r.x,u.x)&&c.x>=Math.min(r.x,u.x)&&c.y<=Math.max(r.y,u.y)&&c.y>=Math.min(r.y,u.y)}function q(r){return r>0?1:r<0?-1:0}function _t(r,c){return rt(r.prev,r,r.next)<0?rt(r,c,r.next)>=0&&rt(r,r.prev,c)>=0:rt(r,c,r.prev)<0||rt(r,r.next,c)<0}function Lt(r,c){var u=new xt(r.i,r.x,r.y),h=new xt(c.i,c.x,c.y),_=r.next,x=c.prev;return r.next=c,c.prev=r,u.next=_,_.prev=u,h.next=u,u.prev=h,x.next=h,h.prev=x,h}function gt(r,c,u,h){var _=new xt(r,c,u);return h?(_.next=h.next,_.prev=h,h.next.prev=_,h.next=_):(_.prev=_,_.next=_),_}function It(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function xt(r,c,u){this.i=r,this.x=c,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Wt(r,c,u,h){for(var _=0,x=c,M=u-h;x<u;x+=h)_+=(r[M]-r[x])*(r[x+1]+r[M+1]),M=x;return _}return tt.deviation=function(r,c,u,h){var _=c&&c.length,M=Math.abs(Wt(r,0,_?c[0]*u:r.length,u));if(_)for(var W=0,ot=c.length;W<ot;W++)M-=Math.abs(Wt(r,c[W]*u,W<ot-1?c[W+1]*u:r.length,u));var G=0;for(W=0;W<h.length;W+=3){var mt=h[W]*u,st=h[W+1]*u,nt=h[W+2]*u;G+=Math.abs((r[mt]-r[nt])*(r[st+1]-r[mt+1])-(r[mt]-r[st])*(r[nt+1]-r[mt+1]))}return 0===M&&0===G?0:Math.abs((G-M)/M)},tt.flatten=function(r){for(var c=r[0][0].length,u={vertices:[],holes:[],dimensions:c},h=0,_=0;_<r.length;_++){for(var x=0;x<r[_].length;x++)for(var M=0;M<c;M++)u.vertices.push(r[_][x][M]);_>0&&u.holes.push(h+=r[_-1].length)}return u},tt}())&&(z.exports=V);const Y=(0,E.g)(Q.exports)},1868:(Mt,it,o)=>{o.d(it,{Z:()=>fr});var E=o(15861),z=o(50484),Z=o(93300),V=o(57964),Q=o(67016),Y=o(4703),tt=o(47868),I=o(79412),D=o(77675),L=o(80543),U=(o(14007),o(65311),o(10141)),p=o(73145),O=o(26894),S=o(32184),b=o(44107),X=o(5391),et=o(52217),v=o(65168);const k="Expected location to be a Point instance";class pt extends V.Z{constructor(){super("invalid-input:location",k)}}var vt=o(16996),rt=o(81255),lt=o(74291),N=o(96262),R=o(52592),q=o(4460),ct=o(48621),_t=o(54746),Pt=o(93404),Lt=o(58248),gt=o(55117),It=o(49602),xt=o(43548),Wt=o(59287);const u=(0,Wt.Ue)();var ht,t,h=o(59614);function W(t,e,a,i,l,d,P){l*=3;for(let A=0;A<d;++A){const B=t[e];i[l++]=B[0],i[l++]=B[1],i[l++]=P?B[2]:0,e+=a}return l/3}function ot(t,e,a){if(!e)return!(0,_t.bu)(t);switch(function r(t,e,a){const i=function c(t,e,a,i){const l=Array.isArray(e[0])?(P,A)=>e[P][A]:(P,A)=>e[3*P+A],d=i?(0,It.c9)(i)/(0,It._R)(i):1;return(0,Wt.zu)(t,(P,A)=>(0,xt.s)(P,l(A,0)*d,l(A,1)*d,l(A,2)),a)}(u,t,e,a)?(0,Wt.st)(u):[0,0,1];return Math.abs(i[2])>Math.cos((0,gt.Vl)(80))?ct.R.Z:Math.abs(i[1])>Math.abs(i[0])?ct.R.Y:ct.R.X}(t,t.length-1,a)){case ct.R.X:return!(0,_t.bu)(t,ct.R.Y,ct.R.Z);case ct.R.Y:return!(0,_t.bu)(t,ct.R.X,ct.R.Z);case ct.R.Z:return!(0,_t.bu)(t,ct.R.X,ct.R.Y)}}(t=ht||(ht={}))[t.NONE=0]="NONE",t[t.CCW_IS_HOLE=1]="CCW_IS_HOLE";var Tt=o(27048),G=o(38570);let st=null;function nt(t){if(0===t.length)return Tt.bM;const e=(0,Tt.Ue)([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY]);return(0,Tt.G1)(e,t),e}function ie(t,e){const[a,i,l,d,P,A]=nt(t);return new O.Z({xmin:a,ymin:i,zmin:l,xmax:d,ymax:P,zmax:A,spatialReference:e})}var Ut=o(51955);function qt(t,e,a,i){if(void 0!==i){(0,Z.x9)(t(),"option: geographic",{replacement:"Use mesh `vertexSpace` and spatial reference to control how operations are performed instead.",version:"4.30",warnOnce:!0});const l="local"===e.type;if(!(0,R.zZ)(e)||i===l)return a.isGeographic||a.isWebMercator&&i;t().warnOnce(`Specifying the 'geographic' parameter (${i}) for a Mesh vertex space of type "${e.type}" is not supported. This parameter will be ignored.`)}switch(e.type){case"georeferenced":return a.isGeographic;case"local":return a.isGeographic||a.isWebMercator}}var wt=o(51317);const $t=()=>Y.Z.getLogger("esri.geometry.support.meshUtils.centerAt");const ae=(0,p.Ue)(),le=(0,p.Ue)(),Ie=(0,p.Ue)();var ce=o(6785);function te(){return te=(0,E.Z)(function*(t,e,a){const{source:i}=e,{loadGLTFMesh:l}=yield(0,I.Hl)(Promise.all([o.e(38),o.e(9530)]).then(o.bind(o,29530)),a),d=yield function We(t,e){return ee.apply(this,arguments)}(i,a);(0,I.k_)(a);const P=l(new b.Z({x:0,y:0,z:0,spatialReference:t.spatialReference}),d.url,{resolveFile:be(d),signal:a?.signal,expectedType:d.type});P.then(()=>d.dispose(),()=>d.dispose());const{vertexAttributes:A,components:B}=yield P;t.vertexAttributes=A,t.components=B}),te.apply(this,arguments)}function be(t){const e=(0,ce.Yd)(t.url);return a=>{const i=(0,ce.PF)(a,e,e),l=i?i.replace(/^ *\.\//,""):null;return(l?t.files.get(l):null)??a}}function ee(){return ee=(0,E.Z)(function*(t,e){if(Array.isArray(t)){if(!t.length)throw new V.Z("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?function Be(t){return fe(t.map(e=>({name:e.name,mimeType:e.type,source:ue(e)})))}(t):function we(t,e){return ne.apply(this,arguments)}(t,e)}return ue(t)}),ee.apply(this,arguments)}function re(){return re=(0,E.Z)(function*(t,e){const{parts:a,assetMimeType:i,assetName:l}=t;if(1===a.length)return new Kt(a[0].partUrl);const d=yield t.toBlob(e);return(0,I.k_)(e),Kt.fromBlob(d,_e(l,i))}),re.apply(this,arguments)}function ue(t){return Kt.fromBlob(t,_e(t.name,t.type))}function ne(){return ne=(0,E.Z)(function*(t,e){const a=yield(0,I.OT)(t.map(function(){var i=(0,E.Z)(function*(l){const d=yield function Ze(t,e){return re.apply(this,arguments)}(l);return(0,I.k_)(e),{name:l.assetName,mimeType:l.assetMimeType,source:d}});return function(l){return i.apply(this,arguments)}}()));if((0,I.Hc)(e))throw a.forEach(i=>i.source.dispose()),(0,I.zE)();return fe(a)}),ne.apply(this,arguments)}const he=/^model\/gltf\+json$/,pe=/^model\/gltf-binary$/,oe=/\.gltf$/i,Ke=/\.glb$/i;function fe(t){const e=new Map;let a,i=null;for(const{name:l,mimeType:d,source:P}of t)null===i&&(he.test(d)||oe.test(l)?(i=P.url,a="gltf"):(pe.test(d)||Ke.test(l))&&(i=P.url,a="glb")),e.set(l,P.url),P.files.forEach((A,B)=>e.set(B,A));if(null==i)throw new V.Z("mesh-load-external:missing-files","Missing files to load external mesh source");return new Kt(i,()=>t.forEach(({source:l})=>l.dispose()),e,a)}class Kt{constructor(e,a=(()=>{}),i=new Map,l){this.url=e,this.dispose=a,this.files=i,this.type=l}static fromBlob(e,a){const i=URL.createObjectURL(e);return new Kt(i,()=>URL.revokeObjectURL(i),void 0,a)}}function _e(t,e){return he.test(e)||oe.test(t)?"gltf":pe.test(e)||oe.test(t)?"glb":void 0}var Fe=o(25387),Ne=o(83944),Qt=o(47689);let St=class extends Fe.j{constructor(t){super(t),this.externalSources=new Ne.Z,this._explicitDisplaySource=null,this.addHandles((0,D.on)(()=>this.externalSources,"after-remove",({item:e})=>{e===this._explicitDisplaySource&&(this._explicitDisplaySource=null)},{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(null!=t&&!(0,Qt.NZ)(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&this.externalSources.every(e=>!(0,Qt.fV)(e,t))&&this.externalSources.add(t)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(t){return this.externalSources.items.filter(e=>(0,Qt.JG)(e,t))}get _implicitDisplaySource(){return this.externalSources.find(Qt.NZ)}};(0,z._)([(0,L.Cb)()],St.prototype,"externalSources",void 0),(0,z._)([(0,L.Cb)()],St.prototype,"displaySource",null),(0,z._)([(0,L.Cb)()],St.prototype,"_implicitDisplaySource",null),(0,z._)([(0,L.Cb)()],St.prototype,"_explicitDisplaySource",void 0),St=(0,z._)([(0,U.j)("esri.geometry.support.meshUtils.Metadata")],St);var ge=o(38519);const Yt={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function Xt(t,e,a){t.isPlane||function Ye(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5}(t),function Xe(t,e){if(null!=e){bt[0]=e[0],bt[4]=e[1],bt[8]=e[2];for(let a=0;a<t.position.length;a+=3){for(let i=0;i<3;i++)dt[i]=t.position[a+i];(0,xt.t)(dt,dt,bt);for(let i=0;i<3;i++)t.position[a+i]=dt[i]}if(e[0]!==e[1]||e[1]!==e[2]){bt[0]=1/e[0],bt[4]=1/e[1],bt[8]=1/e[2];for(let a=0;a<t.normal.length;a+=3){for(let i=0;i<3;i++)dt[i]=t.normal[a+i];(0,xt.t)(dt,dt,bt),(0,xt.n)(dt,dt);for(let i=0;i<3;i++)t.normal[a+i]=dt[i]}}}}(t,function Qe(t,e,a){const i=(0,wt.ur)(e,a);if(null==t&&1===i)return null;if(null==t)return[i,i,i];if("number"==typeof t){const l=t*i;return[l,l,l]}return[null!=t.width?t.width*i:i,null!=t.depth?t.depth*i:i,null!=t.height?t.height*i:i]}(a?.size,a?.unit,e.spatialReference));const i=(0,R.G7)(e,a),l=e.spatialReference.isGeographic?(0,R.G7)(e):i,d=(0,wt.qk)({vertexAttributes:t,vertexSpace:l,spatialReference:e.spatialReference},i,{allowBufferReuse:!0});return{vertexAttributes:new N.Q({...d,uv:t.uv}),vertexSpace:i,components:[new v.Z({faces:t.faces,material:a?.material||null})],spatialReference:e.spatialReference}}const ke={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},qe={south:0,east:1,north:2,west:3,up:4,down:5},dt=(0,p.Ue)(),bt=(0,ge.Ue)();var tr=o(92899),Ct=o(39061),se=o(41666),er=o(36510),me=o(686),de=o(66588),rr=o(44381);const Zt=()=>Y.Z.getLogger("esri.geometry.support.meshUtils.rotate");function Gt(t,e,a,i=p.AG){if(null!=t){(0,Ct.Us)(kt,(0,et.WH)(e),(0,et.ZZ)(e));for(let l=0;l<t.length;l+=a){for(let d=0;d<3;d++)Ht[d]=t[l+d]-i[d];(0,xt.h)(Ht,Ht,kt);for(let d=0;d<3;d++)t[l+d]=Ht[d]+i[d]}}}const Ht=(0,p.Ue)(),ve=(0,se.Ue)(),ye=(0,et.Ue)(),kt=(0,se.Ue)(),xe=(0,ge.Ue)(),Ee=(0,p.Ue)(),Me=(0,me.Ue)(),Bt=()=>Y.Z.getLogger("esri.geometry.support.meshUtils.scale");function Pe(t,e,a=p.AG){if(t)for(let i=0;i<t.length;i+=3){for(let l=0;l<3;l++)Vt[l]=t[i+l]-a[l];(0,xt.j)(Vt,Vt,e);for(let l=0;l<3;l++)t[i+l]=Vt[l]+a[l]}}const Vt=(0,p.Ue)(),hr=(0,p.Ue)(),Ae=(0,se.Ue)(),Oe=(0,p.Ue)();var Dt;const Te="esri.geometry.Mesh";function Rt(){return Y.Z.getLogger(Te)}const pr={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:vt.Z,local:rt.Z}};let Et=Dt=class extends(Q.Z.LoadableMixin((0,tt.v)(S.Z))){constructor(t){super(t),this.components=null,this.vertexSpace=new vt.Z,this.transform=null,this.metadata=new St,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new N.Q,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.addHandles((0,D.YP)(()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map(t=>t.clone())}),()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{components:t,spatialReference:e,vertexAttributes:a,vertexSpace:i}=this,l=a.position;if(0===l.length||t&&0===t.length)return new O.Z({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:e});if((0,R.zZ)(i)){const{_untransformedBounds:d,transform:P}=this;return function mt([t,e,a,i,l,d],P,A,B){st??=new Float64Array(24);const C=st;return C[0]=t,C[1]=e,C[2]=a,C[3]=t,C[4]=l,C[5]=a,C[6]=i,C[7]=l,C[8]=a,C[9]=i,C[10]=e,C[11]=a,C[12]=t,C[13]=e,C[14]=d,C[15]=t,C[16]=l,C[17]=d,C[18]=i,C[19]=l,C[20]=d,C[21]=i,C[22]=e,C[23]=d,(0,G.project)({positions:C,transform:P,vertexSpace:A,inSpatialReference:B,outSpatialReference:B,outPositions:C}),ie(C,B)}(d,P,i,e)}return ie(l,e)}get _untransformedBounds(){return nt(this.vertexAttributes.position)}get anchor(){const t=(0,R.rU)(this.vertexSpace,this.spatialReference);if(null!=t)return t;const{center:e,zmin:a}=this._transformedExtent;return new b.Z({x:e.x,y:e.y,z:a,spatialReference:this.spatialReference})}get origin(){return(0,R.rU)(this.vertexSpace,this.spatialReference)??this._transformedExtent.center}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(t){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(v.Z.from(t)),this.notifyChange("components"))}removeComponent(t){if(this._checkIfLoaded("removeComponent()")){if(this.components){const e=this.components.indexOf(t);if(-1!==e)return this.components.splice(e,1),void this.notifyChange("components")}Rt().error("removeComponent()","Provided component is not part of the list of components")}}rotate(t,e,a,i){return(0,et.qw)(t,e,a,De),function nr(t,e,a){if(!t.vertexAttributes?.position||0===e[3])return;const{spatialReference:i,vertexSpace:l}=t,d=a?.origin??t.anchor,P=a?.geographic,A=qt(Zt,l,i,P);(0,R.QK)(t)?function or(t,e,a){t.transform??=new lt.Z;const{vertexSpace:i,transform:l,spatialReference:d}=t,[P,A,B]=i.origin,C=new b.Z({x:P,y:A,z:B,spatialReference:d}),H=Ht;if(C.equals(a))(0,xt.s)(H,0,0,0);else if(!(0,wt.x1)(H,a,t))return void(0,G.logProjectionError)(Zt(),a.spatialReference,d,G.loadProjectErrorMessage);(0,er.yY)(Me,(0,et.ZZ)(e),(0,et.WH)(e));const $=(0,Ct.PS)(ve,Me,p.AG,p.hq,H),{localMatrix:J}=l,F=(0,Ct.Jp)(ve,$,J);l.scale=(0,Ct.Q$)((0,p.Ue)(),F),(0,Ct.bA)(F,F,(0,xt.i)(Ht,l.scale));const at=l.rotationAxis;l.rotation=(0,et.q_)(F),0===l.rotationAngle&&(l.rotationAxis=at),l.translation=(0,Ct.i0)((0,p.Ue)(),F)}(t,e,d):A?function sr(t,e,a){const i=t.spatialReference,l=(0,de.rS)(i),d=Ee;if(!(0,Ut.K)(a,d,l)&&((0,G.logProjectionError)(Zt(),a.spatialReference,l,"Falling back to mesh origin"),!(0,Ut.K)(t.origin,d,l)))return void(0,G.logProjectionError)(Zt(),t.origin.spatialReference,l);const P=t.vertexAttributes.position,A=t.vertexAttributes.normal,B=t.vertexAttributes.tangent,C=new Float64Array(P.length),H=null!=A?new Float32Array(A.length):null,$=null!=B?new Float32Array(B.length):null;(0,rr.B)(l,d,kt,l),(0,tr.xO)(xe,kt);const J=ye;(0,xt.t)((0,et.ZZ)(ye),(0,et.ZZ)(e),xe),J[3]=e[3],!(0,G.projectToPCPF)(P,i,C)||null!=A&&null!=H&&!(0,G.projectNormalToPCPF)(A,P,C,i,H)||null!=B&&null!=$&&!(0,G.projectTangentToPCPF)(B,P,C,i,$)?(0,G.logProjectionError)(Zt(),i,l):(Gt(C,J,3,d),!(0,G.projectFromPCPF)(C,P,i)||null!=A&&null!=H&&(Gt(H,J,3),!(0,G.projectNormalFromPCPF)(H,P,C,i,A))||null!=B&&null!=$&&(Gt($,J,4),!(0,G.projectTangentFromPCPF)($,P,C,i,B))?(0,G.logProjectionError)(Zt(),l,i):t.vertexAttributesChanged())}(t,e,d):function ir(t,e,a){const i=Ee;if(!(0,Ut.K)(a,i,t.spatialReference)){const l=t.origin;return i[0]=l.x,i[1]=l.y,i[2]=l.z,void(0,G.logProjectionError)(Zt(),a.spatialReference,t.spatialReference,G.loadProjectErrorMessage)}Gt(t.vertexAttributes.position,e,3,i),Gt(t.vertexAttributes.normal,e,3),Gt(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}(t,e,d)}(this,De,i),this}offset(t,e,a){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:i,vertexAttributes:l}=this,d=l?.position;if(!d)return this;if((0,R.zZ)(i)){const[P,A,B]=i.origin;i.origin=(0,p.al)(P+t,A+e,B+a)}else{for(let P=0;P<d.length;P+=3)d[P]+=t,d[P+1]+=e,d[P+2]+=a;this.vertexAttributesChanged()}return this}scale(t,e){return this._checkIfLoaded("scale()")?(function ar(t,e,a){if(!t.vertexAttributes?.position)return;const{vertexSpace:i,spatialReference:l}=t,d=a?.origin??t.anchor,P=a?.geographic,A=qt(Bt,i,l,P);(0,R.QK)(t)?function lr(t,e,a){t.transform??=new lt.Z;const{vertexSpace:i,transform:l,spatialReference:d}=t,[P,A,B]=i.origin,C=new b.Z({x:P,y:A,z:B,spatialReference:d}),H=Vt;if(C.equals(a))(0,xt.s)(H,0,0,0);else if(!(0,wt.x1)(H,a,t))return void(0,G.logProjectionError)(Bt(),a.spatialReference,d,G.loadProjectErrorMessage);const $=(0,xt.s)(hr,e,e,e),J=(0,Ct.PS)(Ae,me.Wd,p.AG,$,H),{localMatrix:F}=l,at=(0,Ct.Jp)(Ae,J,F);l.scale=(0,Ct.Q$)((0,p.Ue)(),at),(0,Ct.bA)(at,at,(0,xt.i)(Vt,l.scale));const ut=l.rotationAxis;l.rotation=(0,et.q_)(at),0===l.rotationAngle&&(l.rotationAxis=ut),l.translation=(0,Ct.i0)((0,p.Ue)(),at)}(t,e,d):A?function cr(t,e,a){const i=t.spatialReference,l=(0,de.rS)(i),d=Oe;if(!(0,Ut.K)(a,d,l)&&((0,G.logProjectionError)(Bt(),a.spatialReference,l,"Falling back to mesh origin"),!(0,Ut.K)(t.origin,d,l)))return void(0,G.logProjectionError)(Bt(),t.origin.spatialReference,l);const P=t.vertexAttributes.position,A=t.vertexAttributes.normal,B=t.vertexAttributes.tangent,C=new Float64Array(P.length),H=null!=A?new Float32Array(A.length):null,$=null!=B?new Float32Array(B.length):null;!(0,G.projectToPCPF)(P,i,C)||null!=A&&null!=H&&!(0,G.projectNormalToPCPF)(A,P,C,i,H)||null!=B&&null!=$&&!(0,G.projectTangentToPCPF)(B,P,C,i,$)?(0,G.logProjectionError)(Bt(),i,l):(Pe(C,e,d),!(0,G.projectFromPCPF)(C,P,i)||null!=A&&null!=H&&!(0,G.projectNormalFromPCPF)(H,P,C,i,A)||null!=B&&null!=$&&!(0,G.projectTangentFromPCPF)($,P,C,i,B)?(0,G.logProjectionError)(Bt(),l,i):t.vertexAttributesChanged())}(t,e,d):function ur(t,e,a){const i=Oe;if(!(0,Ut.K)(a,i,t.spatialReference)){const l=t.origin;return i[0]=l.x,i[1]=l.y,i[2]=l.z,void(0,G.logProjectionError)(Bt(),a.spatialReference,t.spatialReference,G.loadProjectErrorMessage)}Pe(t.vertexAttributes.position,e,i),t.vertexAttributesChanged()}(t,e,d)}(this,t,e),this):this}centerAt(t,e){return this._checkIfLoaded("centerAt()")?(function Ce(t,e,a){if(!t.vertexAttributes?.position)return;const{vertexSpace:i}=t,l=a?.origin??t.anchor,d=qt($t,i,l.spatialReference,a?.geographic);(0,R.zZ)(i)?function Ue(t,e,a){const{vertexSpace:i}=t;if(!(0,R.zZ)(i))return;const l=le,d=ae;if(!(0,Ut.K)(e,d,t.spatialReference))return void(0,G.logProjectionError)($t(),e.spatialReference,t.spatialReference,G.loadProjectErrorMessage);if(!(0,Ut.K)(a,l,t.spatialReference)){const A=t.origin;return l[0]=A.x,l[1]=A.y,l[2]=A.z,void(0,G.logProjectionError)($t(),a.spatialReference,t.spatialReference,G.loadProjectErrorMessage)}const P=(0,xt.f)(Ie,d,l);i.origin=(0,xt.g)((0,p.Ue)(),i.origin,P)}(t,e,l):d?function Re(t,e,a){const i=(0,p.al)(a.x,a.y,a.z??0),l=(0,wt.qk)(t,new rt.Z({origin:i}));if(!l)return;const d=(0,p.al)(e.x,e.y,e.z??0),P=(0,wt.qk)({vertexAttributes:l,spatialReference:t.spatialReference,vertexSpace:new rt.Z({origin:d})},new vt.Z);if(!P)return;const{position:A,normal:B,tangent:C}=P;t.vertexAttributes.position=A,t.vertexAttributes.normal=B,t.vertexAttributes.tangent=C,t.vertexAttributesChanged()}(t,e,l):function je(t,e,a){const i=le,l=ae;if((0,Ut.K)(e,l,t.spatialReference)){if(!(0,Ut.K)(a,i,t.spatialReference)){const d=t.origin;return i[0]=d.x,i[1]=d.y,i[2]=d.z,void(0,G.logProjectionError)($t(),a.spatialReference,t.spatialReference,G.loadProjectErrorMessage)}(function Le(t,e,a){if(t)for(let i=0;i<t.length;i+=3)for(let l=0;l<3;l++)t[i+l]+=e[l]-a[l]})(t.vertexAttributes.position,l,i),t.vertexAttributesChanged()}else(0,G.logProjectionError)($t(),e.spatialReference,t.spatialReference,G.loadProjectErrorMessage)}(t,e,l)}(this,t,e),this):this}load(t){const{metadata:{displaySource:e}}=this;return e&&this.addResolvingPromise(function Se(t,e,a){return te.apply(this,arguments)}(this,e,t)),Promise.resolve(this)}addExternalSources(t){this.metadata.externalSources.addMany(t)}updateDisplaySource(t){this.metadata.displaySource=t}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone())}cloneAndModifyVertexAttributes(t,e){let a=null;if(this.components){const l=new Map,d=new Map;a=this.components.map(P=>P.cloneWithDeduplication(l,d))}const i={components:a,spatialReference:this.spatialReference,vertexAttributes:t,vertexSpace:e,transform:this.transform?.clone()??null,metadata:this.metadata.clone()};return new Dt(i)}cloneShallow(){return new Dt({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}toBinaryGLTF(t){var e=this;return(0,E.Z)(function*(){const[{toBinaryGLTF:a}]=yield Promise.all([Promise.all([o.e(8592),o.e(9245)]).then(o.bind(o,89245)),e.load(t)]);return(0,I.k_)(t),yield a(e,t)})()}get memoryUsage(){let t=0;if(t+=this.vertexAttributes.memoryUsage,null!=this.components)for(const e of this.components)t+=e.memoryUsage;return t}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(t){return!!this.loaded||(Rt().error(t,"Mesh must be loaded before applying operations"),!1)}static createBox(t,e){if(!(t instanceof b.Z))return Rt().error(".createBox()",k),null;const a=new Dt(Xt(function ze(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:a}=ke,i=4*t.length,l=new Float64Array(3*i),d=new Float32Array(3*i),P=new Float32Array(2*i),A=new Uint32Array(2*t.length*3);let B=0,C=0,H=0,$=0;for(let J=0;J<t.length;J++){const F=t[J],at=B/3;for(const At of e)A[$++]=at+At;const ut=F.corners;for(let At=0;At<4;At++){const jt=ut[At];let yt=0;P[H++]=.25*a[At][0]+F.uvOrigin[0],P[H++]=F.uvOrigin[1]-.25*a[At][1];for(let ft=0;ft<3;ft++)0!==F.axis[ft]?(l[B++]=.5*F.axis[ft],d[C++]=F.axis[ft]):(l[B++]=.5*jt[yt++],d[C++]=0)}}return{position:l,normal:d,uv:P,faces:A}}(),t,e));return e?.imageFace&&"all"!==e.imageFace?function Ge(t,e){const a=t.components[0],i=a.faces,l=qe[e],d=6*l,P=new Array(6),A=new Array(i.length-6);let B=0,C=0;for(let H=0;H<i.length;H++)H>=d&&H<d+6?P[B++]=i[H]:A[C++]=i[H];if(null!=t.vertexAttributes.uv){const H=new Float32Array(t.vertexAttributes.uv),$=4*l*2,J=[0,1,1,1,1,0,0,0];for(let F=0;F<J.length;F++)H[$+F]=J[F];t.vertexAttributes.uv=H}return t.components=[new v.Z({faces:P,material:a.material}),new v.Z({faces:A})],t}(a,e.imageFace):a}static createSphere(t,e){return t instanceof b.Z?new Dt(Xt(function He(t=0){const e=Math.round(8*2**t),a=2*e,i=(e-1)*(a+1)+2*a,l=new Float64Array(3*i),d=new Float32Array(3*i),P=new Float32Array(2*i),A=new Uint32Array((e-1)*a*2*3);let B=0,C=0,H=0,$=0;for(let J=0;J<=e;J++){const F=J/e*Math.PI+.5*Math.PI,at=Math.cos(F),ut=Math.sin(F);dt[2]=ut;const At=0===J||J===e,jt=At?a-1:a;for(let yt=0;yt<=jt;yt++){const ft=yt/jt*2*Math.PI;dt[0]=-Math.sin(ft)*at,dt[1]=Math.cos(ft)*at;for(let Ot=0;Ot<3;Ot++)l[B]=.5*dt[Ot],d[B]=dt[Ot],++B;P[C++]=(yt+(At?.5:0))/a,P[C++]=J/e,0!==J&&yt!==a&&(J!==e&&(A[H++]=$,A[H++]=$+1,A[H++]=$-a),1!==J&&(A[H++]=$,A[H++]=$-a,A[H++]=$-a-1)),$++}}return{position:l,normal:d,uv:P,faces:A}}(e?.densificationFactor||0),t,e)):(Rt().error(".createSphere()",k),null)}static createCylinder(t,e){return t instanceof b.Z?new Dt(Xt(function Ve(t=0){const a=Math.round(16*2**t),i=4*(a+1)+2*a,l=new Float64Array(3*i),d=new Float32Array(3*i),P=new Float32Array(2*i),A=new Uint32Array(4*a*3);let B=0,C=0,H=0,$=0,J=0;for(let F=0;F<=5;F++){const at=0===F||5===F,ut=F<=1||F>=4,At=2===F||4===F,jt=at?a-1:a;for(let yt=0;yt<=jt;yt++){const ft=yt/jt*2*Math.PI,Ot=at?0:.5;dt[0]=Ot*Math.sin(ft),dt[1]=Ot*-Math.cos(ft),dt[2]=F<=2?.5:-.5;for(let Jt=0;Jt<3;Jt++)l[B++]=dt[Jt],d[C++]=ut?2===Jt?F<=1?1:-1:0:2===Jt?0:dt[Jt]/Ot;P[H++]=(yt+(at?.5:0))/a,P[H++]=F<=1?1*F/3:F<=3?1*(F-2)/3+1/3:1*(F-4)/3+2/3,At||0===F||yt===a||(5!==F&&(A[$++]=J,A[$++]=J+1,A[$++]=J-a),1!==F&&(A[$++]=J,A[$++]=J-a,A[$++]=J-a-1)),J++}}return{position:l,normal:d,uv:P,faces:A}}(e?.densificationFactor||0),t,e)):(Rt().error(".createCylinder()",k),null)}static createPlane(t,e){if(!(t instanceof b.Z))return Rt().error(".createPlane()",k),null;const a=e?.facing??"up",i=function Je(t,e){const a="number"==typeof e?e:null!=e?e.width:1,i="number"==typeof e?e:null!=e?e.height:1;switch(t){case"up":case"down":return{width:a,depth:i};case"north":case"south":return{width:a,height:i};case"east":case"west":return{depth:a,height:i}}}(a,e?.size);return new Dt(Xt(function $e(t){const e=Yt.facingAxisOrderSwap[t],a=Yt.position,i=Yt.normal,l=new Float64Array(a.length),d=new Float32Array(i.length);let P=0;for(let A=0;A<4;A++){const B=P;for(let C=0;C<3;C++){const H=e[C],$=Math.abs(H)-1,J=H>=0?1:-1;l[P]=a[B+$]*J,d[P]=i[B+$]*J,P++}}return{position:l,normal:d,uv:new Float32Array(Yt.uv),faces:new Uint32Array(Yt.faces),isPlane:!0}}(a),t,{...e,size:i}))}static createFromPolygon(t,e){if(!(t instanceof X.Z))return Rt().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;const a=function _(t){const e=function M(t,e,a,i){const l=t.length,d=new Array(l),P=new Array(l),A=new Array(l);let B=0;for(let at=0;at<l;++at)B+=t[at].length;let C=0,H=0,$=0;const J=(0,Pt.bg)(3*B);let F=0;for(let at=l-1;at>=0;at--){const ut=t[at],At=a===ht.CCW_IS_HOLE&&ot(ut,e,i);if(At&&1!==l)d[C++]=ut;else{let jt=ut.length;for(let ft=0;ft<C;++ft)jt+=d[ft].length;const yt={index:F,pathLengths:new Array(C+1),count:jt,holeIndices:new Array(C)};yt.pathLengths[0]=ut.length,ut.length>0&&(A[$++]={index:F,count:ut.length}),F=At?W(ut,ut.length-1,-1,J,F,ut.length,e):W(ut,0,1,J,F,ut.length,e);for(let ft=0;ft<C;++ft){const Ot=d[ft];yt.holeIndices[ft]=F,yt.pathLengths[ft+1]=Ot.length,Ot.length>0&&(A[$++]={index:F,count:Ot.length}),F=W(Ot,0,1,J,F,Ot.length,e)}C=0,yt.count>0&&(P[H++]=yt)}}for(let at=0;at<C;++at){const ut=d[at];ut.length>0&&(A[$++]={index:F,count:ut.length}),F=W(ut,0,1,J,F,ut.length,e)}return P.length=H,A.length=$,{position:J,polygons:P,outlines:A}}(t.rings,t.hasZ,ht.CCW_IS_HOLE,t.spatialReference),a=new Array;let i=0,l=0;for(const A of e.polygons){const C=A.index,H=(0,Pt.Rq)(e.position,3*C,3*A.count),$=A.holeIndices.map(F=>F-C),J=(0,Lt.mi)((0,q.e)(H,$,3));a.push({position:H,faces:J}),i+=H.length,l+=J.length}const d=function x(t,e,a){if(1===t.length)return t[0];const i=(0,Pt.bg)(e),l=new Array(a);let d=0,P=0,A=0;for(const B of t){for(let C=0;C<B.position.length;C++)i[d++]=B.position[C];for(const C of B.faces)l[P++]=C+A;A=d/3}return{position:i,faces:(0,Lt.mi)(l)}}(a,i,l),P=Array.isArray(d.position)?(0,h.d)(d.position,3,{originalIndices:d.faces}):(0,h.d)(d.position.buffer,6,{originalIndices:d.faces});return d.position=(0,Pt.QZ)(new Float64Array(P.buffer)),d.faces=P.indices,d}(t);return new Dt({vertexAttributes:new N.Q({position:a.position}),components:[new v.Z({faces:a.faces,shading:"flat",material:e?.material??null})],spatialReference:t.spatialReference,vertexSpace:new vt.Z})}static createFromGLTF(t,e,a){return(0,E.Z)(function*(){if(!(t instanceof b.Z)){const l=new pt;throw Rt().error(".createfromGLTF()",l.message),l}const{loadGLTFMesh:i}=yield(0,I.Hl)(Promise.all([o.e(38),o.e(9530)]).then(o.bind(o,29530)),a);return new Dt(yield i(t,e,a))})()}static createFromFiles(t,e,a){return(0,E.Z)(function*(){if((0,Z.XV)(Rt(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"}),!(t instanceof b.Z)){const l=new pt;throw(l=>{Rt().error(".createFromFiles()",l.message)})(l),l}if(!a?.layer)throw new V.Z("invalid:no-layer","SceneLayer required for file to mesh conversion.");return a.layer.convertMesh(e,{location:t,...a})})()}static createWithExternalSource(t,e,a){const i=a?.extent??null,{spatialReference:l}=t,d=a?.transform?.clone()??new lt.Z,P=(0,R.G7)(t,a),A={source:e,extent:i},B=new St;return B.externalSources.push(A),new Dt({metadata:B,transform:d,vertexSpace:P,spatialReference:l})}static createIncomplete(t,e){const{spatialReference:a}=t,i=e?.transform?.clone()??new lt.Z,l=(0,R.G7)(t,e),d=new Dt({transform:i,vertexSpace:l,spatialReference:a});return d.addResolvingPromise(Promise.reject(new V.Z("mesh-incomplete","Mesh resources are not complete"))),d}};(0,z._)([(0,L.Cb)({type:[v.Z],json:{write:!0}})],Et.prototype,"components",void 0),(0,z._)([(0,L.Cb)({nonNullable:!0,types:pr,constructOnly:!0,json:{write:!0}})],Et.prototype,"vertexSpace",void 0),(0,z._)([(0,L.Cb)({type:lt.Z,json:{write:!0}})],Et.prototype,"transform",void 0),(0,z._)([(0,L.Cb)({constructOnly:!0})],Et.prototype,"metadata",void 0),(0,z._)([(0,L.Cb)()],Et.prototype,"hasExtent",null),(0,z._)([(0,L.Cb)()],Et.prototype,"_transformedExtent",null),(0,z._)([(0,L.Cb)()],Et.prototype,"_untransformedBounds",null),(0,z._)([(0,L.Cb)()],Et.prototype,"anchor",null),(0,z._)([(0,L.Cb)()],Et.prototype,"origin",null),(0,z._)([(0,L.Cb)({readOnly:!0,json:{read:!1}})],Et.prototype,"extent",null),(0,z._)([(0,L.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],Et.prototype,"hasZ",void 0),(0,z._)([(0,L.Cb)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],Et.prototype,"hasM",void 0),(0,z._)([(0,L.Cb)({type:N.Q,nonNullable:!0,json:{write:!0}})],Et.prototype,"vertexAttributes",void 0),Et=Dt=(0,z._)([(0,U.j)(Te)],Et);const De=(0,et.Ue)(),fr=Et},58248:(Mt,it,o)=>{o.d(it,{$z:()=>V,KF:()=>D,mi:()=>z});var E=o(40271);function z(g){if((0,E.kJ)(g)){if(g.length<E.c8)return g}else if(g.length<E.c8)return Array.from(g);let U=!0,p=!0;return g.some((O,S)=>(U=U&&0===O,p=p&&O===S,!U&&!p)),U?function w(g){if(1===g)return tt;if(g<E.c8)return new Array(g).fill(0);if(g>L.length){const U=Math.max(2*L.length,g);L=new Uint8Array(U)}return new Uint8Array(L.buffer,0,g)}(g.length):p?D(g.length):(0,E.kJ)(g)||g.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function Z(g){let U=!0;for(const p of g){if(p>=65536)return(0,E.kJ)(g)?new Uint32Array(g):g;p>=256&&(U=!1)}return U?new Uint8Array(g):new Uint16Array(g)}(g):g}function V(g){return g<=E.c8?new Array(g):g<=65536?new Uint16Array(g):new Uint32Array(g)}let Y=(()=>{const g=new Uint32Array(131072);for(let U=0;U<g.length;++U)g[U]=U;return g})();const tt=[0],I=(()=>{const g=new Uint16Array(65536);for(let U=0;U<g.length;++U)g[U]=U;return g})();function D(g){if(1===g)return tt;if(g<E.c8)return Array.from(new Uint16Array(I.buffer,0,g));if(g<I.length)return new Uint16Array(I.buffer,0,g);if(g>Y.length){const U=Math.max(2*Y.length,g);Y=new Uint32Array(U);for(let p=0;p<Y.length;p++)Y[p]=p}return new Uint32Array(Y.buffer,0,g)}let L=new Uint8Array(65536)},65168:(Mt,it,o)=>{o.d(it,{Z:()=>p});var g,E=o(50484),z=o(89317),Z=o(34222),V=o(4703),Q=o(80543),Y=o(73018),tt=o(10141),I=o(1535),D=o(58190),L=o(70981),w=o(96262);let U=g=class extends z.wq{static from(O){return(0,I.TJ)(g,O)}constructor(O){super(O),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(O){return(0,w.X)(O,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},V.Z.getLogger(this))}castMaterial(O){return(0,I.TJ)(O&&"object"==typeof O&&("metallic"in O||"roughness"in O||"metallicRoughnessTexture"in O)?L.Z:D.Z,O)}clone(){return new g({faces:(0,Z.d9)(this.faces),shading:this.shading,material:(0,Z.d9)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(O,S){const b={faces:(0,Z.d9)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(O,S):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new g(b)}get memoryUsage(){let O=0;return null!=this.faces&&(O+=this.faces.byteLength),null!=this.material&&(O+=this.material.memoryUsage),O}};(0,E._)([(0,Q.Cb)({json:{write:!0}})],U.prototype,"faces",void 0),(0,E._)([(0,Y.p)("faces")],U.prototype,"castFaces",null),(0,E._)([(0,Q.Cb)({type:D.Z,json:{write:!0}})],U.prototype,"material",void 0),(0,E._)([(0,Y.p)("material")],U.prototype,"castMaterial",null),(0,E._)([(0,Q.Cb)()],U.prototype,"name",void 0),(0,E._)([(0,Q.Cb)({type:String,json:{write:!0}})],U.prototype,"shading",void 0),(0,E._)([(0,Q.Cb)({type:Boolean})],U.prototype,"trustSourceNormals",void 0),U=g=(0,E._)([(0,tt.j)("esri.geometry.support.MeshComponent")],U);const p=U},16996:(Mt,it,o)=>{o.d(it,{Z:()=>w});var E=o(50484),z=o(25387),Z=o(89317),V=o(80543),I=(o(14007),o(4703),o(65311),o(21070)),D=o(10141);let L=class extends((0,z.J)(Z.wq)){constructor(g){super(g),this.type="georeferenced",this.origin=null}};(0,E._)([(0,I.J)({georeferenced:"georeferenced"},{readOnly:!0})],L.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],L.prototype,"origin",void 0),L=(0,E._)([(0,D.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],L);const w=L},81255:(Mt,it,o)=>{o.d(it,{Z:()=>g});var E=o(50484),z=o(25387),Z=o(89317),V=o(80543),I=(o(14007),o(4703),o(65311),o(21070)),D=o(10141),L=o(73145);let w=class extends((0,z.J)(Z.wq)){constructor(U){super(U),this.type="local",this.origin=(0,L.Ue)()}};(0,E._)([(0,I.J)({local:"local"},{readOnly:!0})],w.prototype,"type",void 0),(0,E._)([(0,V.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],w.prototype,"origin",void 0),w=(0,E._)([(0,D.j)("esri.geometry.support.MeshLocalVertexSpace")],w);const g=w},58190:(Mt,it,o)=>{o.d(it,{Z:()=>U});var w,E=o(50484),z=o(66599),Z=o(89317),V=o(80543),I=(o(14007),o(4703),o(65311),o(10141)),D=o(19277),L=o(91139);let g=w=class extends Z.wq{constructor(p){super(p),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(p,O){const S=null!=p?p.get(this):null;if(S)return S;const b=new w(this.clonePropertiesWithDeduplication(O));return p?.set(this,b),b}clonePropertiesWithDeduplication(p){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(p),normalTexture:this.normalTexture?.cloneWithDeduplication(p),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let p=0;return p+=null!=this.color?16:0,null!=this.colorTexture&&(p+=this.colorTexture.memoryUsage),p+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(p+=this.normalTexture.memoryUsage),p+=null!=this.normalTextureTransform?20:0,p}};(0,E._)([(0,V.Cb)({type:z.Z,json:{write:!0}})],g.prototype,"color",void 0),(0,E._)([(0,V.Cb)({type:D.Z,json:{write:!0}})],g.prototype,"colorTexture",void 0),(0,E._)([(0,V.Cb)({type:L.Z,json:{write:!0}})],g.prototype,"colorTextureTransform",void 0),(0,E._)([(0,V.Cb)({type:D.Z,json:{write:!0}})],g.prototype,"normalTexture",void 0),(0,E._)([(0,V.Cb)({type:L.Z,json:{write:!0}})],g.prototype,"normalTextureTransform",void 0),(0,E._)([(0,V.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"alphaMode",void 0),(0,E._)([(0,V.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"alphaCutoff",void 0),(0,E._)([(0,V.Cb)({nonNullable:!0,json:{write:!0}})],g.prototype,"doubleSided",void 0),g=w=(0,E._)([(0,I.j)("esri.geometry.support.MeshMaterial")],g);const U=g},70981:(Mt,it,o)=>{o.d(it,{Z:()=>U});var w,E=o(50484),z=o(66599),Z=o(80543),tt=(o(14007),o(4703),o(65311),o(10141)),I=o(58190),D=o(19277),L=o(91139);let g=w=class extends I.Z{constructor(p){super(p),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(p,O){const S=null!=p?p.get(this):null;if(S)return S;const b=new w(this.clonePropertiesWithDeduplication(O));return p?.set(this,b),b}getMemoryUsage(){let p=super.getMemoryUsage();return p+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(p+=this.emissiveTexture.memoryUsage),p+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(p+=this.occlusionTexture.memoryUsage),p+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(p+=this.metallicRoughnessTexture.memoryUsage),p+=null!=this.metallicRoughnessTextureTransform?20:0,p}clonePropertiesWithDeduplication(p){return{...super.clonePropertiesWithDeduplication(p),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(p),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(p),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(p),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,E._)([(0,Z.Cb)({type:z.Z,json:{write:!0}})],g.prototype,"emissiveColor",void 0),(0,E._)([(0,Z.Cb)({type:D.Z,json:{write:!0}})],g.prototype,"emissiveTexture",void 0),(0,E._)([(0,Z.Cb)({type:L.Z,json:{write:!0}})],g.prototype,"emissiveTextureTransform",void 0),(0,E._)([(0,Z.Cb)({type:D.Z,json:{write:!0}})],g.prototype,"occlusionTexture",void 0),(0,E._)([(0,Z.Cb)({type:L.Z,json:{write:!0}})],g.prototype,"occlusionTextureTransform",void 0),(0,E._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],g.prototype,"metallic",void 0),(0,E._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],g.prototype,"roughness",void 0),(0,E._)([(0,Z.Cb)({type:D.Z,json:{write:!0}})],g.prototype,"metallicRoughnessTexture",void 0),(0,E._)([(0,Z.Cb)({type:L.Z,json:{write:!0}})],g.prototype,"metallicRoughnessTextureTransform",void 0),g=w=(0,E._)([(0,tt.j)("esri.geometry.support.MeshMaterialMetallicRoughness")],g);const U=g},19277:(Mt,it,o)=>{o.d(it,{Z:()=>et});var g,E=o(50484),Z=(o(14007),o(26517)),V=o(89317),Q=o(80543),Y=o(1535),I=(o(65311),o(62185)),D=o(10141),L=o(7547),w=o(19677);const U=new WeakMap;let p=0,O=g=class extends V.wq{constructor(v){super(v),this.wrap="repeat"}get url(){return this._get("url")||null}set url(v){this._set("url",v),v&&this._set("data",null)}get data(){return this._get("data")||null}set data(v){this._set("data",v),v&&this._set("url",null)}writeData(v,y,T,K){if(v instanceof HTMLImageElement){const k={type:"image-element",src:(0,w.t)(v.src,K),crossOrigin:v.crossOrigin};y[T]=k}else if(v instanceof HTMLCanvasElement){const k={type:"canvas-element",imageData:S(v.getContext("2d").getImageData(0,0,v.width,v.height))};y[T]=k}else if(v instanceof HTMLVideoElement){const k={type:"video-element",src:(0,w.t)(v.src,K),autoplay:v.autoplay,loop:v.loop,muted:v.muted,crossOrigin:v.crossOrigin,preload:v.preload};y[T]=k}else if(v instanceof ImageData){const k={type:"image-data",imageData:S(v)};y[T]=k}}readData(v){switch(v.type){case"image-element":{const y=new Image;return y.src=v.src,y.crossOrigin=v.crossOrigin,y}case"canvas-element":{const y=b(v.imageData),T=document.createElement("canvas");return T.width=y.width,T.height=y.height,T.getContext("2d").putImageData(y,0,0),T}case"image-data":return b(v.imageData);case"video-element":{const y=document.createElement("video");return y.src=v.src,y.crossOrigin=v.crossOrigin,y.autoplay=v.autoplay,y.loop=v.loop,y.muted=v.muted,y.preload=v.preload,y}default:return}}get transparent(){const v=this.data,y=this.url;if(v instanceof HTMLCanvasElement)return X(v.getContext("2d").getImageData(0,0,v.width,v.height));if(v instanceof ImageData)return X(v);if(y){const T=y.substr(y.length-4,4).toLowerCase(),K=y.substr(0,15).toLocaleLowerCase();if(".png"===T||"data:image/png;"===K)return!0}return!1}set transparent(v){this._overrideIfSome("transparent",v)}get contentHash(){const v="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",y=(T="")=>`d:${T},t:${this.transparent},w:${v}`;return null!=this.url?y(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?y(this.data.src):(U.has(this.data)||U.set(this.data,++p),y(U.get(this.data))):y()}get memoryUsage(){let v=0;if(v+=null!=this.url?this.url.length:0,null!=this.data){const y=this.data;"data"in y?v+=y.data.byteLength:y instanceof HTMLImageElement?v+=y.naturalWidth*y.naturalHeight*3:y instanceof HTMLCanvasElement&&(v+=y.width*y.height*3)}return v}clone(){const v={url:this.url,data:this.data,wrap:this._cloneWrap()};return new g(v)}cloneWithDeduplication(v){const y=v.get(this);if(y)return y;const T=this.clone();return v.set(this,T),T}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(v){return"string"==typeof v?new g({url:v}):v instanceof HTMLImageElement||v instanceof HTMLCanvasElement||v instanceof ImageData||v instanceof HTMLVideoElement?new g({data:v}):(0,Y.TJ)(g,v)}};function S(v){let y="";for(let T=0;T<v.data.length;T++)y+=String.fromCharCode(v.data[T]);return{data:btoa(y),width:v.width,height:v.height}}function b(v){const y=atob(v.data),T=new Uint8ClampedArray(y.length);for(let K=0;K<y.length;K++)T[K]=y.charCodeAt(K);return(0,Z.Jl)(T,v.width,v.height)}function X(v){for(let y=3;y<v.data.length;y+=4)if(255!==v.data[y])return!0;return!1}(0,E._)([(0,Q.Cb)({type:String,json:{write:w.w}})],O.prototype,"url",null),(0,E._)([(0,Q.Cb)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,Q.Cb)()],O.prototype,"data",null),(0,E._)([(0,L.c)("data")],O.prototype,"writeData",null),(0,E._)([(0,I.r)("data")],O.prototype,"readData",null),(0,E._)([(0,Q.Cb)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],O.prototype,"transparent",null),(0,E._)([(0,Q.Cb)({json:{write:!0}})],O.prototype,"wrap",void 0),(0,E._)([(0,Q.Cb)({readOnly:!0})],O.prototype,"contentHash",null),O=g=(0,E._)([(0,D.j)("esri.geometry.support.MeshTexture")],O);const et=O},91139:(Mt,it,o)=>{o.d(it,{Z:()=>L});var E=o(50484),z=o(25387),Z=o(89317),V=o(80543),I=(o(14007),o(4703),o(65311),o(10141));let D=class extends((0,z.J)(Z.wq)){constructor(w){super(w),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,E._)([(0,V.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"offset",void 0),(0,E._)([(0,V.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],D.prototype,"rotation",void 0),(0,E._)([(0,V.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],D.prototype,"scale",void 0),D=(0,E._)([(0,I.j)("esri.geometry.support.MeshTextureTransform")],D);const L=D},74291:(Mt,it,o)=>{o.d(it,{Z:()=>b});var p,E=o(50484),z=o(89317),Z=o(80543),tt=(o(14007),o(4703),o(65311),o(10141)),I=o(39061),D=o(41666),L=o(36510),w=o(686),g=o(73145),U=o(52217);let O=p=class extends z.wq{constructor(X){super(X),this.translation=(0,g.Ue)(),this.rotationAxis=(0,g.nI)(U.up),this.rotationAngle=0,this.scale=(0,g.al)(1,1,1)}get rotation(){return(0,U.uT)(this.rotationAxis,this.rotationAngle)}set rotation(X){this.rotationAxis=(0,g.d9)((0,U.ZZ)(X)),this.rotationAngle=(0,U.EU)(X)}get localMatrix(){const X=(0,D.Ue)();return(0,L.yY)(S,(0,U.ZZ)(this.rotation),(0,U.WH)(this.rotation)),(0,I.Iw)(X,S,this.translation,this.scale),X}get localMatrixInverse(){return(0,I.U_)((0,D.Ue)(),this.localMatrix)}equals(X){return this===X||null!=X&&(0,I.I6)(this.localMatrix,X.localMatrix)}clone(){const X={translation:(0,g.d9)(this.translation),rotationAxis:(0,g.d9)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,g.d9)(this.scale)};return new p(X)}};(0,E._)([(0,Z.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"translation",void 0),(0,E._)([(0,Z.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"rotationAxis",void 0),(0,E._)([(0,Z.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],O.prototype,"rotationAngle",void 0),(0,E._)([(0,Z.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"scale",void 0),(0,E._)([(0,Z.Cb)()],O.prototype,"rotation",null),(0,E._)([(0,Z.Cb)()],O.prototype,"localMatrix",null),(0,E._)([(0,Z.Cb)()],O.prototype,"localMatrixInverse",null),O=p=(0,E._)([(0,tt.j)("esri.geometry.support.MeshTransform")],O);const S=(0,w.Ue)(),b=O},96262:(Mt,it,o)=>{o.d(it,{Q:()=>D,X:()=>w});var I,E=o(50484),z=o(89317),Z=o(34222),V=o(4703),Q=o(80543),Y=o(73018),tt=o(10141);let D=I=class extends z.wq{constructor(p){super(p),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(p){return w(p,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},V.Z.getLogger(this))}castPosition(p){return p&&p instanceof Float32Array&&V.Z.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),w(p,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},V.Z.getLogger(this))}castUv(p){return w(p,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},V.Z.getLogger(this))}castNormal(p){return w(p,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},V.Z.getLogger(this))}castTangent(p){return w(p,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},V.Z.getLogger(this))}clone(){const p={position:(0,Z.d9)(this.position),uv:(0,Z.d9)(this.uv),normal:(0,Z.d9)(this.normal),tangent:(0,Z.d9)(this.tangent),color:(0,Z.d9)(this.color)};return new I(p)}clonePositional(){const p={position:(0,Z.d9)(this.position),normal:(0,Z.d9)(this.normal),tangent:(0,Z.d9)(this.tangent),uv:this.uv,color:this.color};return new I(p)}get memoryUsage(){let p=0;return p+=this.position.byteLength,null!=this.uv&&(p+=this.uv.byteLength),null!=this.normal&&(p+=this.normal.byteLength),null!=this.tangent&&(p+=this.tangent.byteLength),null!=this.color&&(p+=this.color.byteLength),p}};function L(p,O,S,b){const{loggerTag:X,stride:et}=O;return p.length%et!=0?(b.error(X,`Invalid array length, expected a multiple of ${et}`),new S([])):p}function w(p,O,S,b,X){if(!p)return p;if(p instanceof O)return L(p,b,O,X);for(const et of S)if(p instanceof et)return L(new O(p),b,O,X);if(Array.isArray(p))return L(new O(p),b,O,X);{const et=S.map(v=>`'${v.name}'`);return X.error(`Failed to set property, expected one of ${et}, but got ${p.constructor.name}`),new O([])}}function g(p,O,S){O[S]=function U(p){const O=new Array(p.length);for(let S=0;S<p.length;S++)O[S]=p[S];return O}(p)}(0,E._)([(0,Q.Cb)({json:{write:g}})],D.prototype,"color",void 0),(0,E._)([(0,Y.p)("color")],D.prototype,"castColor",null),(0,E._)([(0,Q.Cb)({nonNullable:!0,json:{write:g}})],D.prototype,"position",void 0),(0,E._)([(0,Y.p)("position")],D.prototype,"castPosition",null),(0,E._)([(0,Q.Cb)({json:{write:g}})],D.prototype,"uv",void 0),(0,E._)([(0,Y.p)("uv")],D.prototype,"castUv",null),(0,E._)([(0,Q.Cb)({json:{write:g}})],D.prototype,"normal",void 0),(0,E._)([(0,Y.p)("normal")],D.prototype,"castNormal",null),(0,E._)([(0,Q.Cb)({json:{write:g}})],D.prototype,"tangent",void 0),(0,E._)([(0,Y.p)("tangent")],D.prototype,"castTangent",null),D=I=(0,E._)([(0,tt.j)("esri.geometry.support.MeshVertexAttributes")],D)},52217:(Mt,it,o)=>{o.d(it,{EU:()=>et,Ue:()=>I,WH:()=>v,ZZ:()=>X,q_:()=>O,qw:()=>b,uT:()=>U,up:()=>T});var E=o(55117),z=o(39061),Z=o(36510),V=o(686),Q=o(43548),Y=o(73145);function I(N=T){return[N[0],N[1],N[2],N[3]]}function U(N,R,q=I()){return(0,Q.c)(q,N),q[3]=R,q}function O(N,R=I()){const q=(0,z.j6)(K,N);return y(R,(0,E.BV)((0,Z.Bh)(R,q))),R}function S(N,R,q=I()){return(0,Z.yY)(K,N,v(N)),(0,Z.yY)(k,R,v(R)),(0,Z.Jp)(K,k,K),y(q,(0,E.BV)((0,Z.Bh)(q,K)))}function b(N,R,q,ct=I()){return U(Y.E9,N,vt),U(Y.IO,R,rt),U(Y.eG,q,lt),S(vt,rt,vt),S(vt,lt,ct),ct}function X(N){return N}function et(N){return N[3]}function v(N){return(0,E.Vl)(N[3])}function y(N,R){return N[3]=R,N}o(23515);const T=[0,0,1,0],K=(0,V.Ue)(),k=(0,V.Ue)(),vt=(I(),I()),rt=I(),lt=I()},47689:(Mt,it,o)=>{o.d(it,{CP:()=>Y,JG:()=>p,LL:()=>tt,NZ:()=>I,fV:()=>O,vj:()=>X,yT:()=>v,zE:()=>et});var E=o(15861),z=o(66476),Z=o(57678),V=o(79412),Q=o(11642);class Y{constructor(T,K,k){this.assetName=T,this.assetMimeType=K,this.parts=k}equals(T){return this===T||this.assetName===T.assetName&&this.assetMimeType===T.assetMimeType&&(0,Z.fS)(this.parts,T.parts,(K,k)=>K.equals(k))}isOnService(T){return this.parts.every(K=>K.isOnService(T))}makeHash(){let T="";for(const K of this.parts)T+=K.partHash;return T}toBlob(T){var K=this;return(0,E.Z)(function*(){const{parts:k}=K;if(1===k.length)return k[0].toBlob(T);const pt=yield Promise.all(k.map(vt=>vt.toBlob(T)));return(0,V.k_)(T),new Blob(pt)})()}}class tt{constructor(T,K){this.partUrl=T,this.partHash=K}equals(T){return this===T||this.partUrl===T.partUrl&&this.partHash===T.partHash}isOnService(T){return this.partUrl.startsWith(`${T.path}/assets/`)}toBlob(T){var K=this;return(0,E.Z)(function*(){const{data:k}=yield(0,z.Z)(K.partUrl,{responseType:"blob"});return(0,V.k_)(T),k})()}}function I(y){return function g(y){return!!y&&(Array.isArray(y)?y.some(U):U(y))}(y?.source)}function D(y){return!!Array.isArray(y)&&y.every(T=>T instanceof Y)}const L=/^(model\/gltf\+json)|(model\/gltf-binary)$/,w=/\.(gltf|glb)/i;function U(y){if(y instanceof File){const{type:T,name:K}=y;return L.test(T)||w.test(K)}return L.test(y.assetMimeType)||w.test(y.assetName)}function p(y,T){if(!y)return!1;const{source:K}=y;return function S(y,T){return Array.isArray(y)?y.length>0&&y.every(k=>b(k,T)):b(y,T)}(K,T)}function O(y,T){if(y===T)return!0;const{source:K}=y,{source:k}=T;if(K===k)return!0;if(D(K)&&D(k)){if(K.length!==k.length)return!1;const pt=(lt,N)=>lt.assetName<N.assetName?-1:lt.assetName>N.assetName?1:0,vt=[...K].sort(pt),rt=[...k].sort(pt);for(let lt=0;lt<vt.length;++lt)if(!vt[lt].equals(rt[lt]))return!1;return!0}return!1}function b(y,T){return y instanceof Y&&y.isOnService(T)}function X(y,T){return y instanceof File?(0,Q.dm)(y,T):(0,Q.S0)(y.assetMimeType,T)??(0,Q.Ow)(y.assetName,T)}function et(y){return Array.isArray(y)?y:[y]}function v(y){return!!y.original}},59614:(Mt,it,o)=>{o.d(it,{d:()=>Z});var E=o(55117),z=o(58248);function Z(I,D,L){const w=Array.isArray(I),g=w?I.length/D:I.byteLength/(4*D),U=w?I:new Uint32Array(I,0,g*D),p=L?.minReduction??0,O=L?.originalIndices||null,S=O?O.length:0,b=L?.componentOffsets||null;let X=0;if(b)for(let R=0;R<b.length-1;R++){const q=b[R+1]-b[R];q>X&&(X=q)}else X=g;const et=Math.floor(1.1*X)+1;(null==tt||tt.length<2*et)&&(tt=new Uint32Array((0,E.Sf)(2*et)));for(let R=0;R<2*et;R++)tt[R]=0;let v=0;const y=!!b&&!!O,T=y?S:g;let K=(0,z.$z)(g);const k=new Uint32Array(S);let vt=0!==p?Math.ceil(7.84*1.96/(p*p)*p*(1-p)):T,rt=1,lt=b?b[1]:T;for(let R=0;R<T;R++){if(R===vt){const gt=1-v/R;if(gt+1.96*Math.sqrt(gt*(1-gt)/R)<p)return null;vt*=2}if(R===lt){for(let gt=0;gt<2*et;gt++)tt[gt]=0;if(O)for(let gt=b[rt-1];gt<b[rt];gt++)k[gt]=K[O[gt]];lt=b[++rt]}const q=y?O[R]:R,ct=q*D,_t=Y(U,ct,D);let Pt=_t%et,Lt=v;for(;0!==tt[2*Pt+1];){if(tt[2*Pt]===_t){const gt=tt[2*Pt+1]-1;if(V(U,ct,gt*D,D)){Lt=K[gt];break}}Pt++,Pt>=et&&(Pt-=et)}Lt===v&&(tt[2*Pt]=_t,tt[2*Pt+1]=q+1,v++),K[q]=Lt}if(0!==p&&1-v/g<p)return null;if(y){for(let R=b[rt-1];R<k.length;R++)k[R]=K[O[R]];K=(0,z.mi)(k)}const N=w?new Array(v):new Uint32Array(v*D);v=0;for(let R=0;R<T;R++)K[R]===v&&(Q(U,(y?O[R]:R)*D,N,v*D,D),v++);if(O&&!y){const R=new Uint32Array(S);for(let q=0;q<R.length;q++)R[q]=K[O[q]];K=(0,z.mi)(R)}return{buffer:Array.isArray(N)?N:N.buffer,indices:K,uniqueCount:v}}function V(I,D,L,w){for(let g=0;g<w;g++)if(I[D+g]!==I[L+g])return!1;return!0}function Q(I,D,L,w,g){for(let U=0;U<g;U++)L[w+U]=I[D+U]}function Y(I,D,L){let w=0;for(let g=0;g<L;g++)w=I[D+g]+w|0,w=w+(w<<11)+(w>>>2)|0;return w>>>0}let tt=null},52592:(Mt,it,o)=>{o.d(it,{G7:()=>g,QK:()=>L,rU:()=>w,vI:()=>O,zZ:()=>D});var E=o(93300),z=o(4703),Z=o(43548),V=o(44107),Q=o(16996),Y=o(81255);function tt(){return z.Z.getLogger("esri.geometry.Mesh")}function D(S){return null!=S.origin}function L(S){return D(S.vertexSpace)}function w(S,b){if(!D(S))return null;const[X,et,v]=S.origin;return new V.Z({x:X,y:et,z:v,spatialReference:b})}function g(S,b){const{x:X,y:et,z:v,spatialReference:y}=S,T=[X,et,v??0];return void 0!==b?.geographic&&((0,E.x9)(tt(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),b.vertexSpace&&tt().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(b?.vertexSpace??function p(S){return null==S?void 0:S?"local":"georeferenced"}(b?.geographic)??function U(S){return S.isGeographic||S.isWebMercator?"local":"georeferenced"}(y))?new Y.Z({origin:T}):new Q.Z({origin:T})}function O(S,b){return S.type===b.type&&(S.origin===b.origin||null!=S.origin&&null!=b.origin&&(0,Z.e)(S.origin,b.origin))}}}]);