"use strict";(self.webpackChunkclario_frontend=self.webpackChunkclario_frontend||[]).push([[3228],{4460:($t,Gt,j)=>{j.d(Gt,{e:()=>ft});var Ot,Y,et=j(90104),z={exports:{}};Ot=z,void 0!==(Y=function(){function gt(c,E,_){_=_||2;var T,A,m,O,k,X,dt,Tt=E&&E.length,At=Tt?E[0]*_:c.length,ht=at(c,0,At,_,!0),J=[];if(!ht||ht.next===ht.prev)return J;if(Tt&&(ht=function S(c,E,_,T){var A,m,O,k=[];for(A=0,m=E.length;A<m;A++)(O=at(c,E[A]*T,A<m-1?E[A+1]*T:c.length,T,!1))===O.next&&(O.steiner=!0),k.push(Lt(O));for(k.sort(tt),A=0;A<k.length;A++)_=C(_=_t(k[A],_),_.next);return _}(c,E,ht,_)),c.length>80*_){T=m=c[0],A=O=c[1];for(var W=_;W<At;W+=_)(k=c[W])<T&&(T=k),(X=c[W+1])<A&&(A=X),k>m&&(m=k),X>O&&(O=X);dt=0!==(dt=Math.max(m-T,O-A))?1/dt:0}return G(ht,J,_,T,A,dt),J}function at(c,E,_,T,A){var m,O;if(A===zt(c,E,_,T)>0)for(m=E;m<_;m+=T)O=rt(m,c[m],c[m+1],O);else for(m=_-T;m>=E;m-=T)O=rt(m,c[m],c[m+1],O);if(O&&ut(O,O.next)){var k=O.next;ct(O),O=k}return O}function C(c,E){if(!c)return c;E||(E=c);var _,T=c;do{if(_=!1,T.steiner||!ut(T,T.next)&&0!==Q(T.prev,T,T.next))T=T.next;else{var A=T.prev;if(ct(T),(T=E=A)===T.next)break;_=!0}}while(_||T!==E);return E}function G(c,E,_,T,A,m,O){if(c){!O&&m&&function vt(c,E,_,T){var A=c;do{null===A.z&&(A.z=Mt(A.x,A.y,E,_,T)),A.prevZ=A.prev,A.nextZ=A.next,A=A.next}while(A!==c);A.prevZ.nextZ=null,A.prevZ=null,function It(c){var E,_,T,A,m,O,k,X,dt=1;do{for(_=c,c=null,m=null,O=0;_;){for(O++,T=_,k=0,E=0;E<dt&&(k++,T=T.nextZ);E++);for(X=dt;k>0||X>0&&T;)0!==k&&(0===X||!T||_.z<=T.z)?(A=_,_=_.nextZ,k--):(A=T,T=T.nextZ,X--),m?m.nextZ=A:c=A,A.prevZ=m,m=A;_=T}m.nextZ=null,dt*=2}while(O>1)}(A)}(c,T,A,m);for(var k,X,dt=c;c.prev!==c.next;)if(k=c.prev,X=c.next,m?P(c,T,A,m):F(c))E.push(k.i/_),E.push(c.i/_),E.push(X.i/_),ct(c),c=X.next,dt=X.next;else if((c=X)===dt){O?1===O?G(c=q(C(c),E,_),E,_,T,A,m,2):2===O&&H(c,E,_,T,A,m):G(C(c),E,_,T,A,m,1);break}}}function F(c){var E=c.prev,_=c,T=c.next;if(Q(E,_,T)>=0)return!1;for(var A=c.next.next;A!==c.prev;){if(Ct(E.x,E.y,_.x,_.y,T.x,T.y,A.x,A.y)&&Q(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function P(c,E,_,T){var A=c.prev,m=c,O=c.next;if(Q(A,m,O)>=0)return!1;for(var dt=A.x>m.x?A.x>O.x?A.x:O.x:m.x>O.x?m.x:O.x,Tt=A.y>m.y?A.y>O.y?A.y:O.y:m.y>O.y?m.y:O.y,At=Mt(A.x<m.x?A.x<O.x?A.x:O.x:m.x<O.x?m.x:O.x,A.y<m.y?A.y<O.y?A.y:O.y:m.y<O.y?m.y:O.y,E,_,T),ht=Mt(dt,Tt,E,_,T),J=c.prevZ,W=c.nextZ;J&&J.z>=At&&W&&W.z<=ht;){if(J!==c.prev&&J!==c.next&&Ct(A.x,A.y,m.x,m.y,O.x,O.y,J.x,J.y)&&Q(J.prev,J,J.next)>=0||(J=J.prevZ,W!==c.prev&&W!==c.next&&Ct(A.x,A.y,m.x,m.y,O.x,O.y,W.x,W.y)&&Q(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;J&&J.z>=At;){if(J!==c.prev&&J!==c.next&&Ct(A.x,A.y,m.x,m.y,O.x,O.y,J.x,J.y)&&Q(J.prev,J,J.next)>=0)return!1;J=J.prevZ}for(;W&&W.z<=ht;){if(W!==c.prev&&W!==c.next&&Ct(A.x,A.y,m.x,m.y,O.x,O.y,W.x,W.y)&&Q(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function q(c,E,_){var T=c;do{var A=T.prev,m=T.next.next;!ut(A,m)&&$(A,T,T.next,m)&&t(A,m)&&t(m,A)&&(E.push(A.i/_),E.push(T.i/_),E.push(m.i/_),ct(T),ct(T.next),T=c=m),T=T.next}while(T!==c);return C(T)}function H(c,E,_,T,A,m){var O=c;do{for(var k=O.next.next;k!==O.prev;){if(O.i!==k.i&&Nt(O,k)){var X=wt(O,k);return O=C(O,O.next),X=C(X,X.next),G(O,E,_,T,A,m),void G(X,E,_,T,A,m)}k=k.next}O=O.next}while(O!==c)}function tt(c,E){return c.x-E.x}function yt(c){if(c.next.prev===c)return c;let E=c;for(;;){const _=E.next;if(_.prev===E||_===E||_===c)break;E=_}return E}function _t(c,E){var _=function pt(c,E){var _,T=E,A=c.x,m=c.y,O=-1/0;do{if(m<=T.y&&m>=T.next.y&&T.next.y!==T.y){var k=T.x+(m-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(k<=A&&k>O){if(O=k,k===A){if(m===T.y)return T;if(m===T.next.y)return T.next}_=T.x<T.next.x?T:T.next}}T=T.next}while(T!==E);if(!_)return null;if(A===O)return _;var X,dt=_,Tt=_.x,At=_.y,ht=1/0;T=_;do{A>=T.x&&T.x>=Tt&&A!==T.x&&Ct(m<At?A:O,m,Tt,At,m<At?O:A,m,T.x,T.y)&&(X=Math.abs(m-T.y)/(A-T.x),t(T,c)&&(X<ht||X===ht&&(T.x>_.x||T.x===_.x&&Ut(_,T)))&&(_=T,ht=X)),T=T.next}while(T!==dt);return _}(c,E);if(!_)return E;var T=wt(_,c),A=C(_,_.next);let m=yt(T);return C(m,m.next),A=yt(A),yt(E===_?A:E)}function Ut(c,E){return Q(c.prev,c,E.prev)<0&&Q(E.next,c,c.next)<0}function Mt(c,E,_,T,A){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-_)*A)|c<<8))|c<<4))|c<<2))|c<<1))|(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-T)*A)|E<<8))|E<<4))|E<<2))|E<<1))<<1}function Lt(c){var E=c,_=c;do{(E.x<_.x||E.x===_.x&&E.y<_.y)&&(_=E),E=E.next}while(E!==c);return _}function Ct(c,E,_,T,A,m,O,k){return(A-O)*(E-k)-(c-O)*(m-k)>=0&&(c-O)*(T-k)-(_-O)*(E-k)>=0&&(_-O)*(m-k)-(A-O)*(T-k)>=0}function Nt(c,E){return c.next.i!==E.i&&c.prev.i!==E.i&&!function U(c,E){var _=c;do{if(_.i!==c.i&&_.next.i!==c.i&&_.i!==E.i&&_.next.i!==E.i&&$(_,_.next,c,E))return!0;_=_.next}while(_!==c);return!1}(c,E)&&(t(c,E)&&t(E,c)&&function kt(c,E){var _=c,T=!1,A=(c.x+E.x)/2,m=(c.y+E.y)/2;do{_.y>m!=_.next.y>m&&_.next.y!==_.y&&A<(_.next.x-_.x)*(m-_.y)/(_.next.y-_.y)+_.x&&(T=!T),_=_.next}while(_!==c);return T}(c,E)&&(Q(c.prev,c,E.prev)||Q(c,E.prev,E))||ut(c,E)&&Q(c.prev,c,c.next)>0&&Q(E.prev,E,E.next)>0)}function Q(c,E,_){return(E.y-c.y)*(_.x-E.x)-(E.x-c.x)*(_.y-E.y)}function ut(c,E){return c.x===E.x&&c.y===E.y}function $(c,E,_,T){var A=Pt(Q(c,E,_)),m=Pt(Q(c,E,T)),O=Pt(Q(_,T,c)),k=Pt(Q(_,T,E));return A!==m&&O!==k||!(0!==A||!it(c,_,E))||!(0!==m||!it(c,T,E))||!(0!==O||!it(_,c,T))||!(0!==k||!it(_,E,T))}function it(c,E,_){return E.x<=Math.max(c.x,_.x)&&E.x>=Math.min(c.x,_.x)&&E.y<=Math.max(c.y,_.y)&&E.y>=Math.min(c.y,_.y)}function Pt(c){return c>0?1:c<0?-1:0}function t(c,E){return Q(c.prev,c,c.next)<0?Q(c,E,c.next)>=0&&Q(c,c.prev,E)>=0:Q(c,E,c.prev)<0||Q(c,c.next,E)<0}function wt(c,E){var _=new lt(c.i,c.x,c.y),T=new lt(E.i,E.x,E.y),A=c.next,m=E.prev;return c.next=E,E.prev=c,_.next=A,A.prev=_,T.next=_,_.prev=T,m.next=T,T.prev=m,T}function rt(c,E,_,T){var A=new lt(c,E,_);return T?(A.next=T.next,A.prev=T,T.next.prev=A,T.next=A):(A.prev=A,A.next=A),A}function ct(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function lt(c,E,_){this.i=c,this.x=E,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function zt(c,E,_,T){for(var A=0,m=E,O=_-T;m<_;m+=T)A+=(c[O]-c[m])*(c[m+1]+c[O+1]),O=m;return A}return gt.deviation=function(c,E,_,T){var A=E&&E.length,O=Math.abs(zt(c,0,A?E[0]*_:c.length,_));if(A)for(var k=0,X=E.length;k<X;k++)O-=Math.abs(zt(c,E[k]*_,k<X-1?E[k+1]*_:c.length,_));var At=0;for(k=0;k<T.length;k+=3){var ht=T[k]*_,J=T[k+1]*_,W=T[k+2]*_;At+=Math.abs((c[ht]-c[W])*(c[J+1]-c[ht+1])-(c[ht]-c[J])*(c[W+1]-c[ht+1]))}return 0===O&&0===At?0:Math.abs((At-O)/O)},gt.flatten=function(c){for(var E=c[0][0].length,_={vertices:[],holes:[],dimensions:E},T=0,A=0;A<c.length;A++){for(var m=0;m<c[A].length;m++)for(var O=0;O<E;O++)_.vertices.push(c[A][m][O]);A>0&&_.holes.push(T+=c[A-1].length)}return _},gt}())&&(Ot.exports=Y);const ft=(0,et.g)(z.exports)},40485:($t,Gt,j)=>{j.d(Gt,{Z:()=>gt});var st,at,et=j(14007),Ot=j(51479);(at=st||(st={}))[at.varint=0]="varint",at[at.fixed64=1]="fixed64",at[at.delimited=2]="delimited",at[at.fixed32=5]="fixed32",at[at.unknown=99]="unknown";const Y=4294967296,z=new TextDecoder("utf-8"),ft=(0,et.Z)("safari")||(0,et.Z)("ios")?6:(0,et.Z)("ff")?12:32;class gt{constructor(C,G,F=0,P=(C?C.byteLength:0)){this._tag=0,this._dataType=st.unknown,this._init(C,G,F,P)}_init(C,G,F,P){this._data=C,this._dataView=G,this._pos=F,this._end=P}asUnsafe(){return this}clone(){return new gt(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(C){this._pos=C}nextTag(C){for(;;){if(this._pos===this._end)return!1;const G=this._decodeVarint();if(this._tag=G>>3,this._dataType=7&G,!C||C===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const C=this._decodeVarint();return this._tag=C>>3,this._dataType=7&C,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let C=4294967295;if(C=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(C=(C|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(C=(C|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(C=(C|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(C=(C|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return C;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const C=this.getUInt32();return C>>>1^-(1&C)}getSInt64(){return this._decodeSVarint()}getBool(){const C=0!==this._data[this._pos];return this._skip(1),C}getEnum(){return this._decodeVarint()}getFixed64(){const C=this._dataView,G=this._pos,F=C.getUint32(G,!0)+C.getUint32(G+4,!0)*Y;return this._skip(8),F}getSFixed64(){const C=this._dataView,G=this._pos,F=C.getUint32(G,!0)+C.getInt32(G+4,!0)*Y;return this._skip(8),F}getDouble(){const C=this._dataView.getFloat64(this._pos,!0);return this._skip(8),C}getFixed32(){const C=this._dataView.getUint32(this._pos,!0);return this._skip(4),C}getSFixed32(){const C=this._dataView.getInt32(this._pos,!0);return this._skip(4),C}getFloat(){const C=this._dataView.getFloat32(this._pos,!0);return this._skip(4),C}getString(){const C=this._getLength(),G=this._pos,F=this._toString(this._data,G,G+C);return this._skip(C),F}getBytes(){const C=this._getLength(),G=this._pos,F=this._toBytes(this._data,G,G+C);return this._skip(C),F}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(C,G,F,P){const q=this.getMessage(),H=C(q,G,F,P);return q.release(),H}processMessage(C){const G=this.getMessage(),F=C(G);return G.release(),F}getMessage(){const C=this._getLength(),G=gt.pool.acquire();return G._init(this._data,this._dataView,this._pos,this._pos+C),this._skip(C),G}release(){gt.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case st.varint:this._decodeVarint();break;case st.fixed64:this._skip(8);break;case st.delimited:this._skip(this._getLength());break;case st.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(C){this._skip(C)}_skip(C){if(this._pos+C>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=C}_decodeVarint(){const C=this._data;let G=this._pos,F=0,P=0;if(this._end-G>=10)do{if(P=C[G++],F|=127&P,!(128&P&&(P=C[G++],F|=(127&P)<<7,128&P)&&(P=C[G++],F|=(127&P)<<14,128&P)&&(P=C[G++],F|=(127&P)<<21,128&P)&&(P=C[G++],F+=268435456*(127&P),128&P)&&(P=C[G++],F+=34359738368*(127&P),128&P)&&(P=C[G++],F+=4398046511104*(127&P),128&P)&&(P=C[G++],F+=562949953421312*(127&P),128&P)&&(P=C[G++],F+=72057594037927940*(127&P),128&P)&&(P=C[G++],F+=0x8000000000000000*(127&P),128&P)))break;throw new Error("Varint too long!")}while(0);else{let q=1;for(;G!==this._end&&(P=C[G],128&P);)++G,F+=(127&P)*q,q*=128;if(G===this._end)throw new Error("Varint overrun!");++G,F+=P*q}return this._pos=G,F}_decodeSVarint(){const C=this._data;let G,F=0,P=0;const q=1&C[this._pos];if(P=C[this._pos++],F|=127&P,!(128&P&&(P=C[this._pos++],F|=(127&P)<<7,128&P)&&(P=C[this._pos++],F|=(127&P)<<14,128&P)&&(P=C[this._pos++],F|=(127&P)<<21,128&P)&&(P=C[this._pos++],F+=268435456*(127&P),128&P)&&(P=C[this._pos++],F+=34359738368*(127&P),128&P)&&(P=C[this._pos++],F+=4398046511104*(127&P),128&P)))return q?-(F+1)/2:F/2;if(G=BigInt(F),P=C[this._pos++],G+=0x2000000000000n*BigInt(127&P),!(128&P&&(P=C[this._pos++],G+=0x100000000000000n*BigInt(127&P),128&P)&&(P=C[this._pos++],G+=0x8000000000000000n*BigInt(127&P),128&P)))return Number(q?-(G+1n)/2n:G/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==st.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(C,G,F){if((F=Math.min(this._end,F))-G>ft){const H=C.subarray(G,F);return z.decode(H)}let P="",q="";for(let H=G;H<F;++H){const S=C[H];128&S?q+="%"+S.toString(16):(P+=decodeURIComponent(q)+String.fromCharCode(S),q="")}return q.length&&(P+=decodeURIComponent(q)),P}_toBytes(C,G,F){return F=Math.min(this._end,F),new Uint8Array(C.buffer,G,F-G)}}gt.pool=new Ot.Z(gt,void 0,at=>{at._data=null,at._dataView=null})},97244:($t,Gt,j)=>{j.d(Gt,{b:()=>F,j:()=>gt});var et=j(15861),Ot=j(98930),st=j(14007);const Y=128e3;let z=null,ft=null;function gt(){return at.apply(this,arguments)}function at(){return at=(0,et.Z)(function*(){return z||(z=function C(){return G.apply(this,arguments)}()),z}),at.apply(this,arguments)}function G(){return(G=(0,et.Z)(function*(){ft=yield((0,st.Z)("esri-csp-restrictions")?yield j.e(5246).then(j.bind(j,15246)).then(q=>q.l):yield j.e(8392).then(j.bind(j,28392)).then(q=>q.l)).default({locateFile:q=>(0,Ot.V)(`esri/core/libs/libtess/${q}`)})})).apply(this,arguments)}function F(P,q){const H=Math.max(P.length,Y);return ft.triangulate(P,q,H)}},43502:($t,Gt,j)=>{j.r(Gt),j.d(Gt,{default:()=>Zt});var et=j(15861),Ot=j(79412),st=j(17866),Y=j(80247),z=j(26128);function gt(f){return!(f<11904)&&(f>=12704&&f<=12735||f>=12544&&f<=12591||f>=65072&&f<=65103||f>=63744&&f<=64255||f>=13056&&f<=13311||f>=11904&&f<=12031||f>=12736&&f<=12783||f>=12288&&f<=12351||f>=13312&&f<=19903||f>=19968&&f<=40959||f>=12800&&f<=13055||f>=65280&&f<=65519||f>=12352&&f<=12447||f>=12272&&f<=12287||f>=12032&&f<=12255||f>=12784&&f<=12799||f>=12448&&f<=12543||f>=65040&&f<=65055||f>=42128&&f<=42191||f>=40960&&f<=42127)}function at(f){switch(f){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function C(f){switch(f){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var G=j(46117);const F=24;class q{constructor(i,e,r,n,l,a,o){this._glyphItems=i,this._maxWidth=e,this._lineHeight=r,this._letterSpacing=n,this._hAnchor=l,this._vAnchor=a,this._justify=o}getShaping(i,e,r){const n=this._letterSpacing,l=this._lineHeight,a=this._justify,o=this._maxWidth,h=[];let u=0,d=0;for(const I of i){const L=I.codePointAt(0);if(null==L)continue;const V=r&&(746===(f=L)||747===f||!(f<4352)&&(f>=12704&&f<=12735||f>=12544&&f<=12591||f>=65072&&f<=65103&&!(f>=65097&&f<=65103)||f>=63744&&f<=64255||f>=13056&&f<=13311||f>=11904&&f<=12031||f>=12736&&f<=12783||f>=12288&&f<=12351&&!(f>=12296&&f<=12305||f>=12308&&f<=12319||12336===f)||f>=13312&&f<=19903||f>=19968&&f<=40959||f>=12800&&f<=13055||f>=12592&&f<=12687||f>=43360&&f<=43391||f>=55216&&f<=55295||f>=4352&&f<=4607||f>=44032&&f<=55215||f>=12352&&f<=12447||f>=12272&&f<=12287||f>=12688&&f<=12703||f>=12032&&f<=12255||f>=12784&&f<=12799||f>=12448&&f<=12543&&12540!==f||f>=65280&&f<=65519&&!(65288===f||65289===f||65293===f||f>=65306&&f<=65310||65339===f||65341===f||65343===f||f>=65371&&f<=65503||65507===f||f>=65512&&f<=65519)||f>=65104&&f<=65135&&!(f>=65112&&f<=65118||f>=65123&&f<=65126)||f>=5120&&f<=5759||f>=6320&&f<=6399||f>=65040&&f<=65055||f>=19904&&f<=19967||f>=40960&&f<=42127||f>=42128&&f<=42191));let D;for(const v of this._glyphItems)if(D=v[L],D)break;h.push({codePoint:L,x:u,y:d,vertical:V,glyphMosaicItem:D}),D&&(u+=D.metrics.advance+n)}var f;let y=u;o>0&&(y=u/Math.max(1,Math.ceil(u/o)));const R=i.includes("\u200b"),x=[],p=h.length;for(let I=0;I<p-1;I++){const L=h[I].codePoint,V=gt(L);if(at(L)||V){let D=0;if(10===L)D-=1e4;else if(V&&R)D+=150;else{40!==L&&65288!==L||(D+=50);const v=h[I+1].codePoint;41!==v&&65289!==v||(D+=50)}x.push(this._buildBreak(I+1,h[I].x,y,x,D,!1))}}const N=this._optimalBreaks(this._buildBreak(p,u,y,x,0,!0));let B=0;const g=e?-l:l;let M=0;for(let I=0;I<N.length;I++){const L=N[I];let V=M;for(;V<L&&C(h[V].codePoint);)h[V].glyphMosaicItem=null,++V;let D=L-1;for(;D>V&&C(h[D].codePoint);)h[D].glyphMosaicItem=null,--D;if(V<=D){const v=h[V].x;for(let b=V;b<=D;b++)h[b].x-=v,h[b].y=d;let Z=h[D].x;h[D].glyphMosaicItem&&(Z+=h[D].glyphMosaicItem.metrics.advance),B=Math.max(Z,B),a&&this._applyJustification(h,V,D)}M=L,d+=g}if(h.length>0){const I=N.length-1,L=(a-this._hAnchor)*B;let V=(-this._vAnchor*(I+1)+.5)*l;e&&I&&(V+=I*l);for(const D of h)D.x+=L,D.y+=V}return h.filter(I=>I.glyphMosaicItem)}static getTextBox(i,e){if(!i.length)return null;let r=1/0,n=1/0,l=0,a=0;for(const o of i){const u=o.x,d=o.y-17,y=u+o.glyphMosaicItem.metrics.advance,R=d+e;r=Math.min(r,u),l=Math.max(l,y),n=Math.min(n,d),a=Math.max(a,R)}return{x:r,y:n,width:l-r,height:a-n}}static getBox(i){if(!i.length)return null;let e=1/0,r=1/0,n=0,l=0;for(const a of i){const{height:o,left:h,top:u,width:d}=a.glyphMosaicItem.metrics,y=a.x,R=a.y-(o-Math.abs(u)),x=y+d+h,p=R+o;e=Math.min(e,y),n=Math.max(n,x),r=Math.min(r,R),l=Math.max(l,p)}return{x:e,y:r,width:n-e,height:l-r}}static addDecoration(i,e){const r=i.length;if(0===r)return;let l=i[0].x+i[0].glyphMosaicItem.metrics.left,a=i[0].y;for(let h=1;h<r;h++){const u=i[h];if(u.y!==a){const d=i[h-1].x+i[h-1].glyphMosaicItem.metrics.left+i[h-1].glyphMosaicItem.metrics.width;i.push({codePoint:0,x:l,y:a+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.Z(4,0,4,8),metrics:{width:d-l,height:8,left:0,top:0,advance:0},page:0,code:0}}),a=u.y,l=u.x+u.glyphMosaicItem.metrics.left}}const o=i[r-1].x+i[r-1].glyphMosaicItem.metrics.left+i[r-1].glyphMosaicItem.metrics.width;i.push({codePoint:0,x:l,y:a+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.Z(4,0,4,8),metrics:{width:o-l,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(i,e,r,n){const l=(i-e)*(i-e);return n?i<e?l/2:2*l:l+Math.abs(r)*r}_buildBreak(i,e,r,n,l,a){let o=null,h=this._breakScore(e,r,l,a);for(const u of n){const y=this._breakScore(e-u.x,r,l,a)+u.score;y<=h&&(o=u,h=y)}return{index:i,x:e,score:h,previousBreak:o}}_optimalBreaks(i){return i?this._optimalBreaks(i.previousBreak).concat(i.index):[]}_applyJustification(i,e,r){const n=i[r],a=(n.x+(n.vertical?F:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0))*this._justify;for(let o=e;o<=r;o++)i[o].x-=a}}var H=j(9655),S=j(59078);class vt{constructor(i,e,r=0,n=-1,l=.5){this.x=i,this.y=e,this.angle=r,this.segment=n,this.minzoom=l}}class It{constructor(i,e,r,n,l,a=.5,o=z.FM){this.anchor=i,this.labelAngle=e,this.glyphAngle=r,this.page=n,this.alternateVerticalGlyph=l,this.minzoom=a,this.maxzoom=o}}class Mt{constructor(i,e,r,n,l,a,o,h,u,d,y,R){this.tl=i,this.tr=e,this.bl=r,this.br=n,this.mosaicRect=l,this.labelAngle=a,this.minAngle=o,this.maxAngle=h,this.anchor=u,this.minzoom=d,this.maxzoom=y,this.page=R}}class Lt{constructor(i){this.shapes=i}}class Ct{getIconPlacement(i,e,r){const n=new Y.E9(i.x,i.y),l=r.rotationAlignment===S.aF.MAP,a=r.keepUpright;let o=r.rotate*z.nF;l&&(o+=i.angle);const h=new Lt([]);return r.allowOverlap&&r.ignorePlacement||!H.R8||(h.iconColliders=[]),this._addIconPlacement(h,n,e,r,o),l&&a&&this._addIconPlacement(h,n,e,r,o+z.RD),h}_addIconPlacement(i,e,r,n,l){const a=r.rasterizationScale,o=r.width/a,h=r.height/a,u=n.offset;let d=u[0],y=u[1];switch(n.anchor){case S.nR.CENTER:d-=o/2,y-=h/2;break;case S.nR.LEFT:y-=h/2;break;case S.nR.RIGHT:d-=o,y-=h/2;break;case S.nR.TOP:d-=o/2;break;case S.nR.BOTTOM:d-=o/2,y-=h;break;case S.nR.TOP_LEFT:break;case S.nR.BOTTOM_LEFT:y-=h;break;case S.nR.TOP_RIGHT:d-=o;break;case S.nR.BOTTOM_RIGHT:d-=o,y-=h}const R=r.rect,x=2/a,p=d-x,N=y-x,B=p+R.width/a,g=N+R.height/a,M=new Y.E9(p,N),I=new Y.E9(B,g),L=new Y.E9(p,g),V=new Y.E9(B,N);if(0!==l){const v=Math.cos(l),Z=Math.sin(l);M.rotate(v,Z),I.rotate(v,Z),L.rotate(v,Z),V.rotate(v,Z)}const D=new Mt(M,V,L,I,R,l,0,256,e,.5,z.FM,0);if(i.shapes.push(D),(!n.allowOverlap||!n.ignorePlacement)&&H.R8){const v=n.size,Z=n.padding;i.iconColliders.push({xTile:e.x,yTile:e.y,dxPixels:d*v-Z,dyPixels:y*v-Z,hard:!n.optional,partIndex:0,width:o*v+2*Z,height:h*v+2*Z,angle:l,minLod:.5,maxLod:z.FM})}}getTextPlacement(i,e,r,n){const l=new Y.E9(i.x,i.y),a=n.rotate*z.nF,o=n.rotationAlignment===S.aF.MAP,h=n.keepUpright,u=n.padding;let d=.5;const y=o?i.angle:0,R=i.segment>=0&&o,x=n.allowOverlap&&n.ignorePlacement?null:[],p=[],B=!R;let g=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,I=g,L=M;const V=(R||o)&&h,D=n.size/F;let v=!1;for(const w of e)if(w.vertical){v=!0;break}let Z,b=0,K=0;if(!R&&v){const w=q.getTextBox(e,n.lineHeight*F);switch(n.anchor){case S.nR.LEFT:b=w.height/2,K=-w.width/2;break;case S.nR.RIGHT:b=-w.height/2,K=w.width/2;break;case S.nR.TOP:b=w.height/2,K=w.width/2;break;case S.nR.BOTTOM:b=-w.height/2,K=-w.width/2;break;case S.nR.TOP_LEFT:b=w.height;break;case S.nR.BOTTOM_LEFT:K=-w.width;break;case S.nR.TOP_RIGHT:K=w.width;break;case S.nR.BOTTOM_RIGHT:b=-w.height}}b+=n.offset[0]*F,K+=n.offset[1]*F;for(const w of e){const Rt=w.glyphMosaicItem;if(!Rt||Rt.rect.isEmpty)continue;const xt=Rt.rect,Et=Rt.metrics,Ft=Rt.page;if(x&&B){if(void 0!==Z&&Z!==w.y){let Dt,bt,Xt,Kt;v?(Dt=-L+b,bt=g+K,Xt=L-I,Kt=M-g):(Dt=g+b,bt=I+K,Xt=M-g,Kt=L-I),x.push({xTile:i.x,yTile:i.y,dxPixels:Dt*D-u,dyPixels:bt*D-u,hard:!n.optional,partIndex:1,width:Xt*D+2*u,height:Kt*D+2*u,angle:a,minLod:.5,maxLod:z.FM}),g=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,I=g,L=M}Z=w.y}const qt=[];if(R){const bt=(w.x+Et.left-4+.5*Rt.metrics.width)*D*8;if(d=this._placeGlyph(i,d,bt,r,i.segment,1,w.vertical,Ft,qt),h&&(d=this._placeGlyph(i,d,bt,r,i.segment,-1,w.vertical,Ft,qt)),d>=2)break}else qt.push(new It(l,y,y,Ft,!1)),o&&h&&qt.push(new It(l,y+z.RD,y+z.RD,Ft,!1));const Yt=w.x+Et.left,jt=w.y-17-Et.top,te=Yt+Et.width,ce=jt+Et.height;let Vt,Wt,se,re,ee,oe,xe,fe;!R&&v?w.vertical?(Vt=new Y.E9(-((jt+ce)/2+Et.width/2)-4+b,(Yt+te)/2-Et.height/2-4+K),Wt=new Y.E9(Vt.x+xt.width,Vt.y+xt.height),se=new Y.E9(Vt.x,Wt.y),re=new Y.E9(Wt.x,Vt.y)):(Vt=new Y.E9(4-jt+b,Yt-4+K),Wt=new Y.E9(Vt.x-xt.height,Vt.y+xt.width),se=new Y.E9(Wt.x,Vt.y),re=new Y.E9(Vt.x,Wt.y)):(Vt=new Y.E9(Yt-4+b,jt-4+K),Wt=new Y.E9(Vt.x+xt.width,Vt.y+xt.height),se=new Y.E9(Vt.x,Wt.y),re=new Y.E9(Wt.x,Vt.y));for(const Dt of qt){let bt,Xt,Kt,Qt;Dt.alternateVerticalGlyph?(ee||(ee=new Y.E9((Yt+te)/2+b-Et.height/2-4,(jt+ce)/2+K+Et.width/2+4),oe=new Y.E9(ee.x+xt.height,ee.y-xt.width),xe=new Y.E9(oe.x,ee.y),fe=new Y.E9(ee.x,oe.y)),bt=ee,Xt=xe,Kt=fe,Qt=oe):(bt=Vt,Xt=se,Kt=re,Qt=Wt);const ae=jt,ue=ce,le=Dt.glyphAngle+a;if(0!==le){const Jt=Math.cos(le),he=Math.sin(le);bt=bt.clone(),Xt=Xt?.clone(),Kt=Kt?.clone(),Qt=Qt?.clone(),bt.rotate(Jt,he),Qt?.rotate(Jt,he),Xt?.rotate(Jt,he),Kt?.rotate(Jt,he)}let ie=0,ne=256;R&&v?w.vertical?Dt.alternateVerticalGlyph?(ie=32,ne=96):(ie=224,ne=32):(ie=224,ne=96):(ie=192,ne=64),p.push(new Mt(bt,Kt,Xt,Qt,xt,Dt.labelAngle,ie,ne,Dt.anchor,Dt.minzoom,Dt.maxzoom,Dt.page)),!x||V&&!this._legible(Dt.labelAngle)||(B?(Yt<g&&(g=Yt),ae<I&&(I=ae),te>M&&(M=te),ue>L&&(L=ue)):Dt.minzoom<2&&x.push({xTile:i.x,yTile:i.y,dxPixels:(Yt+b)*D-u,dyPixels:(ae+b)*D-u,hard:!n.optional,partIndex:1,width:(te-Yt)*D+2*u,height:(ue-ae)*D+2*u,angle:le,minLod:Dt.minzoom,maxLod:Dt.maxzoom}))}}if(d>=2)return null;if(x&&B){let w,Rt,xt,Et;v?(w=-L+b,Rt=g+K,xt=L-I,Et=M-g):(w=g+b,Rt=I+K,xt=M-g,Et=L-I),x.push({xTile:i.x,yTile:i.y,dxPixels:w*D-u,dyPixels:Rt*D-u,hard:!n.optional,partIndex:1,width:xt*D+2*u,height:Et*D+2*u,angle:a,minLod:.5,maxLod:z.FM})}const nt=new Lt(p);return x&&x.length>0&&(nt.textColliders=x),nt}_legible(i){const e=(0,z.Or)(i);return e<65||e>=193}_placeGlyph(i,e,r,n,l,a,o,h,u){let d=a;const y=d<0?(0,z.DQ)(i.angle+z.RD,z.yF):i.angle;let R=0;r<0&&(d*=-1,r*=-1,R=z.RD),d>0&&++l;let x=new Y.E9(i.x,i.y),p=n[l],N=z.FM;if(n.length<=l)return N;for(;;){const B=p.x-x.x,g=p.y-x.y,M=Math.sqrt(B*B+g*g),I=Math.max(r/M,e),D=(0,z.DQ)(Math.atan2(g/M,B/M)+R,z.yF);if(u.push(new It(x,y,D,h,!1,I,N)),o&&u.push(new It(x,y,D,h,!0,I,N)),I<=e)return I;x=p.clone();do{if(n.length<=(l+=d)||l<0)return I;p=n[l]}while(x.isEqual(p));let v=p.x-x.x,Z=p.y-x.y;const b=Math.sqrt(v*v+Z*Z);v*=M/b,Z*=M/b,x.x-=v,x.y-=Z,N=I}}}var Nt=j(40485),Q=j(97244),ut=j(71088),$=j(16190);class it extends $.Z{constructor(){super(12)}add(i,e,r){const n=this.array;n.push(i),n.push(e),n.push(r)}}var U=j(14481);class t extends $.Z{constructor(i){super(i)}add(i,e,r,n,l,a,o,h,u,d,y,R){const x=this.array;let p=$.Z.i1616to32(i,e);x.push(p);const N=31;p=$.Z.i8888to32(Math.round(N*r),Math.round(N*n),Math.round(N*l),Math.round(N*a)),x.push(p),p=$.Z.i8888to32(Math.round(N*o),Math.round(N*h),Math.round(N*u),Math.round(N*d)),x.push(p),p=$.Z.i1616to32(y,0),x.push(p),R&&x.push(...R)}}class kt extends $.Z{constructor(i){super(i)}add(i,e,r){const n=this.array;n.push($.Z.i1616to32(i,e)),r&&n.push(...r)}}class wt extends $.Z{constructor(i){super(i)}add(i,e,r,n,l,a,o){const h=this.array,u=this.index;let d=$.Z.i1616to32(i,e);return h.push(d),d=$.Z.i8888to32(Math.round(15*r),Math.round(15*n),l,a),h.push(d),o&&h.push(...o),u}}class rt extends $.Z{constructor(i){super(i)}add(i,e,r,n,l,a,o,h,u,d,y,R){const x=this.array;let p=$.Z.i1616to32(i,e);x.push(p),p=$.Z.i1616to32(Math.round(8*r),Math.round(8*n)),x.push(p),p=$.Z.i8888to32(l/4,a/4,h,u),x.push(p),p=$.Z.i8888to32(0,(0,z.Or)(o),10*d,Math.min(10*y,255)),x.push(p),R&&x.push(...R)}}class ct extends $.Z{constructor(i){super(i)}add(i,e,r,n,l){const a=this.array,o=$.Z.i1616to32(2*i+r,2*e+n);a.push(o),l&&a.push(...l)}}class lt{constructor(i,e,r){this.layerExtent=4096,this._features=[],this.layer=i,this.zoom=e,this._spriteInfo=r,this._filter=i.getFeatureFilter()}pushFeature(i){this._filter&&!this._filter.filter(i,this.zoom)||this._features.push(i)}hasFeatures(){return this._features.length>0}getResources(i,e,r){}}class zt extends lt{constructor(i,e,r,n,l){super(i,e,r),this.type=st.al.CIRCLE,this._circleVertexBuffer=n,this._circleIndexBuffer=l}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(i){const e=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;const n=this.layer,l=this.zoom;i&&i.setExtent(this.layerExtent);for(const a of this._features){const o=a.getGeometry(i);if(!o)continue;const h=n.circleMaterial.encodeAttributes(a,l,n);for(const u of o)if(u)for(const d of u){const y=e.index;e.add(d.x,d.y,0,0,h),e.add(d.x,d.y,0,1,h),e.add(d.x,d.y,1,0,h),e.add(d.x,d.y,1,1,h),r.add(y,y+1,y+2),r.add(y+1,y+2,y+3),this._circleIndexCount+=6}}}serialize(){let i=6;i+=this.layerUIDs.length,i+=this._circleVertexBuffer.array.length,i+=this._circleIndexBuffer.array.length;const e=new Uint32Array(i),r=new Int32Array(e.buffer);let n=0;e[n++]=this.type,e[n++]=this.layerUIDs.length;for(let l=0;l<this.layerUIDs.length;l++)e[n++]=this.layerUIDs[l];e[n++]=this._circleIndexStart,e[n++]=this._circleIndexCount,e[n++]=this._circleVertexBuffer.array.length;for(let l=0;l<this._circleVertexBuffer.array.length;l++)r[n++]=this._circleVertexBuffer.array[l];e[n++]=this._circleIndexBuffer.array.length;for(let l=0;l<this._circleIndexBuffer.array.length;l++)e[n++]=this._circleIndexBuffer.array[l];return e.buffer}}var c=j(11667),E=j(4460);class _ extends lt{constructor(i,e,r,n,l,a,o){super(i,e,r),this.type=st.al.FILL,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=l,this._outlineVertexBuffer=a,this._outlineIndexBuffer=o}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(i,e,r){const l=this.zoom,a=this.layer.getPaintProperty("fill-pattern");if(a)if(a.isDataDriven)for(const o of this._features)e(a.getValue(l,o),!0);else e(a.getValue(l),!0)}processFeatures(i){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const e=this.layer,r=this.zoom,{fillMaterial:n,outlineMaterial:l,hasDataDrivenFill:a,hasDataDrivenOutline:o}=e;i&&i.setExtent(this.layerExtent);const h=e.getPaintProperty("fill-pattern"),u=h?.isDataDriven;let d=!h&&e.getPaintValue("fill-antialias",r);if(e.outlineUsesFillColor){if(d&&!e.hasDataDrivenOpacity){const x=e.getPaintValue("fill-opacity",r),p=e.getPaintValue("fill-opacity",r+1);x<1&&p<1&&(d=!1)}if(d&&!e.hasDataDrivenColor){const x=e.getPaintValue("fill-color",r),p=e.getPaintValue("fill-color",r+1);x[3]<1&&p[3]<1&&(d=!1)}}const y=this._features,R=i?.validateTessellation;if(u){const x=[];for(const p of y){const N=h.getValue(r,p),B=this._spriteInfo[N];if(!B?.rect)continue;const g=n.encodeAttributes(p,r,e,B),M=d&&o?l.encodeAttributes(p,r,e):[],I=p.getGeometry(i);x.push({ddFillAttributes:g,ddOutlineAttributes:M,page:B.page,geometry:I}),x.sort((L,V)=>L.page-V.page);for(const{ddFillAttributes:L,ddOutlineAttributes:V,page:D,geometry:v}of x)this._processFeature(v,d,e.outlineUsesFillColor,L,V,R,D)}}else for(const x of y){const p=a?n.encodeAttributes(x,r,e):null,N=d&&o?l.encodeAttributes(x,r,e):null,B=x.getGeometry(i);this._processFeature(B,d,e.outlineUsesFillColor,p,N,R)}}serialize(){let i=10;i+=this.layerUIDs.length,i+=this._fillVertexBuffer.array.length,i+=this._fillIndexBuffer.array.length,i+=this._outlineVertexBuffer.array.length,i+=this._outlineIndexBuffer.array.length,i+=3*this._patternMap.size+1;const e=new Uint32Array(i),r=new Int32Array(e.buffer);let n=0;e[n++]=this.type,e[n++]=this.layerUIDs.length;for(let o=0;o<this.layerUIDs.length;o++)e[n++]=this.layerUIDs[o];e[n++]=this._fillIndexStart,e[n++]=this._fillIndexCount,e[n++]=this._outlineIndexStart,e[n++]=this._outlineIndexCount;const l=this._patternMap,a=l.size;if(e[n++]=a,a>0)for(const[o,[h,u]]of l)e[n++]=o,e[n++]=h,e[n++]=u;e[n++]=this._fillVertexBuffer.array.length;for(let o=0;o<this._fillVertexBuffer.array.length;o++)r[n++]=this._fillVertexBuffer.array[o];e[n++]=this._fillIndexBuffer.array.length;for(let o=0;o<this._fillIndexBuffer.array.length;o++)e[n++]=this._fillIndexBuffer.array[o];e[n++]=this._outlineVertexBuffer.array.length;for(let o=0;o<this._outlineVertexBuffer.array.length;o++)r[n++]=this._outlineVertexBuffer.array[o];e[n++]=this._outlineIndexBuffer.array.length;for(let o=0;o<this._outlineIndexBuffer.array.length;o++)e[n++]=this._outlineIndexBuffer.array[o];return e.buffer}_processFeature(i,e,r,n,l,a,o){if(!i)return;const h=i.length;if(e&&(!r||!l||0===l.length))for(let R=0;R<h;R++)this._processOutline(i[R],l);let y;for(let R=0;R<h;R++){const x=_._area(i[R]);x>32?(void 0!==y&&this._processFill(i,y,n,a,o),y=[R]):x<-32&&void 0!==y&&y.push(R)}void 0!==y&&this._processFill(i,y,n,a,o)}_processOutline(i,e){const r=this._outlineVertexBuffer,n=this._outlineIndexBuffer,l=n.index;let a,o,h;const u=new Y.E9(0,0),d=new Y.E9(0,0),y=new Y.E9(0,0);let R=-1,x=-1,p=-1,N=-1,B=-1,g=!1,I=i.length;if(I<2)return;const L=i[0];let V=i[I-1];for(;I&&V.isEqual(L);)--I,V=i[I-1];if(!(I-0<2)){for(let D=0;D<I;++D){0===D?(a=i[I-1],o=i[0],h=i[1],u.assignSub(o,a),u.normalize(),u.rightPerpendicular()):(a=o,o=h,h=D!==I-1?i[D+1]:i[0],u.assign(d));const v=this._isClipEdge(a,o);-1===N&&(g=v),d.assignSub(h,o),d.normalize(),d.rightPerpendicular();const Z=u.x*d.y-u.y*d.x;y.assignAdd(u,d),y.normalize();const b=-y.x*-u.x+-y.y*-u.y;let K=Math.abs(0!==b?1/b:1);K>8&&(K=8),Z>=0?(p=r.add(o.x,o.y,u.x,u.y,0,1,e),-1===N&&(N=p),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),x=r.add(o.x,o.y,K*-y.x,K*-y.y,0,-1,e),-1===B&&(B=x),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),R=x,x=p,p=r.add(o.x,o.y,y.x,y.y,0,1,e),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),x=r.add(o.x,o.y,d.x,d.y,0,1,e),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p)):(p=r.add(o.x,o.y,K*y.x,K*y.y,0,1,e),-1===N&&(N=p),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),x=r.add(o.x,o.y,-u.x,-u.y,0,-1,e),-1===B&&(B=x),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),R=x,x=p,p=r.add(o.x,o.y,-y.x,-y.y,0,-1,e),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p),R=r.add(o.x,o.y,-d.x,-d.y,0,-1,e),R>=0&&x>=0&&p>=0&&!v&&n.add(R,x,p))}R>=0&&x>=0&&N>=0&&!g&&n.add(R,x,N),R>=0&&N>=0&&B>=0&&!g&&n.add(R,B,N),this._outlineIndexCount+=3*(n.index-l)}}_processFill(i,e,r,n,l){let a;e.length>1&&(a=[]);let o=0;for(const y of e)0!==o&&a.push(o),o+=i[y].length;const h=2*o,u=c.Z.acquire();for(const y of e){const R=i[y],x=R.length;for(let p=0;p<x;++p)u.push(R[p].x,R[p].y)}const d=(0,E.e)(u,a,2);if(E.e.deviation(u,a,2,d)>0){const y=e.map(p=>i[p].length),{buffer:R,vertexCount:x}=(0,Q.b)(u,y);if(x>0){const p=this._fillVertexBuffer.index;for(let N=0;N<x;N++)this._fillVertexBuffer.add(R[2*N],R[2*N+1],r);for(let N=0;N<x;N+=3){const B=p+N;this._fillIndexBuffer.add(B,B+1,B+2)}if(void 0!==l){const N=this._patternMap,B=N.get(l);B?B[1]+=x:N.set(l,[this._fillIndexStart+this._fillIndexCount,x])}this._fillIndexCount+=x}}else{const y=d.length;if(y>0){const R=this._fillVertexBuffer.index;let x=0;for(;x<h;)this._fillVertexBuffer.add(u[x++],u[x++],r);let p=0;for(;p<y;)this._fillIndexBuffer.add(R+d[p++],R+d[p++],R+d[p++]);if(void 0!==l){const N=this._patternMap,B=N.get(l);B?B[1]+=y:N.set(l,[this._fillIndexStart+this._fillIndexCount,y])}this._fillIndexCount+=y}}c.Z.release(u)}_isClipEdge(i,e){return i.x===e.x?i.x<=-64||i.x>=4160:i.y===e.y&&(i.y<=-64||i.y>=4160)}static _area(i){let e=0;const r=i.length-1;for(let n=0;n<r;n++)e+=(i[n].x-i[n+1].x)*(i[n].y+i[n+1].y);return e+=(i[r].x-i[0].x)*(i[r].y+i[0].y),.5*e}}var T=j(28179);class m extends lt{constructor(i,e,r,n,l){super(i,e,r),this.type=st.al.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=n,this.tessellationProperties._lineIndexBuffer=l,this._lineTessellator=new T.z(O(this.tessellationProperties),k(this.tessellationProperties),i.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(i,e,r){const n=this.layer,l=this.zoom,a=n.getPaintProperty("line-pattern"),o=n.getPaintProperty("line-dasharray"),h=n.getLayoutProperty("line-cap");if(!a&&!o)return;const u=h?.getValue(l)||0,d=h?.isDataDriven,y=a?.isDataDriven,R=o?.isDataDriven;if(y||R)for(const x of this._features)e(y?a.getValue(l,x):this._getDashArrayKey(x,l,n,o,d,h,u));else if(a)e(a.getValue(l));else if(o){const x=o.getValue(l);e(n.getDashKey(x,u))}}processFeatures(i){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const e=this.layer,r=this.zoom,n=this._features,l=this._tessellationOptions,{hasDataDrivenLine:a,lineMaterial:o}=e;i&&i.setExtent(this.layerExtent);const h=e.getPaintProperty("line-pattern"),u=e.getPaintProperty("line-dasharray"),d=h?.isDataDriven,y=u?.isDataDriven;let R;R=e.getLayoutProperty("line-cap");const x=R?.isDataDriven?R:null,p=x?null:e.getLayoutValue("line-cap",r),N=p||0,B=!!x;R=e.getLayoutProperty("line-join");const g=R?.isDataDriven?R:null,M=g?null:e.getLayoutValue("line-join",r);R=e.getLayoutProperty("line-miter-limit");const I=R?.isDataDriven?R:null,L=I?null:e.getLayoutValue("line-miter-limit",r);R=e.getLayoutProperty("line-round-limit");const V=R?.isDataDriven?R:null,D=V?null:e.getLayoutValue("line-round-limit",r);R=e.getPaintProperty("line-width");const v=R?.isDataDriven?R:null,Z=v?null:e.getPaintValue("line-width",r);R=e.getPaintProperty("line-offset");const b=R?.isDataDriven?R:null,K=b?null:e.getPaintValue("line-offset",r);if(d||y){const nt=[];for(const w of n){const Rt=d?h.getValue(r,w):this._getDashArrayKey(w,r,e,u,B,x,N),xt=this._spriteInfo[Rt];if(!xt?.rect)continue;const Et=o.encodeAttributes(w,r,e,xt),Ft=w.getGeometry(i);nt.push({ddAttributes:Et,page:xt.page,cap:x?x.getValue(r,w):p,join:g?g.getValue(r,w):M,miterLimit:I?I.getValue(r,w):L,roundLimit:V?V.getValue(r,w):D,halfWidth:.5*(v?v.getValue(r,w):Z),offset:b?b.getValue(r,w):K,geometry:Ft})}nt.sort((w,Rt)=>w.page-Rt.page),l.textured=!0;for(const{ddAttributes:w,page:Rt,cap:xt,join:Et,miterLimit:Ft,roundLimit:qt,halfWidth:Yt,offset:jt,geometry:te}of nt)l.capType=xt,l.joinType=Et,l.miterLimit=Ft,l.roundLimit=qt,l.halfWidth=Yt,l.offset=jt,this._processFeature(te,w,Rt)}else{if(h){const nt=h.getValue(r);if(!this._spriteInfo[nt]?.rect)return}l.textured=!(!h&&!u),l.capType=p,l.joinType=M,l.miterLimit=L,l.roundLimit=D,l.halfWidth=.5*Z,l.offset=K;for(const nt of n){const w=a?o.encodeAttributes(nt,r,e):null;x&&(l.capType=x.getValue(r,nt)),g&&(l.joinType=g.getValue(r,nt)),I&&(l.miterLimit=I.getValue(r,nt)),V&&(l.roundLimit=V.getValue(r,nt)),v&&(l.halfWidth=.5*v.getValue(r,nt)),b&&(l.offset=b.getValue(r,nt));const Rt=nt.getGeometry(i);this._processFeature(Rt,w)}}}serialize(){let i=6;i+=this.layerUIDs.length,i+=this.tessellationProperties._lineVertexBuffer.array.length,i+=this.tessellationProperties._lineIndexBuffer.array.length,i+=3*this._patternMap.size+1;const e=new Uint32Array(i),r=new Int32Array(e.buffer);let n=0;e[n++]=this.type,e[n++]=this.layerUIDs.length;for(let o=0;o<this.layerUIDs.length;o++)e[n++]=this.layerUIDs[o];e[n++]=this._lineIndexStart,e[n++]=this._lineIndexCount;const l=this._patternMap,a=l.size;if(e[n++]=a,a>0)for(const[o,[h,u]]of l)e[n++]=o,e[n++]=h,e[n++]=u;e[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let o=0;o<this.tessellationProperties._lineVertexBuffer.array.length;o++)r[n++]=this.tessellationProperties._lineVertexBuffer.array[o];e[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let o=0;o<this.tessellationProperties._lineIndexBuffer.array.length;o++)e[n++]=this.tessellationProperties._lineIndexBuffer.array[o];return e.buffer}_processFeature(i,e,r){if(!i)return;const n=i.length;for(let l=0;l<n;l++)this._processGeometry(i[l],e,r)}_processGeometry(i,e,r){if(i.length<2)return;let l,a,o=i[0],h=1;for(;h<i.length;)l=i[h].x-o.x,a=i[h].y-o.y,l*l+a*a<1e-6?i.splice(h,1):(o=i[h],++h);if(i.length<2)return;const u=this.tessellationProperties._lineIndexBuffer,d=3*u.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=e,this._lineTessellator.tessellate(i,this._tessellationOptions);const y=3*u.index-d;if(void 0!==r){const R=this._patternMap,x=R.get(r);x?x[1]+=y:R.set(r,[d+this._lineIndexCount,y])}this._lineIndexCount+=y}_getDashArrayKey(i,e,r,n,l,a,o){const h=l?a.getValue(e,i):o,u=n.getValue(e,i);return r.getDashKey(u,h)}}const O=f=>(i,e,r,n,l,a,o,h,u,d,y)=>(f._lineVertexBuffer.add(i,e,o,h,r,n,l,a,u,d,y,f._ddValues),f._lineVertexBuffer.index-1),k=f=>(i,e,r)=>{f._lineIndexBuffer.add(i,e,r)};var mt,f,X=j(56715),dt=j(51172),Tt=j(72578),At=j(1884);function J(f,i){return f.iconMosaicItem&&i.iconMosaicItem?f.iconMosaicItem.page===i.iconMosaicItem.page?0:f.iconMosaicItem.page-i.iconMosaicItem.page:f.iconMosaicItem&&!i.iconMosaicItem?1:!f.iconMosaicItem&&i.iconMosaicItem?-1:0}class W extends lt{constructor(i,e,r,n,l,a,o,h,u){super(e,r,u.getSpriteItems()),this.type=st.al.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._sourceTileKey=i,this._iconVertexBuffer=n,this._iconIndexBuffer=l,this._textVertexBuffer=a,this._textIndexBuffer=o,this._placementEngine=h,this._workerTileHandler=u}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(i,e,r){const n=this.layer,l=this.zoom;i&&i.setExtent(this.layerExtent);const a=n.getLayoutProperty("icon-image"),o=n.getLayoutProperty("text-field");let h=n.getLayoutProperty("text-transform"),u=n.getLayoutProperty("text-font");const d=[];let y,R,x,p;a&&!a.isDataDriven&&(y=a.getValue(l)),o&&!o.isDataDriven&&(R=o.getValue(l)),h&&h.isDataDriven||(x=n.getLayoutValue("text-transform",l),h=null),u&&u.isDataDriven||(p=n.getLayoutValue("text-font",l),u=null);for(const N of this._features){const B=N.getGeometry(i);if(!B||0===B.length)continue;let g,M;a&&(g=a.isDataDriven?a.getValue(l,N):this._replaceKeys(y,N.values),g&&e(g));let I=!1;if(o&&(M=o.isDataDriven?o.getValue(l,N):this._replaceKeys(R,N.values),M)){switch(M=M.replaceAll("\\n","\n"),h&&(x=h.getValue(l,N)),x){case S._5.LOWERCASE:M=M.toLowerCase();break;case S._5.UPPERCASE:M=M.toUpperCase()}if(W._bidiEngine.hasBidiChar(M)){let D;D="rtl"===W._bidiEngine.checkContextual(M)?"IDNNN":"ICNNN",M=W._bidiEngine.bidiTransform(M,D,"VLYSN"),I=!0}if(M.length>0){u&&(p=u.getValue(l,N));for(const D of p){let v=r[D];v||(v=r[D]=new Set);for(const Z of M){const b=Z.codePointAt(0);null!=b&&v.add(b)}}}}if(!g&&!M)continue;const L=n.getLayoutValue("symbol-sort-key",l,N),V={feature:N,sprite:g,label:M,rtl:I,geometry:B,hash:(M?(0,Tt.hP)(M):0)^(g?(0,Tt.hP)(g):0),priority:L,textFont:p};d.push(V)}this._symbolFeatures=d}processFeatures(i){i&&i.setExtent(this.layerExtent);const e=this.layer,r=this.zoom,n=e.getLayoutValue("symbol-placement",r),l=n!==S.R.POINT,a=8*e.getLayoutValue("symbol-spacing",r),o=e.getLayoutProperty("icon-image"),h=e.getLayoutProperty("text-field"),u=o?new At._L(e,r,l):null,d=h?new At.nj(e,r,l):null,y=this._workerTileHandler;let R;o&&(R=y.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const x=[];let p=1;d?.size&&(p=d.size/F);const N=d?d.maxAngle*z.nF:0,B=d?8*d.size:0;for(const g of this._symbolFeatures){let M,I;u&&R&&g.sprite&&(M=R[g.sprite],M&&M.sdf&&(this._isIconSDF=!0)),M&&u.update(r,g.feature);let L=0;const V=g.label;if(V){(0,dt.O3)(d),d.update(r,g.feature);const D=l&&d.rotationAlignment===S.aF.MAP?d.keepUpright:d.writingMode&&d.writingMode.includes(S.r1.VERTICAL);let v=.5;switch(d.anchor){case S.nR.TOP_LEFT:case S.nR.LEFT:case S.nR.BOTTOM_LEFT:v=0;break;case S.nR.TOP_RIGHT:case S.nR.RIGHT:case S.nR.BOTTOM_RIGHT:v=1}let Z=.5;switch(d.anchor){case S.nR.TOP_LEFT:case S.nR.TOP:case S.nR.TOP_RIGHT:Z=0;break;case S.nR.BOTTOM_LEFT:case S.nR.BOTTOM:case S.nR.BOTTOM_RIGHT:Z=1}let b=.5;switch(d.justify){case S.vL.AUTO:b=v;break;case S.vL.LEFT:b=0;break;case S.vL.RIGHT:b=1}const K=d.letterSpacing*F,nt=l?0:d.maxWidth*F,w=d.lineHeight*F,Rt=g.textFont.map(xt=>y.getGlyphItems(xt));if(I=new q(Rt,nt,w,K,v,Z,b).getShaping(V,g.rtl,D),I&&I.length>0){let xt=1e30,Et=-1e30;for(const Ft of I)xt=Math.min(xt,Ft.x),Et=Math.max(Et,Ft.x);L=(Et-xt+48)*p*8}}for(let D of g.geometry){const v=[];if(n===S.R.LINE){if(I?.length&&d?.size){const Z=8*d.size*(2+Math.min(2,4*Math.abs(d.offset[1])));D=W._smoothVertices(D,Z)}W._pushAnchors(v,D,a,L)}else n===S.R.LINE_CENTER?W._pushCenterAnchor(v,D):g.feature.type===Y.Vl.Polygon?W._pushCentroid(v,D):v.push(new vt(D[0].x,D[0].y));for(const Z of v){if(Z.x<0||Z.x>4096||Z.y<0||Z.y>4096||l&&L>0&&d?.rotationAlignment===S.aF.MAP&&!W._honorsTextMaxAngle(D,Z,L,N,B))continue;const b={shaping:I,line:D,iconMosaicItem:M,anchor:Z,symbolFeature:g,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};x.push(b),this._processFeature(b,u,d)}}}x.sort(J),this._addPlacedGlyphs(),this._symbolInstances=x}serialize(){let i=14;i+=this.layerUIDs.length,i+=3*this.markerPageMap.size,i+=3*this.glyphsPageMap.size,i+=W._symbolsSerializationLength(this._symbolInstances),i+=this._iconVertexBuffer.array.length,i+=this._iconIndexBuffer.array.length,i+=this._textVertexBuffer.array.length,i+=this._textIndexBuffer.array.length;const e=new Uint32Array(i),r=new Int32Array(e.buffer),n=new Float32Array(e.buffer),[l,a,o]=this._sourceTileKey.split("/");let h=0;e[h++]=this.type,e[h++]=this.layerUIDs.length;for(let u=0;u<this.layerUIDs.length;u++)e[h++]=this.layerUIDs[u];e[h++]=this._isIconSDF?1:0,e[h++]=parseFloat(l),e[h++]=parseFloat(a),e[h++]=parseFloat(o),e[h++]=this.markerPageMap.size;for(const[u,[d,y]]of this.markerPageMap)e[h++]=u,e[h++]=d,e[h++]=y;e[h++]=this.glyphsPageMap.size;for(const[u,[d,y]]of this.glyphsPageMap)e[h++]=u,e[h++]=d,e[h++]=y;e[h++]=this._iconVertexBuffer.index/4,e[h++]=this._textVertexBuffer.index/4,h=W.serializeSymbols(e,r,n,h,this._symbolInstances),e[h++]=this._iconVertexBuffer.array.length;for(let u=0;u<this._iconVertexBuffer.array.length;u++)r[h++]=this._iconVertexBuffer.array[u];e[h++]=this._iconIndexBuffer.array.length;for(let u=0;u<this._iconIndexBuffer.array.length;u++)e[h++]=this._iconIndexBuffer.array[u];e[h++]=this._textVertexBuffer.array.length;for(let u=0;u<this._textVertexBuffer.array.length;u++)r[h++]=this._textVertexBuffer.array[u];e[h++]=this._textIndexBuffer.array.length;for(let u=0;u<this._textIndexBuffer.array.length;u++)e[h++]=this._textIndexBuffer.array[u];return e.buffer}static _symbolsSerializationLength(i){let e=0;e+=1;for(const r of i||[]){e+=5,e+=1;for(const n of r.textColliders)e+=10;for(const n of r.iconColliders)e+=10;e+=1,e+=2*r.textVertexRanges.length,e+=1,e+=2*r.iconVertexRanges.length}return e}static serializeSymbols(i,e,r,n,l){e[n++]=(l=l||[]).length;for(const a of l){e[n++]=a.anchor.x,e[n++]=a.anchor.y,e[n++]=a.symbolFeature.hash,e[n++]=a.symbolFeature.priority,e[n++]=a.symbolFeature.feature.featureIndex,e[n++]=a.textColliders.length+a.iconColliders.length;for(const o of a.textColliders)e[n++]=o.xTile,e[n++]=o.yTile,e[n++]=o.dxPixels,e[n++]=o.dyPixels,e[n++]=o.hard?1:0,e[n++]=o.partIndex,r[n++]=o.minLod,r[n++]=o.maxLod,e[n++]=o.width,e[n++]=o.height;for(const o of a.iconColliders)e[n++]=o.xTile,e[n++]=o.yTile,e[n++]=o.dxPixels,e[n++]=o.dyPixels,e[n++]=o.hard?1:0,e[n++]=o.partIndex,r[n++]=o.minLod,r[n++]=o.maxLod,e[n++]=o.width,e[n++]=o.height;e[n++]=a.textVertexRanges.length;for(const[o,h]of a.textVertexRanges)e[n++]=o,e[n++]=h;e[n++]=a.iconVertexRanges.length;for(const[o,h]of a.iconVertexRanges)e[n++]=o,e[n++]=h}return n}_replaceKeys(i,e){return i.replaceAll(/{([^{}]+)}/g,(r,n)=>n in e?e[n]:"")}_processFeature(i,e,r){const{line:n,iconMosaicItem:l,shaping:a,anchor:o}=i,h=this.zoom,u=this.layer,d=!!l;let y=!0;d&&(y=e?.optional||!l);const R=a&&a.length>0,x=!R||r?.optional;let p,N;if(d&&(p=this._placementEngine.getIconPlacement(o,l,e)),(p||y)&&(R&&(N=this._placementEngine.getTextPlacement(o,a,n,r)),N||x)){if(p&&N||(x||y?x||N?y||p||(N=null):p=null:(p=null,N=null)),N){const B=u.hasDataDrivenText?u.textMaterial.encodeAttributes(i.symbolFeature.feature,h,u):null;if(this._storePlacedGlyphs(i,N.shapes,h,r.rotationAlignment,B),N.textColliders){i.textColliders=N.textColliders;for(const g of N.textColliders){g.minLod=Math.max(h+(0,z.k3)(g.minLod),0),g.maxLod=Math.min(h+(0,z.k3)(g.maxLod),25);const M=g.angle;if(M){const I=Math.cos(M),L=Math.sin(M),V=g.dxPixels*I-g.dyPixels*L,D=g.dxPixels*L+g.dyPixels*I,v=(g.dxPixels+g.width)*I-g.dyPixels*L,Z=(g.dxPixels+g.width)*L+g.dyPixels*I,b=g.dxPixels*I-(g.dyPixels+g.height)*L,K=g.dxPixels*L+(g.dyPixels+g.height)*I,nt=(g.dxPixels+g.width)*I-(g.dyPixels+g.height)*L,w=(g.dxPixels+g.width)*L+(g.dyPixels+g.height)*I,Rt=Math.min(V,v,b,nt),xt=Math.max(V,v,b,nt),Et=Math.min(D,Z,K,w),Ft=Math.max(D,Z,K,w);g.dxPixels=Rt,g.dyPixels=Et,g.width=xt-Rt,g.height=Ft-Et}}}}if(p){const B=u.hasDataDrivenIcon?u.iconMaterial.encodeAttributes(i.symbolFeature.feature,h,u):null;if(this._addPlacedIcons(i,p.shapes,h,l.page,e.rotationAlignment===S.aF.VIEWPORT,B),p.iconColliders){i.iconColliders=p.iconColliders;for(const g of p.iconColliders){g.minLod=Math.max(h+(0,z.k3)(g.minLod),0),g.maxLod=Math.min(h+(0,z.k3)(g.maxLod),25);const M=g.angle;if(M){const I=Math.cos(M),L=Math.sin(M),V=g.dxPixels*I-g.dyPixels*L,D=g.dxPixels*L+g.dyPixels*I,v=(g.dxPixels+g.width)*I-g.dyPixels*L,Z=(g.dxPixels+g.width)*L+g.dyPixels*I,b=g.dxPixels*I-(g.dyPixels+g.height)*L,K=g.dxPixels*L+(g.dyPixels+g.height)*I,nt=(g.dxPixels+g.width)*I-(g.dyPixels+g.height)*L,w=(g.dxPixels+g.width)*L+(g.dyPixels+g.height)*I,Rt=Math.min(V,v,b,nt),xt=Math.max(V,v,b,nt),Et=Math.min(D,Z,K,w),Ft=Math.max(D,Z,K,w);g.dxPixels=Rt,g.dyPixels=Et,g.width=xt-Rt,g.height=Ft-Et}}}}}}_addPlacedIcons(i,e,r,n,l,a){const o=Math.max(r-1,0),h=this._iconVertexBuffer,u=this._iconIndexBuffer,d=this._markerMap;for(const y of e){const R=l?0:Math.max(r+(0,z.k3)(y.minzoom),o),x=l?25:Math.min(r+(0,z.k3)(y.maxzoom),25);if(x<=R)continue;const p=y.tl,N=y.tr,B=y.bl,g=y.br,M=y.mosaicRect,I=y.labelAngle,L=y.minAngle,V=y.maxAngle,D=y.anchor,v=h.index,Z=M.x,b=M.y,K=Z+M.width,nt=b+M.height,w=h.index;h.add(D.x,D.y,p.x,p.y,Z,b,I,L,V,R,x,a),h.add(D.x,D.y,N.x,N.y,K,b,I,L,V,R,x,a),h.add(D.x,D.y,B.x,B.y,Z,nt,I,L,V,R,x,a),h.add(D.x,D.y,g.x,g.y,K,nt,I,L,V,R,x,a),i.iconVertexRanges.length>0&&i.iconVertexRanges[0][0]+i.iconVertexRanges[0][1]===w?i.iconVertexRanges[0][1]+=4:i.iconVertexRanges.push([w,4]),u.add(v,v+1,v+2),u.add(v+1,v+2,v+3),d.has(n)?d.get(n)[1]+=6:d.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const i=this._textVertexBuffer,e=this._textIndexBuffer,r=this._glyphMap;for(const[n,l]of this._glyphBufferDataStorage)for(const a of l){const o=i.index,h=a.symbolInstance,u=a.ddAttributes,d=i.index;i.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tl[0],a.tl[1],a.xmin,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),i.add(a.glyphAnchor[0],a.glyphAnchor[1],a.tr[0],a.tr[1],a.xmax,a.ymin,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),i.add(a.glyphAnchor[0],a.glyphAnchor[1],a.bl[0],a.bl[1],a.xmin,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),i.add(a.glyphAnchor[0],a.glyphAnchor[1],a.br[0],a.br[1],a.xmax,a.ymax,a.labelAngle,a.minAngle,a.maxAngle,a.minLod,a.maxLod,u),h.textVertexRanges.length>0&&h.textVertexRanges[0][0]+h.textVertexRanges[0][1]===d?h.textVertexRanges[0][1]+=4:h.textVertexRanges.push([d,4]),e.add(o,o+1,o+2),e.add(o+1,o+2,o+3),r.has(n)?r.get(n)[1]+=6:r.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(i,e,r,n,l){const a=Math.max(r-1,0),o=n===S.aF.VIEWPORT;let h,u,d,y,R,x,p,N,B,g,M;for(const I of e)h=o?0:Math.max(r+(0,z.k3)(I.minzoom),a),u=o?25:Math.min(r+(0,z.k3)(I.maxzoom),25),!(u<=h)&&(d=I.tl,y=I.tr,R=I.bl,x=I.br,p=I.labelAngle,N=I.minAngle,B=I.maxAngle,g=I.anchor,M=I.mosaicRect,this._glyphBufferDataStorage.has(I.page)||this._glyphBufferDataStorage.set(I.page,[]),this._glyphBufferDataStorage.get(I.page).push({glyphAnchor:[g.x,g.y],tl:[d.x,d.y],tr:[y.x,y.y],bl:[R.x,R.y],br:[x.x,x.y],xmin:M.x,ymin:M.y,xmax:M.x+M.width,ymax:M.y+M.height,labelAngle:p,minAngle:N,maxAngle:B,minLod:h,maxLod:u,placementLod:a,symbolInstance:i,ddAttributes:l}))}static _pushAnchors(i,e,r,n){r+=n;let l=0;const a=e.length-1;for(let R=0;R<a;R++)l+=Y.E9.distance(e[R],e[R+1]);let o=n||r;if(o*=.5,l<=o)return;const h=o/l;let u=0,d=-(r=l/Math.max(Math.round(l/r),1))/2;const y=e.length-1;for(let R=0;R<y;R++){const x=e[R],p=e[R+1],N=p.x-x.x,B=p.y-x.y,g=Math.sqrt(N*N+B*B);let M;for(;d+r<u+g;){d+=r;const I=(d-u)/g,L=(0,z.sX)(x.x,p.x,I),V=(0,z.sX)(x.y,p.y,I);void 0===M&&(M=Math.atan2(B,N)),i.push(new vt(L,V,M,R,h))}u+=g}}static _pushCenterAnchor(i,e){let r=0;const n=e.length-1;for(let h=0;h<n;h++)r+=Y.E9.distance(e[h],e[h+1]);const l=r/2;let a=0;const o=e.length-1;for(let h=0;h<o;h++){const u=e[h],d=e[h+1],y=d.x-u.x,R=d.y-u.y,x=Math.sqrt(y*y+R*R);if(l<a+x){const p=(l-a)/x,N=(0,z.sX)(u.x,d.x,p),B=(0,z.sX)(u.y,d.y,p),g=Math.atan2(R,y);return void i.push(new vt(N,B,g,h,0))}a+=x}}static _deviation(i,e,r){return Math.atan2((e.x-i.x)*(r.y-e.y)-(e.y-i.y)*(r.x-e.x),(e.x-i.x)*(r.x-e.x)+(e.y-i.y)*(r.y-e.y))}static _honorsTextMaxAngle(i,e,r,n,l){let a=0;const o=r/2;let h=new Y.E9(e.x,e.y),u=e.segment+1;for(;a>-o;){if(--u,u<0)return!1;a-=Y.E9.distance(i[u],h),h=i[u]}a+=Y.E9.distance(i[u],i[u+1]);const d=[];let y=0;const R=i.length;for(;a<o;){const x=i[u];let p,N=u;do{if(++N,N===R)return!1;p=i[N]}while(p.isEqual(x));let B,g=N;do{if(++g,g===R)return!1;B=i[g]}while(B.isEqual(p));const M=this._deviation(x,p,B);for(d.push({deviation:M,distToAnchor:a}),y+=M;a-d[0].distToAnchor>l;)y-=d.shift().deviation;if(Math.abs(y)>n)return!1;a+=Y.E9.distance(p,B),u=N}return!0}static _smoothVertices(i,e){if(e<=0)return i;let r=i.length;if(r<3)return i;const n=[];let l=0,a=0;n.push(0);for(let N=1;N<r;N++){const B=Y.E9.distance(i[N],i[N-1]);B>0&&(l+=B,n.push(l),a++,a!==N&&(i[a]=i[N]))}if(r=a+1,r<3)return i;e=Math.min(e,.2*l);const o=i[0].x,h=i[0].y,u=i[r-1].x,d=i[r-1].y,y=Y.E9.sub(i[0],i[1]);y.normalize(),i[0].x+=e*y.x,i[0].y+=e*y.y,y.assignSub(i[r-1],i[r-2]),y.normalize(),i[r-1].x+=e*y.x,i[r-1].y+=e*y.y,n[0]-=e,n[r-1]+=e;const R=[];R.push(new Y.E9(o,h));const x=1e-6,p=.5*e;for(let N=1;N<r-1;N++){let B=0,g=0,M=0;for(let I=N-1;I>=0;I--){const L=p+n[I+1]-n[N];if(L<0)break;const V=n[I+1]-n[I],D=n[N]-n[I]<p?1:L/V;if(D<x)break;const v=D*D,Z=D*L-.5*v*V,b=D*V/e,K=i[I+1],nt=i[I].x-K.x,w=i[I].y-K.y;B+=b/Z*(K.x*D*L+.5*v*(L*nt-V*K.x)-v*D*V*nt/3),g+=b/Z*(K.y*D*L+.5*v*(L*w-V*K.y)-v*D*V*w/3),M+=b}for(let I=N+1;I<r;I++){const L=p-n[I-1]+n[N];if(L<0)break;const V=n[I]-n[I-1],D=n[I]-n[N]<p?1:L/V;if(D<x)break;const v=D*D,Z=D*L-.5*v*V,b=D*V/e,K=i[I-1],nt=i[I].x-K.x,w=i[I].y-K.y;B+=b/Z*(K.x*D*L+.5*v*(L*nt-V*K.x)-v*D*V*nt/3),g+=b/Z*(K.y*D*L+.5*v*(L*w-V*K.y)-v*D*V*w/3),M+=b}R.push(new Y.E9(B/M,g/M))}return R.push(new Y.E9(u,d)),i[0].x=o,i[0].y=h,i[r-1].x=u,i[r-1].y=d,R}static _pushCentroid(i,e){const o=e.length-1;let h=0,u=0,d=0,y=e[0].x,R=e[0].y;y>4096&&(y=4096),y<0&&(y=0),R>4096&&(R=4096),R<0&&(R=0);for(let x=1;x<o;x++){let p=e[x].x,N=e[x].y,B=e[x+1].x,g=e[x+1].y;p>4096&&(p=4096),p<0&&(p=0),N>4096&&(N=4096),N<0&&(N=0),B>4096&&(B=4096),B<0&&(B=0),g>4096&&(g=4096),g<0&&(g=0);const M=(p-y)*(g-R)-(B-y)*(N-R);h+=M*(y+p+B),u+=M*(R+N+g),d+=M}h/=3*d,u/=3*d,isNaN(h)||isNaN(u)||i.push(new vt(h,u))}}W._bidiEngine=new X.Z,(f=mt||(mt={}))[f.INITIALIZED=0]="INITIALIZED",f[f.NO_DATA=1]="NO_DATA",f[f.READY=2]="READY",f[f.MODIFIED=3]="MODIFIED",f[f.INVALID=4]="INVALID";class Ht{constructor(i,e,r,n,l,a){if(this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=e,this._sourceDataMaxLOD=n,a){this._styleLayerUIDs=new Set;for(const y of a)this._styleLayerUIDs.add(y)}this._styleRepository=l,this._layers=this._styleRepository?.layers??[];const[o,h,u]=e.tileKey.split("/").map(parseFloat);this._level=o;const d=(0,z.KU)(this._level);for(const y of Object.keys(i)){const R=i[y];if(this._pbfTiles[y]=new Nt.Z(new Uint8Array(R.protobuff),new DataView(R.protobuff)),R.refKey){const[x]=R.refKey.split("/").map(parseFloat),p=o-x;if(p>0){const N=(1<<p)-1;this._tileClippers[y]=new Y.bN(p,h&N,u&N,8,d)}}this._tileClippers[y]||(this._tileClippers[y]=new Y.I6)}}_canParseStyleLayer(i){return!this._styleLayerUIDs||this._styleLayerUIDs.has(i)}parse(i){var e=this;return(0,et.Z)(function*(){const r=(0,Q.j)(),n=e._initialize(i),{returnedBuckets:l}=n;e._processLayers(n),e._linkReferences(n),e._filterFeatures(n);const a=[],o=new Set,h=(y,R)=>{o.has(y)||(a.push({name:y,repeat:R}),o.add(y))},u={};for(const y of l)y.getResources(y.tileClipper,h,u);if(e._tile.status===mt.INVALID)return[];const d=e._fetchResources(a,u,i);return Promise.all([...d,r]).then(()=>e._processFeatures(n.returnedBuckets))})()}_initialize(i){return{signal:i?.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(i){const{sourceNameToTileData:e,zoom:r,layers:n,sourceNameToTileClipper:l,sourceNameToUniqueSourceLayerBuckets:a,sourceNameToUniqueSourceLayers:o,returnedBuckets:h,layerIdToBucket:u,referencerUIDToReferencedId:d}=i,y=this._sourceDataMaxLOD;for(let R=n.length-1;R>=0;R--){const x=n[R];if(r<y){if(x.minzoom&&r<Math.floor(x.minzoom)||x.maxzoom&&r>=x.maxzoom)continue}else if(x.maxzoom&&r>=x.maxzoom)continue;if(x.type===S.fR.BACKGROUND||!this._canParseStyleLayer(x.uid)||!e[x.source]||!l[x.source])continue;const N=l[x.source],B=x.sourceLayer,g=e[x.source][B];if(g){let M=o[x.source];if(M||(M=o[x.source]=new Set),M.add(x.sourceLayer),x.refLayerId)d.set(x.uid,x.refLayerId);else{const I=this._createBucket(x);if(I){I.layerUIDs=[x.uid],I.layerExtent=g.extent,I.tileClipper=N;let L=a[x.source];L||(L=a[x.source]={});let V=L[B];V||(V=L[B]=[]),V.push(I),h.push(I),u[x.id]=I}}}}}_linkReferences(i){const{layerIdToBucket:e,referencerUIDToReferencedId:r}=i;r.forEach((n,l)=>{e[n]&&e[n].layerUIDs.push(l)})}_filterFeatures(i){const{signal:e,sourceNameToTileData:r,sourceNameToUniqueSourceLayerBuckets:n,sourceNameToUniqueSourceLayers:l}=i,a=10*this._level,o=10*(this._level+1),h=[],u=[];for(const d of Object.keys(l))l[d].forEach(y=>{h.push(y),u.push(d)});for(let d=0;d<h.length;d++){const y=u[d],R=h[d];if(!r[y]||!n[y])continue;const x=r[y][R],p=n[y][R];if(!p||0===p.length)continue;if((0,Ot.Hc)(e))return;let N=0;const B=x.getData();for(;B.nextTag(2);){const g=B.getMessage(),M=new ut.Z(g,x,N++);g.release();const I=M.values;if(I){const L=I._minzoom;if(L&&L>=o)continue;const V=I._maxzoom;if(V&&V<=a)continue}for(const L of p)L.pushFeature(M)}}}_fetchResources(i,e,r){const n=[],l=this._tile.getWorkerTileHandler();let a,o;i.length>0&&(a=l.fetchSprites(i,this._client,r),n.push(a));for(const h in e){const u=e[h];u.size>0&&(o=l.fetchGlyphs(this._tile.tileKey,h,u,this._client,r),n.push(o))}return n}_processFeatures(i){const e=i.filter(r=>r.hasFeatures()||this._canParseStyleLayer(r.layer.uid));for(const r of e)r.processFeatures(r.tileClipper);return e}_parseTileData(i){const e={};for(const r of Object.keys(i)){const n=i[r],l={};for(;n.next();)switch(n.tag()){case 3:{const a=n.getMessage(),o=new U.Z(a);a.release(),l[o.name]=o;break}default:n.skip()}e[r]=l}return e}_createBucket(i){switch(i.type){case S.fR.BACKGROUND:return null;case S.fR.FILL:return this._createFillBucket(i);case S.fR.LINE:return this._createLineBucket(i);case S.fR.CIRCLE:return this._createCircleBucket(i);case S.fR.SYMBOL:return this._createSymbolBucket(i)}}_createFillBucket(i){return new _(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new kt(i.fillMaterial.getStride()),new it,new wt(i.outlineMaterial.getStride()),new it)}_createLineBucket(i){return new m(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new t(i.lineMaterial.getStride()),new it)}_createCircleBucket(i){return new zt(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new ct(i.circleMaterial.getStride()),new it)}_createSymbolBucket(i){const e=this._tile;return new W(e.tileKey,i,this._level,new rt(i.iconMaterial.getStride()),new it,new rt(i.textMaterial.getStride()),new it,e.placementEngine,e.getWorkerTileHandler())}}class ot{constructor(i,e,r,n){this.status=mt.INITIALIZED,this.placementEngine=new Ct,this.tileKey=i,this.refKeys=e,this._workerTileHandler=r,this._styleRepository=n}release(){this.tileKey="",this.refKeys=null,this.status=mt.INITIALIZED,this._workerTileHandler=null}parse(i,e){var r=this;return(0,et.Z)(function*(){const n=e?.signal;if(null!=n){const y=()=>{n.removeEventListener("abort",y),r.status=mt.INVALID};n.addEventListener("abort",y)}let l;const a={bucketsWithData:[],emptyBuckets:null};try{l=yield r._parse(i,e)}catch(y){if((0,Ot.D_)(y))throw y;return{result:a,transferList:[]}}r.status=mt.READY;const o=a.bucketsWithData,h=[];for(const y of l)if(y.hasFeatures()){const R=y.serialize();o.push(R)}else h.push(y.layer.uid);const u=[...o];let d=null;return h.length>0&&(d=Uint32Array.from(h),u.push(d.buffer)),a.emptyBuckets=d,{result:a,transferList:u}})()}setObsolete(){this.status=mt.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}_parse(i,e){var r=this;return(0,et.Z)(function*(){const n=i.sourceName2DataAndRefKey;return 0===Object.keys(n).length?[]:(r.status=mt.MODIFIED,new Ht(n,r,e.client,i.sourceDataMaxLOD,r._styleRepository,i.styleLayerUIDs).parse(e))})()}}var St=j(14433);class Zt{constructor(){this._spriteInfo={},this._glyphInfo={},this._sourceDataMaxLOD=25}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}createTileAndParse(i,e){var r=this;return(0,et.Z)(function*(){const{key:n}=i,l={};for(const o of Object.keys(i.sourceName2DataAndRefKey))l[o]=i.sourceName2DataAndRefKey[o].refKey;const a=new ot(n,l,r,r._styleRepository);try{return yield a.parse({...i,sourceDataMaxLOD:r._sourceDataMaxLOD},e)}catch(o){if(a.setObsolete(),a.release(),!(0,Ot.D_)(o))throw o;return null}})()}updateStyle(i){if(!i||0===i.length||!this._styleRepository)return;const e=this._styleRepository;for(const r of i){const l=r.data;switch(r.type){case st.Fr.PAINTER_CHANGED:e.setPaintProperties(l.layer,l.paint);break;case st.Fr.LAYOUT_CHANGED:e.setLayoutProperties(l.layer,l.layout);break;case st.Fr.LAYER_REMOVED:e.deleteStyleLayer(l.layer);break;case st.Fr.LAYER_CHANGED:e.setStyleLayer(l.layer,l.index);break;case st.Fr.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(i){const{style:e,sourceDataMaxLOD:r}=i;this._styleRepository=new St.Z(e),this._sourceDataMaxLOD=r,this._spriteInfo={},this._glyphInfo={}}fetchSprites(i,e,r){const n=[],l=this._spriteInfo;for(const a of i)void 0===l[a.name]&&n.push(a);return 0===n.length?Promise.resolve():e.invoke("getSprites",n,{signal:r?.signal}).then(a=>{for(const o in a)l[o]=a[o]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(i,e,r,n,l){const a=[];let o=this._glyphInfo[e];return o?r.forEach(h=>{o[h]||a.push(h)}):(o=this._glyphInfo[e]=[],r.forEach(h=>a.push(h))),0===a.length?Promise.resolve():n.invoke("getGlyphs",{tileID:i,font:e,codePoints:a},l).then(h=>{for(let u=0;u<h.length;u++)h[u]&&(o[u]=h[u])})}getGlyphItems(i){return this._glyphInfo[i]}}},9655:($t,Gt,j)=>{j.d(Gt,{JM:()=>st,R8:()=>et,cn:()=>Ot,v7:()=>Y});const et=!0,Ot=32,st=1.5,Y=200},28179:($t,Gt,j)=>{j.d(Gt,{z:()=>q});var et=j(11196),Ot=j(99657);function st(H,S){return H.x===S.x&&H.y===S.y}function z(H,S){return H.x=S.y,H.y=-S.x,H}function ft(H,S){return H.x=-S.y,H.y=S.x,H}function gt(H,S){return H.x=S.x,H.y=S.y,H}function at(H,S){return H.x=-S.x,H.y=-S.y,H}function C(H){return Math.sqrt(H.x*H.x+H.y*H.y)}function G(H,S){return H.x*S.y-H.y*S.x}function F(H,S){return H.x*S.x+H.y*S.y}function P(H,S,tt,yt){return H.x=S.x*tt+S.y*yt,H.y=S.x*yt-S.y*tt,H}class q{constructor(S,tt,yt){this._writeVertex=S,this._writeTriangle=tt,this._canUseThinTessellation=yt,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(S,tt,yt=this._canUseThinTessellation){(function Y(H){if(!H)return;const S=H.length;if(S<=1)return;let tt=0;for(let yt=1;yt<S;yt++)st(H[yt],H[tt])||++tt===yt||(H[tt]=H[yt]);H.length=tt+1})(S),yt&&tt.halfWidth<Ot.do&&!tt.offset?this._tessellateThin(S,tt):this._tessellate(S,tt)}_tessellateThin(S,tt){if(S.length<2)return;const yt=tt.wrapDistance||65535;let _t=tt.initialDistance||0,pt=!1,Ut=S[0].x,vt=S[0].y;const It=S.length;for(let Mt=1;Mt<It;++Mt){pt&&(pt=!1,_t=0);let Lt=S[Mt].x,Ct=S[Mt].y,Nt=Lt-Ut,Q=Ct-vt,ut=Math.sqrt(Nt*Nt+Q*Q);if(Nt/=ut,Q/=ut,_t+ut>yt){pt=!0;const t=(yt-_t)/ut;ut=yt-_t,Lt=(1-t)*Ut+t*Lt,Ct=(1-t)*vt+t*Ct,--Mt}const $=this._writeVertex(Ut,vt,0,0,Nt,Q,Q,-Nt,0,-1,_t),it=this._writeVertex(Ut,vt,0,0,Nt,Q,-Q,Nt,0,1,_t);_t+=ut;const Pt=this._writeVertex(Lt,Ct,0,0,Nt,Q,Q,-Nt,0,-1,_t),U=this._writeVertex(Lt,Ct,0,0,Nt,Q,-Q,Nt,0,1,_t);this._writeTriangle($,it,Pt),this._writeTriangle(it,Pt,U),Ut=Lt,vt=Ct}}_tessellate(S,tt){const _t=S[S.length-1],pt=st(S[0],_t);if(S.length<(pt?3:2))return;const vt=tt.pixelCoordRatio,It=null!=tt.capType?tt.capType:et.RL.BUTT,Mt=null!=tt.joinType?tt.joinType:et.AH.MITER,Lt=null!=tt.miterLimit?Math.min(tt.miterLimit,4):2,Ct=null!=tt.roundLimit?Math.min(tt.roundLimit,1.05):1.05,Nt=null!=tt.halfWidth?tt.halfWidth:2,Q=!!tt.textured;let ut,$,it,Pt=null;const U=this._prevNormal,t=this._nextNormal;let kt=-1,wt=-1;const rt=this._joinNormal;let ct,lt;const zt=this._textureNormalLeft,c=this._textureNormalRight,E=this._textureNormal;let _=-1,T=-1;const A=tt.wrapDistance||65535;let m=tt.initialDistance||0;const O=this._writeVertex,k=this._writeTriangle,X=(Tt,At,ht,J,W,mt)=>{const Ht=O($,it,ct,lt,ht,J,Tt,At,W,mt,m);return _>=0&&T>=0&&Ht>=0&&k(_,T,Ht),_=T,T=Ht,Ht};pt&&(ut=S[S.length-2],t.x=_t.x-ut.x,t.y=_t.y-ut.y,wt=C(t),t.x/=wt,t.y/=wt);let dt=!1;for(let Tt=0;Tt<S.length;++Tt){if(dt&&(dt=!1,m=0),ut&&(U.x=-t.x,U.y=-t.y,kt=wt,m+kt>A&&(dt=!0)),dt){const ot=(A-m)/kt;kt=A-m,ut={x:(1-ot)*ut.x+ot*S[Tt].x,y:(1-ot)*ut.y+ot*S[Tt].y},--Tt}else ut=S[Tt];$=ut.x,it=ut.y;const At=Tt<=0&&!dt,ht=Tt===S.length-1;if(At||(m+=kt),Pt=ht?pt?S[1]:null:S[Tt+1],Pt?(t.x=Pt.x-$,t.y=Pt.y-it,wt=C(t),t.x/=wt,t.y/=wt):(t.x=void 0,t.y=void 0),!pt){if(At){ft(rt,t),ct=rt.x,lt=rt.y,It===et.RL.SQUARE&&(X(-t.y-t.x,t.x-t.y,t.x,t.y,0,-1),X(t.y-t.x,-t.x-t.y,t.x,t.y,0,1)),It===et.RL.ROUND&&(X(-t.y-t.x,t.x-t.y,t.x,t.y,-1,-1),X(t.y-t.x,-t.x-t.y,t.x,t.y,-1,1)),It!==et.RL.ROUND&&It!==et.RL.BUTT||(X(-t.y,t.x,t.x,t.y,0,-1),X(t.y,-t.x,t.x,t.y,0,1));continue}if(ht){z(rt,U),ct=rt.x,lt=rt.y,It!==et.RL.ROUND&&It!==et.RL.BUTT||(X(U.y,-U.x,-U.x,-U.y,0,-1),X(-U.y,U.x,-U.x,-U.y,0,1)),It===et.RL.SQUARE&&(X(U.y-U.x,-U.x-U.y,-U.x,-U.y,0,-1),X(-U.y-U.x,U.x-U.y,-U.x,-U.y,0,1)),It===et.RL.ROUND&&(X(U.y-U.x,-U.x-U.y,-U.x,-U.y,1,-1),X(-U.y-U.x,U.x-U.y,-U.x,-U.y,1,1));continue}}let J,W,mt=-G(U,t);if(Math.abs(mt)<.01)F(U,t)>0?(rt.x=U.x,rt.y=U.y,mt=1,J=Number.MAX_VALUE,W=!0):(ft(rt,t),mt=1,J=1,W=!1);else{rt.x=(U.x+t.x)/mt,rt.y=(U.y+t.y)/mt,J=C(rt);const ot=(J-1)*Nt*vt;W=J>4||ot>kt&&ot>wt}ct=rt.x,lt=rt.y;let Ht=Mt;switch(Mt){case et.AH.BEVEL:J<1.05&&(Ht=et.AH.MITER);break;case et.AH.ROUND:J<Ct&&(Ht=et.AH.MITER);break;case et.AH.MITER:J>Lt&&(Ht=et.AH.BEVEL)}switch(Ht){case et.AH.MITER:if(X(rt.x,rt.y,-U.x,-U.y,0,-1),X(-rt.x,-rt.y,-U.x,-U.y,0,1),ht)break;if(Q){const ot=dt?0:m;_=this._writeVertex($,it,ct,lt,t.x,t.y,rt.x,rt.y,0,-1,ot),T=this._writeVertex($,it,ct,lt,t.x,t.y,-rt.x,-rt.y,0,1,ot)}break;case et.AH.BEVEL:{const ot=mt<0;let St,Bt,Zt,f;if(ot){const n=_;_=T,T=n,St=zt,Bt=c}else St=c,Bt=zt;if(W)Zt=ot?ft(this._innerPrev,U):z(this._innerPrev,U),f=ot?z(this._innerNext,t):ft(this._innerNext,t);else{const n=ot?at(this._inner,rt):gt(this._inner,rt);Zt=n,f=n}const i=ot?z(this._bevelStart,U):ft(this._bevelStart,U);X(Zt.x,Zt.y,-U.x,-U.y,St.x,St.y);const e=X(i.x,i.y,-U.x,-U.y,Bt.x,Bt.y);if(ht)break;const r=ot?ft(this._bevelEnd,t):z(this._bevelEnd,t);if(W){const n=this._writeVertex($,it,ct,lt,-U.x,-U.y,0,0,0,0,m);_=this._writeVertex($,it,ct,lt,t.x,t.y,f.x,f.y,St.x,St.y,m),T=this._writeVertex($,it,ct,lt,t.x,t.y,r.x,r.y,Bt.x,Bt.y,m),this._writeTriangle(e,n,T)}else{if(Q){const n=this._bevelMiddle;n.x=(i.x+r.x)/2,n.y=(i.y+r.y)/2,P(E,n,-U.x,-U.y),X(n.x,n.y,-U.x,-U.y,E.x,E.y),P(E,n,t.x,t.y),_=this._writeVertex($,it,ct,lt,t.x,t.y,n.x,n.y,E.x,E.y,m),T=this._writeVertex($,it,ct,lt,t.x,t.y,f.x,f.y,St.x,St.y,m)}else{const n=_;_=T,T=n}X(r.x,r.y,t.x,t.y,Bt.x,Bt.y)}if(ot){const n=_;_=T,T=n}break}case et.AH.ROUND:{const ot=mt<0;let St,Bt;if(ot){const M=_;_=T,T=M,St=zt,Bt=c}else St=c,Bt=zt;const Zt=ot?at(this._inner,rt):gt(this._inner,rt);let f,i;W?(f=ot?ft(this._innerPrev,U):z(this._innerPrev,U),i=ot?z(this._innerNext,t):ft(this._innerNext,t)):(f=Zt,i=Zt);const e=ot?z(this._roundStart,U):ft(this._roundStart,U),r=ot?ft(this._roundEnd,t):z(this._roundEnd,t),n=X(f.x,f.y,-U.x,-U.y,St.x,St.y),l=X(e.x,e.y,-U.x,-U.y,Bt.x,Bt.y);if(ht)break;const a=this._writeVertex($,it,ct,lt,-U.x,-U.y,0,0,0,0,m);W||this._writeTriangle(_,T,a);const o=at(this._outer,Zt),h=this._writeVertex($,it,ct,lt,t.x,t.y,r.x,r.y,Bt.x,Bt.y,m);let u,d;const y=J>2;if(y){let M;J!==Number.MAX_VALUE?(o.x/=J,o.y/=J,M=F(U,o),M=(J*(M*M-1)+1)/M):M=-1,u=ot?z(this._startBreak,U):ft(this._startBreak,U),u.x+=U.x*M,u.y+=U.y*M,d=ot?ft(this._endBreak,t):z(this._endBreak,t),d.x+=t.x*M,d.y+=t.y*M}P(E,o,-U.x,-U.y);const R=this._writeVertex($,it,ct,lt,-U.x,-U.y,o.x,o.y,E.x,E.y,m);P(E,o,t.x,t.y);const x=Q?this._writeVertex($,it,ct,lt,t.x,t.y,o.x,o.y,E.x,E.y,m):R,p=a,N=Q?this._writeVertex($,it,ct,lt,t.x,t.y,0,0,0,0,m):a;let B=-1,g=-1;if(y&&(P(E,u,-U.x,-U.y),B=this._writeVertex($,it,ct,lt,-U.x,-U.y,u.x,u.y,E.x,E.y,m),P(E,d,t.x,t.y),g=this._writeVertex($,it,ct,lt,t.x,t.y,d.x,d.y,E.x,E.y,m)),Q?y?(this._writeTriangle(p,l,B),this._writeTriangle(p,B,R),this._writeTriangle(N,x,g),this._writeTriangle(N,g,h)):(this._writeTriangle(p,l,R),this._writeTriangle(N,x,h)):y?(this._writeTriangle(a,l,B),this._writeTriangle(a,B,g),this._writeTriangle(a,g,h)):(this._writeTriangle(a,l,R),this._writeTriangle(a,x,h)),W?(_=this._writeVertex($,it,ct,lt,t.x,t.y,i.x,i.y,St.x,St.y,m),T=h):(_=Q?this._writeVertex($,it,ct,lt,t.x,t.y,i.x,i.y,St.x,St.y,m):n,this._writeTriangle(_,N,h),T=h),ot){const M=_;_=T,T=M}break}}}}}},99657:($t,Gt,j)=>{j.d(Gt,{$0:()=>St,A5:()=>K,BZ:()=>I,FM:()=>Bt,GV:()=>v,Ib:()=>$,J1:()=>V,JS:()=>r,KA:()=>n,Kt:()=>Q,Ly:()=>kt,NG:()=>M,NT:()=>nt,NY:()=>it,Of:()=>zt,Pp:()=>q,S3:()=>X,Sf:()=>lt,Uz:()=>g,Vo:()=>J,Zt:()=>ct,_8:()=>b,_E:()=>ht,ad:()=>G,bm:()=>U,ce:()=>wt,cz:()=>rt,dD:()=>At,do:()=>O,fG:()=>Tt,g3:()=>T,gj:()=>Lt,i9:()=>ft,iA:()=>Ht,iD:()=>Mt,j1:()=>t,k9:()=>st,kU:()=>A,l3:()=>D,nn:()=>L,pd:()=>dt,s4:()=>mt,uk:()=>S,vk:()=>c,wJ:()=>ut,wN:()=>k,wi:()=>E,zZ:()=>Pt});const st=1e-30,ft=512,G=16777216,q=8,S=29,Mt=24,Lt=4,Q=0,ut=0,$=0,it=1,Pt=2,U=3,t=4,kt=5,wt=6,rt=12,ct=5,lt=6,zt=5,c=6;var E,w;(w=E||(E={}))[w.FilterFlags=0]="FilterFlags",w[w.Animation=1]="Animation",w[w.GPGPU=2]="GPGPU",w[w.VV=3]="VV",w[w.DD0=4]="DD0",w[w.DD1=5]="DD1",w[w.DD2=6]="DD2";const T=8,A=T<<1,O=1.05,k=3,X=1,dt=3,Tt=3,At=5,ht=6,J=1.15,mt=2,Ht=128,St=256-2*mt,Bt=2,r=10,n=1024,g=128,M=4,I=1,L=1<<20,V=.75,D=10,v=.75,b=256,K=32,nt=512},39237:($t,Gt,j)=>{var et,Ot,st,Y,z,ft,gt,at,C,G,F,P,q,H,S,tt,yt,_t,pt,Ut,t;j.d(Gt,{Br:()=>tt,Ho:()=>pt,LR:()=>ft,Lu:()=>Ct,MX:()=>Ot,No:()=>q,Se:()=>Q,Tg:()=>yt,V1:()=>vt,V7:()=>Pt,VI:()=>H,VY:()=>Mt,Wf:()=>gt,Xg:()=>Lt,Y5:()=>it,_g:()=>It,cw:()=>F,db:()=>Y,e8:()=>P,g:()=>at,l1:()=>_t,lP:()=>S,lk:()=>et,q_:()=>Nt,qi:()=>Ut,w0:()=>z,wb:()=>C,xS:()=>G,zi:()=>st}),(t=et||(et={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ot||(Ot={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(st||(st={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(Y||(Y={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(z||(z={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(ft||(ft={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(gt||(gt={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(at||(at={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(C||(C={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(G||(G={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(F||(F={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(P||(P={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(q||(q={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(H||(H={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(S||(S={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(tt||(tt={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(yt||(yt={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(_t||(_t={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(pt||(pt={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Ut||(Ut={}));const vt=33984;var It,Mt,Lt;(function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"})(It||(It={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Mt||(Mt={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(Lt||(Lt={}));const Ct=33306;var Nt,Q,ut,$,it,Pt,U;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(Nt||(Nt={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(Q||(Q={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(ut||(ut={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}($||($={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(it||(it={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(Pt||(Pt={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(U||(U={}))}}]);